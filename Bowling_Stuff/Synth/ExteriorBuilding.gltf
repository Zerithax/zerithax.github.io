{
    "accessors": {
        "accessors_accessor_buffer_Cube.009_0": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.009_0",
            "byteOffset": 0,
            "byteStride": 12,
            "componentType": 5126,
            "count": 4,
            "max": [
                25.711835861206055,
                1.140588402748108,
                3.9581209421157837e-07
            ],
            "min": [
                -25.711835861206055,
                -1.1405880451202393,
                3.948807716369629e-07
            ],
            "name": "accessor_buffer_Cube.009_0",
            "type": "VEC3"
        },
        "accessors_accessor_buffer_Cube.009_1": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.009_0",
            "byteOffset": 48,
            "byteStride": 12,
            "componentType": 5126,
            "count": 4,
            "max": [
                0,
                0,
                1.0
            ],
            "min": [
                0.0,
                -4.0826414471339945e-10,
                1.0
            ],
            "name": "accessor_buffer_Cube.009_1",
            "type": "VEC3"
        },
        "accessors_accessor_buffer_Cube.009_2": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.009_0",
            "byteOffset": 96,
            "byteStride": 8,
            "componentType": 5126,
            "count": 4,
            "max": [
                14.249999046325684,
                14.25
            ],
            "min": [
                -13.249999046325684,
                -13.25
            ],
            "name": "accessor_buffer_Cube.009_2",
            "type": "VEC2"
        },
        "accessors_accessor_buffer_Cube.009_3": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.009_1",
            "byteOffset": 0,
            "byteStride": 2,
            "componentType": 5123,
            "count": 6,
            "max": [
                3
            ],
            "min": [
                0
            ],
            "name": "accessor_buffer_Cube.009_3",
            "type": "SCALAR"
        },
        "accessors_accessor_buffer_Cube.010_0": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.010_0",
            "byteOffset": 0,
            "byteStride": 12,
            "componentType": 5126,
            "count": 162,
            "max": [
                25.711835861206055,
                1.660447597503662,
                1.6809741258621216
            ],
            "min": [
                -25.711835861206055,
                -0.6217094659805298,
                0.009337827563285828
            ],
            "name": "accessor_buffer_Cube.010_0",
            "type": "VEC3"
        },
        "accessors_accessor_buffer_Cube.010_1": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.010_0",
            "byteOffset": 1944,
            "byteStride": 12,
            "componentType": 5126,
            "count": 162,
            "max": [
                1.0,
                1.0,
                1.0
            ],
            "min": [
                -1.0,
                -1.0,
                -0.9936637878417969
            ],
            "name": "accessor_buffer_Cube.010_1",
            "type": "VEC3"
        },
        "accessors_accessor_buffer_Cube.010_2": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.010_0",
            "byteOffset": 3888,
            "byteStride": 8,
            "componentType": 5126,
            "count": 162,
            "max": [
                0.991729736328125,
                0.9988359386334196
            ],
            "min": [
                0.003956570290029049,
                0.0011640191078186035
            ],
            "name": "accessor_buffer_Cube.010_2",
            "type": "VEC2"
        },
        "accessors_accessor_buffer_Cube.010_3": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.010_1",
            "byteOffset": 0,
            "byteStride": 2,
            "componentType": 5123,
            "count": 252,
            "max": [
                161
            ],
            "min": [
                0
            ],
            "name": "accessor_buffer_Cube.010_3",
            "type": "SCALAR"
        },
        "accessors_accessor_buffer_Cube.013_0": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.013_0",
            "byteOffset": 0,
            "byteStride": 12,
            "componentType": 5126,
            "count": 584,
            "max": [
                142.0005340576172,
                2.4795355796813965,
                285.3477783203125
            ],
            "min": [
                -142.0005340576172,
                -2.432851791381836,
                2.0
            ],
            "name": "accessor_buffer_Cube.013_0",
            "type": "VEC3"
        },
        "accessors_accessor_buffer_Cube.013_1": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.013_0",
            "byteOffset": 7008,
            "byteStride": 12,
            "componentType": 5126,
            "count": 584,
            "max": [
                1.0,
                1.0,
                1.0
            ],
            "min": [
                -1.0,
                -1.0,
                -1.0
            ],
            "name": "accessor_buffer_Cube.013_1",
            "type": "VEC3"
        },
        "accessors_accessor_buffer_Cube.013_2": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.013_1",
            "byteOffset": 0,
            "byteStride": 2,
            "componentType": 5123,
            "count": 912,
            "max": [
                583
            ],
            "min": [
                0
            ],
            "name": "accessor_buffer_Cube.013_2",
            "type": "SCALAR"
        },
        "accessors_accessor_buffer_Cube.020_0": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.020_0",
            "byteOffset": 0,
            "byteStride": 12,
            "componentType": 5126,
            "count": 166,
            "max": [
                0.049999285489320755,
                0.5249795317649841,
                0.5249814391136169
            ],
            "min": [
                -0.050000716000795364,
                -0.32502061128616333,
                -0.3250187039375305
            ],
            "name": "accessor_buffer_Cube.020_0",
            "type": "VEC3"
        },
        "accessors_accessor_buffer_Cube.020_1": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.020_0",
            "byteOffset": 1992,
            "byteStride": 12,
            "componentType": 5126,
            "count": 166,
            "max": [
                1.0,
                0.9999999403953552,
                1.0
            ],
            "min": [
                -1.0,
                -1.0,
                -1.0
            ],
            "name": "accessor_buffer_Cube.020_1",
            "type": "VEC3"
        },
        "accessors_accessor_buffer_Cube.020_2": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.020_1",
            "byteOffset": 0,
            "byteStride": 2,
            "componentType": 5123,
            "count": 324,
            "max": [
                165
            ],
            "min": [
                0
            ],
            "name": "accessor_buffer_Cube.020_2",
            "type": "SCALAR"
        },
        "accessors_accessor_buffer_Cube.021_0": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.021_0",
            "byteOffset": 0,
            "byteStride": 12,
            "componentType": 5126,
            "count": 166,
            "max": [
                0.049999285489320755,
                0.5249795317649841,
                0.5249814391136169
            ],
            "min": [
                -0.050000716000795364,
                -0.32502061128616333,
                -0.3250187039375305
            ],
            "name": "accessor_buffer_Cube.021_0",
            "type": "VEC3"
        },
        "accessors_accessor_buffer_Cube.021_1": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.021_0",
            "byteOffset": 1992,
            "byteStride": 12,
            "componentType": 5126,
            "count": 166,
            "max": [
                1.0,
                0.9999999403953552,
                1.0
            ],
            "min": [
                -1.0,
                -1.0,
                -1.0
            ],
            "name": "accessor_buffer_Cube.021_1",
            "type": "VEC3"
        },
        "accessors_accessor_buffer_Cube.021_2": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.021_1",
            "byteOffset": 0,
            "byteStride": 2,
            "componentType": 5123,
            "count": 324,
            "max": [
                165
            ],
            "min": [
                0
            ],
            "name": "accessor_buffer_Cube.021_2",
            "type": "SCALAR"
        },
        "accessors_accessor_buffer_Cube.022_0": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.022_0",
            "byteOffset": 0,
            "byteStride": 12,
            "componentType": 5126,
            "count": 166,
            "max": [
                0.049999285489320755,
                0.5249795317649841,
                0.5249814391136169
            ],
            "min": [
                -0.050000716000795364,
                -0.32502061128616333,
                -0.3250187039375305
            ],
            "name": "accessor_buffer_Cube.022_0",
            "type": "VEC3"
        },
        "accessors_accessor_buffer_Cube.022_1": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.022_0",
            "byteOffset": 1992,
            "byteStride": 12,
            "componentType": 5126,
            "count": 166,
            "max": [
                1.0,
                0.9999999403953552,
                1.0
            ],
            "min": [
                -1.0,
                -1.0,
                -1.0
            ],
            "name": "accessor_buffer_Cube.022_1",
            "type": "VEC3"
        },
        "accessors_accessor_buffer_Cube.022_2": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.022_1",
            "byteOffset": 0,
            "byteStride": 2,
            "componentType": 5123,
            "count": 324,
            "max": [
                165
            ],
            "min": [
                0
            ],
            "name": "accessor_buffer_Cube.022_2",
            "type": "SCALAR"
        },
        "accessors_accessor_buffer_Cube.023_0": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.023_0",
            "byteOffset": 0,
            "byteStride": 12,
            "componentType": 5126,
            "count": 166,
            "max": [
                0.049999285489320755,
                0.5249795317649841,
                0.5249814391136169
            ],
            "min": [
                -0.050000716000795364,
                -0.32502061128616333,
                -0.3250187039375305
            ],
            "name": "accessor_buffer_Cube.023_0",
            "type": "VEC3"
        },
        "accessors_accessor_buffer_Cube.023_1": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.023_0",
            "byteOffset": 1992,
            "byteStride": 12,
            "componentType": 5126,
            "count": 166,
            "max": [
                1.0,
                0.9999999403953552,
                1.0
            ],
            "min": [
                -1.0,
                -1.0,
                -1.0
            ],
            "name": "accessor_buffer_Cube.023_1",
            "type": "VEC3"
        },
        "accessors_accessor_buffer_Cube.023_2": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.023_1",
            "byteOffset": 0,
            "byteStride": 2,
            "componentType": 5123,
            "count": 324,
            "max": [
                165
            ],
            "min": [
                0
            ],
            "name": "accessor_buffer_Cube.023_2",
            "type": "SCALAR"
        },
        "accessors_accessor_buffer_Cube.024_0": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.024_0",
            "byteOffset": 0,
            "byteStride": 12,
            "componentType": 5126,
            "count": 166,
            "max": [
                0.049999285489320755,
                0.5249795317649841,
                0.5249814391136169
            ],
            "min": [
                -0.050000716000795364,
                -0.32502061128616333,
                -0.3250187039375305
            ],
            "name": "accessor_buffer_Cube.024_0",
            "type": "VEC3"
        },
        "accessors_accessor_buffer_Cube.024_1": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.024_0",
            "byteOffset": 1992,
            "byteStride": 12,
            "componentType": 5126,
            "count": 166,
            "max": [
                1.0,
                0.9999999403953552,
                1.0
            ],
            "min": [
                -1.0,
                -1.0,
                -1.0
            ],
            "name": "accessor_buffer_Cube.024_1",
            "type": "VEC3"
        },
        "accessors_accessor_buffer_Cube.024_2": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.024_1",
            "byteOffset": 0,
            "byteStride": 2,
            "componentType": 5123,
            "count": 324,
            "max": [
                165
            ],
            "min": [
                0
            ],
            "name": "accessor_buffer_Cube.024_2",
            "type": "SCALAR"
        },
        "accessors_accessor_buffer_Cube.025_0": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.025_0",
            "byteOffset": 0,
            "byteStride": 12,
            "componentType": 5126,
            "count": 166,
            "max": [
                0.049999285489320755,
                0.5249795317649841,
                0.5249814391136169
            ],
            "min": [
                -0.050000716000795364,
                -0.32502061128616333,
                -0.3250187039375305
            ],
            "name": "accessor_buffer_Cube.025_0",
            "type": "VEC3"
        },
        "accessors_accessor_buffer_Cube.025_1": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.025_0",
            "byteOffset": 1992,
            "byteStride": 12,
            "componentType": 5126,
            "count": 166,
            "max": [
                1.0,
                0.9999999403953552,
                1.0
            ],
            "min": [
                -1.0,
                -1.0,
                -1.0
            ],
            "name": "accessor_buffer_Cube.025_1",
            "type": "VEC3"
        },
        "accessors_accessor_buffer_Cube.025_2": {
            "bufferView": "bufferViews_bufferView_buffer_Cube.025_1",
            "byteOffset": 0,
            "byteStride": 2,
            "componentType": 5123,
            "count": 324,
            "max": [
                165
            ],
            "min": [
                0
            ],
            "name": "accessor_buffer_Cube.025_2",
            "type": "SCALAR"
        }
    },
    "asset": {
        "profile": {
            "api": "WebGL",
            "version": "1.0"
        },
        "version": "1.0"
    },
    "bufferViews": {
        "bufferViews_bufferView_buffer_Cube.009_0": {
            "buffer": "buffers_buffer_combined",
            "byteLength": 128,
            "byteOffset": 0,
            "name": "bufferView_buffer_Cube.009_0",
            "target": 34962
        },
        "bufferViews_bufferView_buffer_Cube.009_1": {
            "buffer": "buffers_buffer_combined",
            "byteLength": 12,
            "byteOffset": 128,
            "name": "bufferView_buffer_Cube.009_1",
            "target": 34963
        },
        "bufferViews_bufferView_buffer_Cube.010_0": {
            "buffer": "buffers_buffer_combined",
            "byteLength": 5184,
            "byteOffset": 43772,
            "name": "bufferView_buffer_Cube.010_0",
            "target": 34962
        },
        "bufferViews_bufferView_buffer_Cube.010_1": {
            "buffer": "buffers_buffer_combined",
            "byteLength": 504,
            "byteOffset": 48956,
            "name": "bufferView_buffer_Cube.010_1",
            "target": 34963
        },
        "bufferViews_bufferView_buffer_Cube.013_0": {
            "buffer": "buffers_buffer_combined",
            "byteLength": 14016,
            "byteOffset": 27932,
            "name": "bufferView_buffer_Cube.013_0",
            "target": 34962
        },
        "bufferViews_bufferView_buffer_Cube.013_1": {
            "buffer": "buffers_buffer_combined",
            "byteLength": 1824,
            "byteOffset": 41948,
            "name": "bufferView_buffer_Cube.013_1",
            "target": 34963
        },
        "bufferViews_bufferView_buffer_Cube.020_0": {
            "buffer": "buffers_buffer_combined",
            "byteLength": 3984,
            "byteOffset": 140,
            "name": "bufferView_buffer_Cube.020_0",
            "target": 34962
        },
        "bufferViews_bufferView_buffer_Cube.020_1": {
            "buffer": "buffers_buffer_combined",
            "byteLength": 648,
            "byteOffset": 4124,
            "name": "bufferView_buffer_Cube.020_1",
            "target": 34963
        },
        "bufferViews_bufferView_buffer_Cube.021_0": {
            "buffer": "buffers_buffer_combined",
            "byteLength": 3984,
            "byteOffset": 4772,
            "name": "bufferView_buffer_Cube.021_0",
            "target": 34962
        },
        "bufferViews_bufferView_buffer_Cube.021_1": {
            "buffer": "buffers_buffer_combined",
            "byteLength": 648,
            "byteOffset": 8756,
            "name": "bufferView_buffer_Cube.021_1",
            "target": 34963
        },
        "bufferViews_bufferView_buffer_Cube.022_0": {
            "buffer": "buffers_buffer_combined",
            "byteLength": 3984,
            "byteOffset": 9404,
            "name": "bufferView_buffer_Cube.022_0",
            "target": 34962
        },
        "bufferViews_bufferView_buffer_Cube.022_1": {
            "buffer": "buffers_buffer_combined",
            "byteLength": 648,
            "byteOffset": 13388,
            "name": "bufferView_buffer_Cube.022_1",
            "target": 34963
        },
        "bufferViews_bufferView_buffer_Cube.023_0": {
            "buffer": "buffers_buffer_combined",
            "byteLength": 3984,
            "byteOffset": 14036,
            "name": "bufferView_buffer_Cube.023_0",
            "target": 34962
        },
        "bufferViews_bufferView_buffer_Cube.023_1": {
            "buffer": "buffers_buffer_combined",
            "byteLength": 648,
            "byteOffset": 18020,
            "name": "bufferView_buffer_Cube.023_1",
            "target": 34963
        },
        "bufferViews_bufferView_buffer_Cube.024_0": {
            "buffer": "buffers_buffer_combined",
            "byteLength": 3984,
            "byteOffset": 18668,
            "name": "bufferView_buffer_Cube.024_0",
            "target": 34962
        },
        "bufferViews_bufferView_buffer_Cube.024_1": {
            "buffer": "buffers_buffer_combined",
            "byteLength": 648,
            "byteOffset": 22652,
            "name": "bufferView_buffer_Cube.024_1",
            "target": 34963
        },
        "bufferViews_bufferView_buffer_Cube.025_0": {
            "buffer": "buffers_buffer_combined",
            "byteLength": 3984,
            "byteOffset": 23300,
            "name": "bufferView_buffer_Cube.025_0",
            "target": 34962
        },
        "bufferViews_bufferView_buffer_Cube.025_1": {
            "buffer": "buffers_buffer_combined",
            "byteLength": 648,
            "byteOffset": 27284,
            "name": "bufferView_buffer_Cube.025_1",
            "target": 34963
        }
    },
    "buffers": {
        "buffers_buffer_combined": {
            "byteLength": 49460,
            "name": "buffer_combined",
            "type": "arraybuffer",
            "uri": "data:application/octet-stream;base64,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ZACVAWQAoQGTASIB4wGTAeMBIQDvAV8APADvATwAQwBLADoCCgFLAAoBRQEJABMCJAAJACQArgAOAuUBIQEOAiEBFQDfAC4BoQDfAKEAPwEmAg0CMgEmAjIBIwK9AA0BAwC9AAMA5AECATIAFwICARcCRwAaAQMCfAEaAXwBUwBCABQAUQBCAFEALwB2AfUAgAF2AYABAAC3AWYA/wC3Af8A/gC7AQgBDwK7AQ8CKAIFAkABigEFAooBIwAYAisBqQEYAqkBNQFhARUBhwBhAYcA6wBsANQB9gBsAPYAQgFgAAwCFwFgABcBxgCsAPIA1QCsANUApwEnABAC3wEnAN8B4AGGATYCAQCGAQEAbQF/ACUCjAF/AIwB8gFWASoCjQBWAY0AqAHdARIBqgHdAaoBUQGIAcwBpwCIAacADgAdAf8BiwAdAYsA2QEMAaYBtAAMAbQAuQAAAZwACwEAAQsB1wAcAt4AkwAcApMAPQCPAEEAuQGPALkBDwGDAfoA1gGDAdYBcgFZAUsBdQFZAXUBMAFiAK4BtgFiALYBgwClAWcAAQGlAQEBqACOAeoAhQCOAYUA+ACqAJoAcwGqAHMBCAA5AvUB4wA5AuMAPAK4ALYA2gC4ANoAOwJ9AUgBGQB9ARkARAA4Ac4ABAE4AQQBagHmAe0AOADmATgAGwG6Af0ALgK6AS4C9AC4ADsCPQJwATgA7QBwAe0AUgCKACcBxQGKAMUBHgIZAEgB0AArAu4AXwErAl8BEwHoATgCvwDoAb8ASgArAOoBkQArAJEASgEcALQBLQIcAC0CBQAlABIAWwAlAFsAcwAvAVkABwAvAQcAVQDWAGABRgLWAEYCbAHtARkCwgHtAcIBawHtAWsBqwDtAasA+gEyAngA+wEyAvsBiQAIApQBOQAIAjkAmQDnAccA5wDnAecAdgBWADoBmQFWAJkBZQDSAGcB8AHSAPABhwFlARsAkQFlAZEBrwHmANgAggDmAIIAOwA0AKsBywE0AMsBVwE0AFcBSAA0AEgAXgC1AUQCxAG1AcQBPwC1AT8A8wC1AfMABAJ3AM8BcgB3AHIAAwF3AAMBKAF3ACgByABYAE0AKgFYACoBHwKxAEYACwCxAAsABgKVABwBJwKVACcCCQHpASAAiQHpAYkBGAGWAGgBegCWAHoAswGSAGIBFgGSABYBnwBxAOAA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"
        }
    },
    "glExtensionsUsed": [],
    "images": {
        "images_CarpetLane": {
            "name": "CarpetLane",
            "uri": "CarpetLane.png"
        },
        "images_ExteriorWalls": {
            "name": "ExteriorWalls",
            "uri": "ExteriorWalls.png"
        }
    },
    "materials": {
        "materials_Carpet": {
            "name": "Carpet",
            "technique": "techniques_Carpet",
            "values": {
                "samp0": "texture_CarpetLane"
            }
        },
        "materials_ExteriorWalls": {
            "name": "ExteriorWalls",
            "technique": "techniques_ExteriorWalls",
            "values": {}
        },
        "materials_Neon Off": {
            "name": "Neon Off",
            "technique": "techniques_Neon Off",
            "values": {}
        }
    },
    "meshes": {
        "meshes_Cube.009": {
            "name": "Cube.009",
            "primitives": [
                {
                    "attributes": {
                        "NORMAL": "accessors_accessor_buffer_Cube.009_1",
                        "POSITION": "accessors_accessor_buffer_Cube.009_0",
                        "TEXCOORD_0": "accessors_accessor_buffer_Cube.009_2"
                    },
                    "indices": "accessors_accessor_buffer_Cube.009_3",
                    "material": "materials_Carpet",
                    "mode": 4
                }
            ]
        },
        "meshes_Cube.010": {
            "name": "Cube.010",
            "primitives": [
                {
                    "attributes": {
                        "NORMAL": "accessors_accessor_buffer_Cube.010_1",
                        "POSITION": "accessors_accessor_buffer_Cube.010_0",
                        "TEXCOORD_0": "accessors_accessor_buffer_Cube.010_2"
                    },
                    "indices": "accessors_accessor_buffer_Cube.010_3",
                    "material": "materials_ExteriorWalls",
                    "mode": 4
                }
            ]
        },
        "meshes_Cube.013": {
            "name": "Cube.013",
            "primitives": [
                {
                    "attributes": {
                        "NORMAL": "accessors_accessor_buffer_Cube.013_1",
                        "POSITION": "accessors_accessor_buffer_Cube.013_0"
                    },
                    "indices": "accessors_accessor_buffer_Cube.013_2",
                    "material": "materials_Neon Off",
                    "mode": 4
                }
            ]
        },
        "meshes_Cube.020": {
            "name": "Cube.020",
            "primitives": [
                {
                    "attributes": {
                        "NORMAL": "accessors_accessor_buffer_Cube.020_1",
                        "POSITION": "accessors_accessor_buffer_Cube.020_0"
                    },
                    "indices": "accessors_accessor_buffer_Cube.020_2",
                    "material": "materials_Neon Off",
                    "mode": 4
                }
            ]
        },
        "meshes_Cube.021": {
            "name": "Cube.021",
            "primitives": [
                {
                    "attributes": {
                        "NORMAL": "accessors_accessor_buffer_Cube.021_1",
                        "POSITION": "accessors_accessor_buffer_Cube.021_0"
                    },
                    "indices": "accessors_accessor_buffer_Cube.021_2",
                    "material": "materials_Neon Off",
                    "mode": 4
                }
            ]
        },
        "meshes_Cube.022": {
            "name": "Cube.022",
            "primitives": [
                {
                    "attributes": {
                        "NORMAL": "accessors_accessor_buffer_Cube.022_1",
                        "POSITION": "accessors_accessor_buffer_Cube.022_0"
                    },
                    "indices": "accessors_accessor_buffer_Cube.022_2",
                    "material": "materials_Neon Off",
                    "mode": 4
                }
            ]
        },
        "meshes_Cube.023": {
            "name": "Cube.023",
            "primitives": [
                {
                    "attributes": {
                        "NORMAL": "accessors_accessor_buffer_Cube.023_1",
                        "POSITION": "accessors_accessor_buffer_Cube.023_0"
                    },
                    "indices": "accessors_accessor_buffer_Cube.023_2",
                    "material": "materials_Neon Off",
                    "mode": 4
                }
            ]
        },
        "meshes_Cube.024": {
            "name": "Cube.024",
            "primitives": [
                {
                    "attributes": {
                        "NORMAL": "accessors_accessor_buffer_Cube.024_1",
                        "POSITION": "accessors_accessor_buffer_Cube.024_0"
                    },
                    "indices": "accessors_accessor_buffer_Cube.024_2",
                    "material": "materials_Neon Off",
                    "mode": 4
                }
            ]
        },
        "meshes_Cube.025": {
            "name": "Cube.025",
            "primitives": [
                {
                    "attributes": {
                        "NORMAL": "accessors_accessor_buffer_Cube.025_1",
                        "POSITION": "accessors_accessor_buffer_Cube.025_0"
                    },
                    "indices": "accessors_accessor_buffer_Cube.025_2",
                    "material": "materials_Neon Off",
                    "mode": 4
                }
            ]
        }
    },
    "nodes": {
        "nodes_Arrow1": {
            "meshes": [
                "meshes_Cube.021"
            ],
            "name": "Arrow1",
            "rotation": [
                -0.3826834559440613,
                0.0,
                0.0,
                0.9238795638084412
            ],
            "scale": [
                1.0,
                0.9999999403953552,
                0.9999999403953552
            ],
            "translation": [
                1.805804967880249,
                33.7703971862793,
                1.2112724781036377
            ]
        },
        "nodes_Arrow2": {
            "meshes": [
                "meshes_Cube.020"
            ],
            "name": "Arrow2",
            "rotation": [
                -0.3826834559440613,
                0.0,
                0.0,
                0.9238795638084412
            ],
            "scale": [
                1.0,
                0.9999999403953552,
                0.9999999403953552
            ],
            "translation": [
                1.805804967880249,
                32.07040023803711,
                1.2112724781036377
            ]
        },
        "nodes_Arrow3": {
            "meshes": [
                "meshes_Cube.022"
            ],
            "name": "Arrow3",
            "rotation": [
                -0.3826834559440613,
                0.0,
                0.0,
                0.9238795638084412
            ],
            "scale": [
                1.0,
                0.9999999403953552,
                0.9999999403953552
            ],
            "translation": [
                1.805804967880249,
                30.370399475097656,
                1.2112724781036377
            ]
        },
        "nodes_Arrow4": {
            "meshes": [
                "meshes_Cube.024"
            ],
            "name": "Arrow4",
            "rotation": [
                -0.3826834559440613,
                0.0,
                0.0,
                0.9238795638084412
            ],
            "scale": [
                1.0,
                0.9999999403953552,
                0.9999999403953552
            ],
            "translation": [
                -1.805799961090088,
                33.7703971862793,
                1.2112724781036377
            ]
        },
        "nodes_Arrow5": {
            "meshes": [
                "meshes_Cube.025"
            ],
            "name": "Arrow5",
            "rotation": [
                -0.3826834559440613,
                0.0,
                0.0,
                0.9238795638084412
            ],
            "scale": [
                1.0,
                0.9999999403953552,
                0.9999999403953552
            ],
            "translation": [
                -1.805799961090088,
                32.07040023803711,
                1.2112724781036377
            ]
        },
        "nodes_Arrow6": {
            "meshes": [
                "meshes_Cube.023"
            ],
            "name": "Arrow6",
            "rotation": [
                -0.3826834559440613,
                0.0,
                0.0,
                0.9238795638084412
            ],
            "scale": [
                1.0,
                0.9999999403953552,
                0.9999999403953552
            ],
            "translation": [
                -1.805799961090088,
                30.370399475097656,
                1.2112724781036377
            ]
        },
        "nodes_BezierCurve.005": {
            "name": "BezierCurve.005",
            "rotation": [
                -0.5000000596046448,
                0.5,
                0.5,
                0.5000000596046448
            ],
            "scale": [
                0.635848343372345,
                0.635848343372345,
                0.635848343372345
            ],
            "translation": [
                6.375284194946289,
                37.46181106567383,
                2.709237813949585
            ]
        },
        "nodes_BowlingRoomWalls.002": {
            "meshes": [
                "meshes_Cube.010"
            ],
            "name": "BowlingRoomWalls.002",
            "rotation": [
                0.0,
                0.0,
                0.0,
                1.0
            ],
            "scale": [
                1.0707520246505737,
                22.518556594848633,
                5.354085922241211
            ],
            "translation": [
                0.0,
                0.0,
                -0.04999759793281555
            ]
        },
        "nodes_BowlingRoomWalls.003": {
            "meshes": [
                "meshes_Cube.009"
            ],
            "name": "BowlingRoomWalls.003",
            "rotation": [
                0.0,
                0.0,
                0.0,
                1.0
            ],
            "scale": [
                1.0707520246505737,
                22.5185546875,
                5.354085922241211
            ],
            "translation": [
                0.0,
                11.684396743774414,
                0.0
            ]
        },
        "nodes_Cube.004": {
            "meshes": [
                "meshes_Cube.013"
            ],
            "name": "Cube.004",
            "rotation": [
                0.0,
                0.0,
                0.0,
                1.0
            ],
            "scale": [
                0.02500000037252903,
                2.1766300201416016,
                0.02500000037252903
            ],
            "translation": [
                0.0,
                32.071800231933594,
                -0.04999759793281555
            ]
        },
        "nodes_Scene_root": {
            "children": [
                "nodes_BowlingRoomWalls.003",
                "nodes_BezierCurve.005",
                "nodes_Arrow5",
                "nodes_Arrow4",
                "nodes_Arrow6",
                "nodes_Arrow3",
                "nodes_Arrow1",
                "nodes_Arrow2",
                "nodes_Cube.004",
                "nodes_BowlingRoomWalls.002"
            ],
            "matrix": [
                1.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                -1.0,
                0.0,
                0.0,
                1.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                1.0
            ],
            "name": "Scene_root"
        }
    },
    "programs": {
        "programs_Carpet": {
            "attributes": [
                "att0",
                "att1",
                "bl_Vertex",
                "bl_Normal"
            ],
            "fragmentShader": "shaders_CarpetFS",
            "name": "Carpet",
            "vertexShader": "shaders_CarpetVS"
        },
        "programs_ExteriorWalls": {
            "attributes": [
                "bl_Vertex",
                "bl_Normal"
            ],
            "fragmentShader": "shaders_ExteriorWallsFS",
            "name": "ExteriorWalls",
            "vertexShader": "shaders_ExteriorWallsVS"
        },
        "programs_Neon Off": {
            "attributes": [
                "bl_Vertex",
                "bl_Normal"
            ],
            "fragmentShader": "shaders_Neon OffFS",
            "name": "Neon Off",
            "vertexShader": "shaders_Neon OffVS"
        }
    },
    "samplers": {
        "samplers_default": {
            "name": "default"
        }
    },
    "scene": "scenes_Scene",
    "scenes": {
        "scenes_Scene": {
            "extras": {
                "active_camera": null,
                "background_color": [
                    0.061246056109666824,
                    0.061246056109666824,
                    0.061246056109666824
                ],
                "frames_per_second": 24
            },
            "name": "Scene",
            "nodes": [
                "nodes___scene_root_0_"
            ]
        }
    },
    "shaders": {
        "shaders_CarpetFS": {
            "name": "CarpetFS",
            "type": 35632,
            "uri": "data:text/plain;base64,I3ZlcnNpb24gMTAwCiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzOiBlbmFibGUKCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1hdDQgYmxfUHJvamVjdGlvbk1hdHJpeDsKdW5pZm9ybSBtYXQ0IGJsX01vZGVsVmlld01hdHJpeDsKdW5pZm9ybSBtYXQ0IGJsX01vZGVsVmlld01hdHJpeEludmVyc2U7CnVuaWZvcm0gbWF0MyBibF9Ob3JtYWxNYXRyaXg7CnVuaWZvcm0gbWF0NCBibF9Qcm9qZWN0aW9uTWF0cml4SW52ZXJzZTsKLyogQ29udmVydGVycyAqLw0KDQpmbG9hdCBjb252ZXJ0X3JnYmFfdG9fZmxvYXQodmVjNCBjb2xvcikNCnsNCiNpZmRlZiBVU0VfTkVXX1NIQURJTkcNCglyZXR1cm4gY29sb3IuciAqIDAuMjEyNiArIGNvbG9yLmcgKiAwLjcxNTIgKyBjb2xvci5iICogMC4wNzIyOw0KI2Vsc2UNCglyZXR1cm4gKGNvbG9yLnIgKyBjb2xvci5nICsgY29sb3IuYikgLyAzLjA7DQojZW5kaWYNCn0NCg0KZmxvYXQgZXhwX2JsZW5kZXIoZmxvYXQgZikNCnsNCglyZXR1cm4gcG93KDIuNzE4MjgxODI4NDYsIGYpOw0KfQ0KDQpmbG9hdCBjb21wYXRpYmxlX3BvdyhmbG9hdCB4LCBmbG9hdCB5KQ0Kew0KCWlmICh5ID09IDAuMCkgLyogeF4wIC0+IDEsIGluY2x1ZGluZyAwXjAgKi8NCgkJcmV0dXJuIDEuMDsNCg0KCS8qIGdsc2wgcG93IGRvZXNuJ3QgYWNjZXB0IG5lZ2F0aXZlIHggKi8NCglpZiAoeCA8IDAuMCkgew0KCQlpZiAobW9kKC15LCAyLjApID09IDAuMCkNCgkJCXJldHVybiBwb3coLXgsIHkpOw0KCQllbHNlDQoJCQlyZXR1cm4gLXBvdygteCwgeSk7DQoJfQ0KCWVsc2UgaWYgKHggPT0gMC4wKQ0KCQlyZXR1cm4gMC4wOw0KDQoJcmV0dXJuIHBvdyh4LCB5KTsNCn0NCg0Kdm9pZCByZ2JfdG9faHN2KHZlYzQgcmdiLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmxvYXQgY21heCwgY21pbiwgaCwgcywgdiwgY2RlbHRhOw0KCXZlYzMgYzsNCg0KCWNtYXggPSBtYXgocmdiWzBdLCBtYXgocmdiWzFdLCByZ2JbMl0pKTsNCgljbWluID0gbWluKHJnYlswXSwgbWluKHJnYlsxXSwgcmdiWzJdKSk7DQoJY2RlbHRhID0gY21heCAtIGNtaW47DQoNCgl2ID0gY21heDsNCglpZiAoY21heCAhPSAwLjApDQoJCXMgPSBjZGVsdGEgLyBjbWF4Ow0KCWVsc2Ugew0KCQlzID0gMC4wOw0KCQloID0gMC4wOw0KCX0NCg0KCWlmIChzID09IDAuMCkgew0KCQloID0gMC4wOw0KCX0NCgllbHNlIHsNCgkJYyA9ICh2ZWMzKGNtYXgsIGNtYXgsIGNtYXgpIC0gcmdiLnh5eikgLyBjZGVsdGE7DQoNCgkJaWYgKHJnYi54ID09IGNtYXgpIGggPSBjWzJdIC0gY1sxXTsNCgkJZWxzZSBpZiAocmdiLnkgPT0gY21heCkgaCA9IDIuMCArIGNbMF0gLSAgY1syXTsNCgkJZWxzZSBoID0gNC4wICsgY1sxXSAtIGNbMF07DQoNCgkJaCAvPSA2LjA7DQoNCgkJaWYgKGggPCAwLjApDQoJCQloICs9IDEuMDsNCgl9DQoNCglvdXRjb2wgPSB2ZWM0KGgsIHMsIHYsIHJnYi53KTsNCn0NCg0Kdm9pZCBoc3ZfdG9fcmdiKHZlYzQgaHN2LCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmxvYXQgaSwgZiwgcCwgcSwgdCwgaCwgcywgdjsNCgl2ZWMzIHJnYjsNCg0KCWggPSBoc3ZbMF07DQoJcyA9IGhzdlsxXTsNCgl2ID0gaHN2WzJdOw0KDQoJaWYgKHMgPT0gMC4wKSB7DQoJCXJnYiA9IHZlYzModiwgdiwgdik7DQoJfQ0KCWVsc2Ugew0KCQlpZiAoaCA9PSAxLjApDQoJCQloID0gMC4wOw0KDQoJCWggKj0gNi4wOw0KCQlpID0gZmxvb3IoaCk7DQoJCWYgPSBoIC0gaTsNCgkJcmdiID0gdmVjMyhmLCBmLCBmKTsNCgkJcCA9IHYgKiAoMS4wIC0gcyk7DQoJCXEgPSB2ICogKDEuMCAtIChzICogZikpOw0KCQl0ID0gdiAqICgxLjAgLSAocyAqICgxLjAgLSBmKSkpOw0KDQoJCWlmIChpID09IDAuMCkgcmdiID0gdmVjMyh2LCB0LCBwKTsNCgkJZWxzZSBpZiAoaSA9PSAxLjApIHJnYiA9IHZlYzMocSwgdiwgcCk7DQoJCWVsc2UgaWYgKGkgPT0gMi4wKSByZ2IgPSB2ZWMzKHAsIHYsIHQpOw0KCQllbHNlIGlmIChpID09IDMuMCkgcmdiID0gdmVjMyhwLCBxLCB2KTsNCgkJZWxzZSBpZiAoaSA9PSA0LjApIHJnYiA9IHZlYzModCwgcCwgdik7DQoJCWVsc2UgcmdiID0gdmVjMyh2LCBwLCBxKTsNCgl9DQoNCglvdXRjb2wgPSB2ZWM0KHJnYiwgaHN2LncpOw0KfQ0KDQpmbG9hdCBzcmdiX3RvX2xpbmVhcnJnYihmbG9hdCBjKQ0Kew0KCWlmIChjIDwgMC4wNDA0NSkNCgkJcmV0dXJuIChjIDwgMC4wKSA/IDAuMCA6IGMgKiAoMS4wIC8gMTIuOTIpOw0KCWVsc2UNCgkJcmV0dXJuIHBvdygoYyArIDAuMDU1KSAqICgxLjAgLyAxLjA1NSksIDIuNCk7DQp9DQoNCmZsb2F0IGxpbmVhcnJnYl90b19zcmdiKGZsb2F0IGMpDQp7DQoJaWYgKGMgPCAwLjAwMzEzMDgpDQoJCXJldHVybiAoYyA8IDAuMCkgPyAwLjAgOiBjICogMTIuOTI7DQoJZWxzZQ0KCQlyZXR1cm4gMS4wNTUgKiBwb3coYywgMS4wIC8gMi40KSAtIDAuMDU1Ow0KfQ0KDQp2b2lkIHNyZ2JfdG9fbGluZWFycmdiKHZlYzQgY29sX2Zyb20sIG91dCB2ZWM0IGNvbF90bykNCnsNCgljb2xfdG8uciA9IHNyZ2JfdG9fbGluZWFycmdiKGNvbF9mcm9tLnIpOw0KCWNvbF90by5nID0gc3JnYl90b19saW5lYXJyZ2IoY29sX2Zyb20uZyk7DQoJY29sX3RvLmIgPSBzcmdiX3RvX2xpbmVhcnJnYihjb2xfZnJvbS5iKTsNCgljb2xfdG8uYSA9IGNvbF9mcm9tLmE7DQp9DQoNCnZvaWQgbGluZWFycmdiX3RvX3NyZ2IodmVjNCBjb2xfZnJvbSwgb3V0IHZlYzQgY29sX3RvKQ0Kew0KCWNvbF90by5yID0gbGluZWFycmdiX3RvX3NyZ2IoY29sX2Zyb20ucik7DQoJY29sX3RvLmcgPSBsaW5lYXJyZ2JfdG9fc3JnYihjb2xfZnJvbS5nKTsNCgljb2xfdG8uYiA9IGxpbmVhcnJnYl90b19zcmdiKGNvbF9mcm9tLmIpOw0KCWNvbF90by5hID0gY29sX2Zyb20uYTsNCn0NCg0Kdm9pZCBjb2xvcl90b19ub3JtYWwodmVjMyBjb2xvciwgb3V0IHZlYzMgbm9ybWFsKQ0Kew0KCW5vcm1hbC54ID0gIDIuMCAqICgoY29sb3IucikgLSAwLjUpOw0KCW5vcm1hbC55ID0gLTIuMCAqICgoY29sb3IuZykgLSAwLjUpOw0KCW5vcm1hbC56ID0gIDIuMCAqICgoY29sb3IuYikgLSAwLjUpOw0KfQ0KDQp2b2lkIGNvbG9yX3RvX25vcm1hbF9uZXdfc2hhZGluZyh2ZWMzIGNvbG9yLCBvdXQgdmVjMyBub3JtYWwpDQp7DQoJbm9ybWFsLnggPSAgMi4wICogKChjb2xvci5yKSAtIDAuNSk7DQoJbm9ybWFsLnkgPSAgMi4wICogKChjb2xvci5nKSAtIDAuNSk7DQoJbm9ybWFsLnogPSAgMi4wICogKChjb2xvci5iKSAtIDAuNSk7DQp9DQoNCnZvaWQgY29sb3JfdG9fYmxlbmRlcl9ub3JtYWxfbmV3X3NoYWRpbmcodmVjMyBjb2xvciwgb3V0IHZlYzMgbm9ybWFsKQ0Kew0KCW5vcm1hbC54ID0gIDIuMCAqICgoY29sb3IucikgLSAwLjUpOw0KCW5vcm1hbC55ID0gLTIuMCAqICgoY29sb3IuZykgLSAwLjUpOw0KCW5vcm1hbC56ID0gLTIuMCAqICgoY29sb3IuYikgLSAwLjUpOw0KfQ0KDQojZGVmaW5lIE1fUEkgMy4xNDE1OTI2NTM1ODk3OTMyMzg0Ng0KI2RlZmluZSBNXzFfUEkgMC4zMTgzMDk4ODYxODM3OTA2OQ0KDQovKioqKioqKioqKiogU0hBREVSIE5PREVTICoqKioqKioqKioqKioqKi8NCg0Kdm9pZCB2Y29sX2F0dHJpYnV0ZSh2ZWM0IGF0dHZjb2wsIG91dCB2ZWM0IHZjb2wpDQp7DQoJdmNvbCA9IHZlYzQoYXR0dmNvbC54LCBhdHR2Y29sLnksIGF0dHZjb2wueiwgMS4wKTsNCn0NCg0Kdm9pZCB1dl9hdHRyaWJ1dGUodmVjMiBhdHR1diwgb3V0IHZlYzMgdXYpDQp7DQoJdXYgPSB2ZWMzKGF0dHV2ICogMi4wIC0gdmVjMigxLjAsIDEuMCksIDAuMCk7DQp9DQoNCnZvaWQgZ2VvbSgNCiAgICAgICAgdmVjMyBjbywgdmVjMyBub3IsIG1hdDQgdmlld2ludm1hdCwgdmVjMyBhdHRvcmNvLCB2ZWMyIGF0dHV2LCB2ZWM0IGF0dHZjb2wsDQogICAgICAgIG91dCB2ZWMzIGdsb2JhbCwgb3V0IHZlYzMgbG9jYWwsIG91dCB2ZWMzIHZpZXcsIG91dCB2ZWMzIG9yY28sIG91dCB2ZWMzIHV2LA0KICAgICAgICBvdXQgdmVjMyBub3JtYWwsIG91dCB2ZWM0IHZjb2wsIG91dCBmbG9hdCB2Y29sX2FscGhhLCBvdXQgZmxvYXQgZnJvbnRiYWNrKQ0Kew0KCWxvY2FsID0gY287DQoJdmlldyA9IChibF9Qcm9qZWN0aW9uTWF0cml4WzNdWzNdID09IDAuMCkgPyBub3JtYWxpemUobG9jYWwpIDogdmVjMygwLjAsIDAuMCwgLTEuMCk7DQoJZ2xvYmFsID0gKHZpZXdpbnZtYXQgKiB2ZWM0KGxvY2FsLCAxLjApKS54eXo7DQoJb3JjbyA9IGF0dG9yY287DQoJdXZfYXR0cmlidXRlKGF0dHV2LCB1dik7DQoJbm9ybWFsID0gLW5vcm1hbGl6ZShub3IpOyAgIC8qIGJsZW5kZXIgcmVuZGVyIG5vcm1hbCBpcyBuZWdhdGVkICovDQoJdmNvbF9hdHRyaWJ1dGUoYXR0dmNvbCwgdmNvbCk7DQoJc3JnYl90b19saW5lYXJyZ2IodmNvbCwgdmNvbCk7DQoJdmNvbF9hbHBoYSA9IGF0dHZjb2wuYTsNCglmcm9udGJhY2sgPSAoZ2xfRnJvbnRGYWNpbmcpID8gMS4wIDogMC4wOw0KfQ0KDQp2b2lkIHBhcnRpY2xlX2luZm8oDQogICAgICAgIHZlYzQgc3Byb3BzLCB2ZWMzIGxvYywgdmVjMyB2ZWwsIHZlYzMgYXZlbCwNCiAgICAgICAgb3V0IGZsb2F0IGluZGV4LCBvdXQgZmxvYXQgYWdlLCBvdXQgZmxvYXQgbGlmZV90aW1lLCBvdXQgdmVjMyBsb2NhdGlvbiwNCiAgICAgICAgb3V0IGZsb2F0IHNpemUsIG91dCB2ZWMzIHZlbG9jaXR5LCBvdXQgdmVjMyBhbmd1bGFyX3ZlbG9jaXR5KQ0Kew0KCWluZGV4ID0gc3Byb3BzLng7DQoJYWdlID0gc3Byb3BzLnk7DQoJbGlmZV90aW1lID0gc3Byb3BzLno7DQoJc2l6ZSA9IHNwcm9wcy53Ow0KDQoJbG9jYXRpb24gPSBsb2M7DQoJdmVsb2NpdHkgPSB2ZWw7DQoJYW5ndWxhcl92ZWxvY2l0eSA9IGF2ZWw7DQp9DQoNCnZvaWQgdmVjdF9ub3JtYWxpemUodmVjMyB2aW4sIG91dCB2ZWMzIHZvdXQpDQp7DQoJdm91dCA9IG5vcm1hbGl6ZSh2aW4pOw0KfQ0KDQp2b2lkIGRpcmVjdGlvbl90cmFuc2Zvcm1fbTR2Myh2ZWMzIHZpbiwgbWF0NCBtYXQsIG91dCB2ZWMzIHZvdXQpDQp7DQoJdm91dCA9IChtYXQgKiB2ZWM0KHZpbiwgMC4wKSkueHl6Ow0KfQ0KDQp2b2lkIHBvaW50X3RyYW5zZm9ybV9tNHYzKHZlYzMgdmluLCBtYXQ0IG1hdCwgb3V0IHZlYzMgdm91dCkNCnsNCgl2b3V0ID0gKG1hdCAqIHZlYzQodmluLCAxLjApKS54eXo7DQp9DQoNCnZvaWQgcG9pbnRfdGV4Y29fcmVtYXBfc3F1YXJlKHZlYzMgdmluLCBvdXQgdmVjMyB2b3V0KQ0Kew0KCXZvdXQgPSB2ZWMzKHZpbiAtIHZlYzMoMC41LCAwLjUsIDAuNSkpICogMi4wOw0KfQ0KDQp2b2lkIHBvaW50X21hcF90b19zcGhlcmUodmVjMyB2aW4sIG91dCB2ZWMzIHZvdXQpDQp7DQoJZmxvYXQgbGVuID0gbGVuZ3RoKHZpbik7DQoJZmxvYXQgdiwgdTsNCglpZiAobGVuID4gMC4wKSB7DQoJCWlmICh2aW4ueCA9PSAwLjAgJiYgdmluLnkgPT0gMC4wKQ0KCQkJdSA9IDAuMDsNCgkJZWxzZQ0KCQkJdSA9ICgxLjAgLSBhdGFuKHZpbi54LCB2aW4ueSkgLyBNX1BJKSAvIDIuMDsNCg0KCQl2ID0gMS4wIC0gYWNvcyh2aW4ueiAvIGxlbikgLyBNX1BJOw0KCX0NCgllbHNlDQoJCXYgPSB1ID0gMC4wOw0KDQoJdm91dCA9IHZlYzModSwgdiwgMC4wKTsNCn0NCg0Kdm9pZCBwb2ludF9tYXBfdG9fdHViZSh2ZWMzIHZpbiwgb3V0IHZlYzMgdm91dCkNCnsNCglmbG9hdCB1LCB2Ow0KCXYgPSAodmluLnogKyAxLjApICogMC41Ow0KCWZsb2F0IGxlbiA9IHNxcnQodmluLnggKiB2aW4ueCArIHZpbi55ICogdmluWzFdKTsNCglpZiAobGVuID4gMC4wKQ0KCQl1ID0gKDEuMCAtIChhdGFuKHZpbi54IC8gbGVuLCB2aW4ueSAvIGxlbikgLyBNX1BJKSkgKiAwLjU7DQoJZWxzZQ0KCQl2ID0gdSA9IDAuMDsNCg0KCXZvdXQgPSB2ZWMzKHUsIHYsIDAuMCk7DQp9DQoNCnZvaWQgbWFwcGluZyh2ZWMzIHZlYywgbWF0NCBtYXQsIHZlYzMgbWludmVjLCB2ZWMzIG1heHZlYywgZmxvYXQgZG9taW4sIGZsb2F0IGRvbWF4LCBvdXQgdmVjMyBvdXR2ZWMpDQp7DQoJb3V0dmVjID0gKG1hdCAqIHZlYzQodmVjLCAxLjApKS54eXo7DQoJaWYgKGRvbWluID09IDEuMCkNCgkJb3V0dmVjID0gbWF4KG91dHZlYywgbWludmVjKTsNCglpZiAoZG9tYXggPT0gMS4wKQ0KCQlvdXR2ZWMgPSBtaW4ob3V0dmVjLCBtYXh2ZWMpOw0KfQ0KDQp2b2lkIGNhbWVyYSh2ZWMzIGNvLCBvdXQgdmVjMyBvdXR2aWV3LCBvdXQgZmxvYXQgb3V0ZGVwdGgsIG91dCBmbG9hdCBvdXRkaXN0KQ0Kew0KCW91dGRlcHRoID0gYWJzKGNvLnopOw0KCW91dGRpc3QgPSBsZW5ndGgoY28pOw0KCW91dHZpZXcgPSBub3JtYWxpemUoY28pOw0KfQ0KDQp2b2lkIGxhbXAoDQogICAgICAgIHZlYzQgY29sLCBmbG9hdCBlbmVyZ3ksIHZlYzMgbHYsIGZsb2F0IGRpc3QsIHZlYzMgc2hhZG93LCBmbG9hdCB2aXNpZmFjLA0KICAgICAgICBvdXQgdmVjNCBvdXRjb2wsIG91dCB2ZWMzIG91dGx2LCBvdXQgZmxvYXQgb3V0ZGlzdCwgb3V0IHZlYzQgb3V0c2hhZG93LCBvdXQgZmxvYXQgb3V0dmlzaWZhYykNCnsNCglvdXRjb2wgPSBjb2wgKiBlbmVyZ3k7DQoJb3V0bHYgPSBsdjsNCglvdXRkaXN0ID0gZGlzdDsNCglvdXRzaGFkb3cgPSB2ZWM0KHNoYWRvdywgMS4wKTsNCglvdXR2aXNpZmFjID0gdmlzaWZhYzsNCn0NCg0Kdm9pZCBtYXRoX2FkZChmbG9hdCB2YWwxLCBmbG9hdCB2YWwyLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9IHZhbDEgKyB2YWwyOw0KfQ0KDQp2b2lkIG1hdGhfc3VidHJhY3QoZmxvYXQgdmFsMSwgZmxvYXQgdmFsMiwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglvdXR2YWwgPSB2YWwxIC0gdmFsMjsNCn0NCg0Kdm9pZCBtYXRoX211bHRpcGx5KGZsb2F0IHZhbDEsIGZsb2F0IHZhbDIsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gdmFsMSAqIHZhbDI7DQp9DQoNCnZvaWQgbWF0aF9kaXZpZGUoZmxvYXQgdmFsMSwgZmxvYXQgdmFsMiwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglpZiAodmFsMiA9PSAwLjApDQoJCW91dHZhbCA9IDAuMDsNCgllbHNlDQoJCW91dHZhbCA9IHZhbDEgLyB2YWwyOw0KfQ0KDQp2b2lkIG1hdGhfc2luZShmbG9hdCB2YWwsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gc2luKHZhbCk7DQp9DQoNCnZvaWQgbWF0aF9jb3NpbmUoZmxvYXQgdmFsLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9IGNvcyh2YWwpOw0KfQ0KDQp2b2lkIG1hdGhfdGFuZ2VudChmbG9hdCB2YWwsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gdGFuKHZhbCk7DQp9DQoNCnZvaWQgbWF0aF9hc2luKGZsb2F0IHZhbCwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglpZiAodmFsIDw9IDEuMCAmJiB2YWwgPj0gLTEuMCkNCgkJb3V0dmFsID0gYXNpbih2YWwpOw0KCWVsc2UNCgkJb3V0dmFsID0gMC4wOw0KfQ0KDQp2b2lkIG1hdGhfYWNvcyhmbG9hdCB2YWwsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJaWYgKHZhbCA8PSAxLjAgJiYgdmFsID49IC0xLjApDQoJCW91dHZhbCA9IGFjb3ModmFsKTsNCgllbHNlDQoJCW91dHZhbCA9IDAuMDsNCn0NCg0Kdm9pZCBtYXRoX2F0YW4oZmxvYXQgdmFsLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9IGF0YW4odmFsKTsNCn0NCg0Kdm9pZCBtYXRoX3BvdyhmbG9hdCB2YWwxLCBmbG9hdCB2YWwyLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCWlmICh2YWwxID49IDAuMCkgew0KCQlvdXR2YWwgPSBjb21wYXRpYmxlX3Bvdyh2YWwxLCB2YWwyKTsNCgl9DQoJZWxzZSB7DQoJCWZsb2F0IHZhbDJfbW9kXzEgPSBtb2QoYWJzKHZhbDIpLCAxLjApOw0KDQoJCWlmICh2YWwyX21vZF8xID4gMC45OTkgfHwgdmFsMl9tb2RfMSA8IDAuMDAxKQ0KCQkJb3V0dmFsID0gY29tcGF0aWJsZV9wb3codmFsMSwgZmxvb3IodmFsMiArIDAuNSkpOw0KCQllbHNlDQoJCQlvdXR2YWwgPSAwLjA7DQoJfQ0KfQ0KDQp2b2lkIG1hdGhfbG9nKGZsb2F0IHZhbDEsIGZsb2F0IHZhbDIsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJaWYgKHZhbDEgPiAwLjAgICYmIHZhbDIgPiAwLjApDQoJCW91dHZhbCA9IGxvZzIodmFsMSkgLyBsb2cyKHZhbDIpOw0KCWVsc2UNCgkJb3V0dmFsID0gMC4wOw0KfQ0KDQp2b2lkIG1hdGhfbWF4KGZsb2F0IHZhbDEsIGZsb2F0IHZhbDIsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gbWF4KHZhbDEsIHZhbDIpOw0KfQ0KDQp2b2lkIG1hdGhfbWluKGZsb2F0IHZhbDEsIGZsb2F0IHZhbDIsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gbWluKHZhbDEsIHZhbDIpOw0KfQ0KDQp2b2lkIG1hdGhfcm91bmQoZmxvYXQgdmFsLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9IGZsb29yKHZhbCArIDAuNSk7DQp9DQoNCnZvaWQgbWF0aF9sZXNzX3RoYW4oZmxvYXQgdmFsMSwgZmxvYXQgdmFsMiwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglpZiAodmFsMSA8IHZhbDIpDQoJCW91dHZhbCA9IDEuMDsNCgllbHNlDQoJCW91dHZhbCA9IDAuMDsNCn0NCg0Kdm9pZCBtYXRoX2dyZWF0ZXJfdGhhbihmbG9hdCB2YWwxLCBmbG9hdCB2YWwyLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCWlmICh2YWwxID4gdmFsMikNCgkJb3V0dmFsID0gMS4wOw0KCWVsc2UNCgkJb3V0dmFsID0gMC4wOw0KfQ0KDQp2b2lkIG1hdGhfbW9kdWxvKGZsb2F0IHZhbDEsIGZsb2F0IHZhbDIsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJaWYgKHZhbDIgPT0gMC4wKQ0KCQlvdXR2YWwgPSAwLjA7DQoJZWxzZQ0KCQlvdXR2YWwgPSBtb2QodmFsMSwgdmFsMik7DQoNCgkvKiBjaGFuZ2Ugc2lnbiB0byBtYXRjaCBDIGNvbnZlbnRpb24sIG1vZCB2YXJ5aW5nIEdMU0wgd2lsbCB0YWtlIGFic29sdXRlIGZvciBuZWdhdGl2ZSBudW1iZXJzLA0KCSAqIHNlZSBodHRwczovL3d3dy5vcGVuZ2wub3JnL3Nkay9kb2NzL21hbi9odG1sL21vZC54aHRtbCAqLw0KCW91dHZhbCA9ICh2YWwxID4gMC4wKSA/IG91dHZhbCA6IG91dHZhbCAtIHZhbDI7DQp9DQoNCnZvaWQgbWF0aF9hYnMoZmxvYXQgdmFsMSwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglvdXR2YWwgPSBhYnModmFsMSk7DQp9DQoNCnZvaWQgc3F1ZWV6ZShmbG9hdCB2YWwsIGZsb2F0IHdpZHRoLCBmbG9hdCBjZW50ZXIsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gMS4wIC8gKDEuMCArIHBvdygyLjcxODI4MTgzLCAtKCh2YWwgLSBjZW50ZXIpICogd2lkdGgpKSk7DQp9DQoNCnZvaWQgdmVjX21hdGhfYWRkKHZlYzMgdjEsIHZlYzMgdjIsIG91dCB2ZWMzIG91dHZlYywgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglvdXR2ZWMgPSB2MSArIHYyOw0KCW91dHZhbCA9IChhYnMob3V0dmVjWzBdKSArIGFicyhvdXR2ZWNbMV0pICsgYWJzKG91dHZlY1syXSkpIC8gMy4wOw0KfQ0KDQp2b2lkIHZlY19tYXRoX3N1Yih2ZWMzIHYxLCB2ZWMzIHYyLCBvdXQgdmVjMyBvdXR2ZWMsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmVjID0gdjEgLSB2MjsNCglvdXR2YWwgPSAoYWJzKG91dHZlY1swXSkgKyBhYnMob3V0dmVjWzFdKSArIGFicyhvdXR2ZWNbMl0pKSAvIDMuMDsNCn0NCg0Kdm9pZCB2ZWNfbWF0aF9hdmVyYWdlKHZlYzMgdjEsIHZlYzMgdjIsIG91dCB2ZWMzIG91dHZlYywgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglvdXR2ZWMgPSB2MSArIHYyOw0KCW91dHZhbCA9IGxlbmd0aChvdXR2ZWMpOw0KCW91dHZlYyA9IG5vcm1hbGl6ZShvdXR2ZWMpOw0KfQ0Kdm9pZCB2ZWNfbWF0aF9taXgoZmxvYXQgc3RyZW5ndGgsIHZlYzMgdjEsIHZlYzMgdjIsIG91dCB2ZWMzIG91dHZlYykNCnsNCglvdXR2ZWMgPSBzdHJlbmd0aCAqIHYxICsgKDEgLSBzdHJlbmd0aCkgKiB2MjsNCn0NCg0Kdm9pZCB2ZWNfbWF0aF9kb3QodmVjMyB2MSwgdmVjMyB2Miwgb3V0IHZlYzMgb3V0dmVjLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZlYyA9IHZlYzMoMCwgMCwgMCk7DQoJb3V0dmFsID0gZG90KHYxLCB2Mik7DQp9DQoNCnZvaWQgdmVjX21hdGhfY3Jvc3ModmVjMyB2MSwgdmVjMyB2Miwgb3V0IHZlYzMgb3V0dmVjLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZlYyA9IGNyb3NzKHYxLCB2Mik7DQoJb3V0dmFsID0gbGVuZ3RoKG91dHZlYyk7DQoJb3V0dmVjIC89IG91dHZhbDsNCn0NCg0Kdm9pZCB2ZWNfbWF0aF9ub3JtYWxpemUodmVjMyB2LCBvdXQgdmVjMyBvdXR2ZWMsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gbGVuZ3RoKHYpOw0KCW91dHZlYyA9IG5vcm1hbGl6ZSh2KTsNCn0NCg0Kdm9pZCB2ZWNfbWF0aF9uZWdhdGUodmVjMyB2LCBvdXQgdmVjMyBvdXR2KQ0Kew0KCW91dHYgPSAtdjsNCn0NCg0Kdm9pZCBpbnZlcnRfeih2ZWMzIHYsIG91dCB2ZWMzIG91dHYpDQp7DQoJdi56ID0gLXYuejsNCglvdXR2ID0gdjsNCn0NCg0Kdm9pZCBub3JtYWwodmVjMyBkaXIsIHZlYzMgbm9yLCBvdXQgdmVjMyBvdXRub3IsIG91dCBmbG9hdCBvdXRkb3QpDQp7DQoJb3V0bm9yID0gbm9yOw0KCW91dGRvdCA9IC1kb3QoZGlyLCBub3IpOw0KfQ0KDQp2b2lkIG5vcm1hbF9uZXdfc2hhZGluZyh2ZWMzIGRpciwgdmVjMyBub3IsIG91dCB2ZWMzIG91dG5vciwgb3V0IGZsb2F0IG91dGRvdCkNCnsNCglvdXRub3IgPSBub3JtYWxpemUobm9yKTsNCglvdXRkb3QgPSBkb3Qobm9ybWFsaXplKGRpciksIG5vcik7DQp9DQoNCnZvaWQgY3VydmVzX3ZlYyhmbG9hdCBmYWMsIHZlYzMgdmVjLCBzYW1wbGVyMkQgY3VydmVtYXAsIG91dCB2ZWMzIG91dHZlYykNCnsNCglvdXR2ZWMueCA9IHRleHR1cmUyRChjdXJ2ZW1hcCwgdmVjMigodmVjLnggKyAxLjApICogMC41LCAwLjApKS54Ow0KCW91dHZlYy55ID0gdGV4dHVyZTJEKGN1cnZlbWFwLCB2ZWMyKCh2ZWMueSArIDEuMCkgKiAwLjUsIDAuMCkpLnk7DQoJb3V0dmVjLnogPSB0ZXh0dXJlMkQoY3VydmVtYXAsIHZlYzIoKHZlYy56ICsgMS4wKSAqIDAuNSwgMC4wKSkuejsNCg0KCWlmIChmYWMgIT0gMS4wKQ0KCQlvdXR2ZWMgPSAob3V0dmVjICogZmFjKSArICh2ZWMgKiAoMS4wIC0gZmFjKSk7DQoNCn0NCg0Kdm9pZCBjdXJ2ZXNfcmdiKGZsb2F0IGZhYywgdmVjNCBjb2wsIHNhbXBsZXIyRCBjdXJ2ZW1hcCwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCW91dGNvbC5yID0gdGV4dHVyZTJEKGN1cnZlbWFwLCB2ZWMyKHRleHR1cmUyRChjdXJ2ZW1hcCwgdmVjMihjb2wuciwgMC4wKSkuYSwgMC4wKSkucjsNCglvdXRjb2wuZyA9IHRleHR1cmUyRChjdXJ2ZW1hcCwgdmVjMih0ZXh0dXJlMkQoY3VydmVtYXAsIHZlYzIoY29sLmcsIDAuMCkpLmEsIDAuMCkpLmc7DQoJb3V0Y29sLmIgPSB0ZXh0dXJlMkQoY3VydmVtYXAsIHZlYzIodGV4dHVyZTJEKGN1cnZlbWFwLCB2ZWMyKGNvbC5iLCAwLjApKS5hLCAwLjApKS5iOw0KDQoJaWYgKGZhYyAhPSAxLjApDQoJCW91dGNvbCA9IChvdXRjb2wgKiBmYWMpICsgKGNvbCAqICgxLjAgLSBmYWMpKTsNCg0KCW91dGNvbC5hID0gY29sLmE7DQp9DQoNCnZvaWQgc2V0X3ZhbHVlKGZsb2F0IHZhbCwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglvdXR2YWwgPSB2YWw7DQp9DQoNCnZvaWQgc2V0X3JnYih2ZWMzIGNvbCwgb3V0IHZlYzMgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IGNvbDsNCn0NCg0Kdm9pZCBzZXRfcmdiYSh2ZWM0IGNvbCwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IGNvbDsNCn0NCg0Kdm9pZCBzZXRfdmFsdWVfemVybyhvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9IDAuMDsNCn0NCg0Kdm9pZCBzZXRfdmFsdWVfb25lKG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gMS4wOw0KfQ0KDQp2b2lkIHNldF9yZ2JfemVybyhvdXQgdmVjMyBvdXR2YWwpDQp7DQoJb3V0dmFsID0gdmVjMygwLjApOw0KfQ0KDQp2b2lkIHNldF9yZ2Jfb25lKG91dCB2ZWMzIG91dHZhbCkNCnsNCglvdXR2YWwgPSB2ZWMzKDEuMCk7DQp9DQoNCnZvaWQgc2V0X3JnYmFfemVybyhvdXQgdmVjNCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gdmVjNCgwLjApOw0KfQ0KDQp2b2lkIHNldF9yZ2JhX29uZShvdXQgdmVjNCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gdmVjNCgxLjApOw0KfQ0KDQp2b2lkIGJyaWdodG5lc3NfY29udHJhc3QodmVjNCBjb2wsIGZsb2F0IGJyaWdodG5lc3MsIGZsb2F0IGNvbnRyYXN0LCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmxvYXQgYSA9IDEuMCArIGNvbnRyYXN0Ow0KCWZsb2F0IGIgPSBicmlnaHRuZXNzIC0gY29udHJhc3QgKiAwLjU7DQoNCglvdXRjb2wuciA9IG1heChhICogY29sLnIgKyBiLCAwLjApOw0KCW91dGNvbC5nID0gbWF4KGEgKiBjb2wuZyArIGIsIDAuMCk7DQoJb3V0Y29sLmIgPSBtYXgoYSAqIGNvbC5iICsgYiwgMC4wKTsNCglvdXRjb2wuYSA9IGNvbC5hOw0KfQ0KDQp2b2lkIG1peF9ibGVuZChmbG9hdCBmYWMsIHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmFjID0gY2xhbXAoZmFjLCAwLjAsIDEuMCk7DQoJb3V0Y29sID0gbWl4KGNvbDEsIGNvbDIsIGZhYyk7DQoJb3V0Y29sLmEgPSBjb2wxLmE7DQp9DQoNCnZvaWQgbWl4X2FkZChmbG9hdCBmYWMsIHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmFjID0gY2xhbXAoZmFjLCAwLjAsIDEuMCk7DQoJb3V0Y29sID0gbWl4KGNvbDEsIGNvbDEgKyBjb2wyLCBmYWMpOw0KCW91dGNvbC5hID0gY29sMS5hOw0KfQ0KDQp2b2lkIG1peF9tdWx0KGZsb2F0IGZhYywgdmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglmYWMgPSBjbGFtcChmYWMsIDAuMCwgMS4wKTsNCglvdXRjb2wgPSBtaXgoY29sMSwgY29sMSAqIGNvbDIsIGZhYyk7DQoJb3V0Y29sLmEgPSBjb2wxLmE7DQp9DQoNCnZvaWQgbWl4X3NjcmVlbihmbG9hdCBmYWMsIHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmFjID0gY2xhbXAoZmFjLCAwLjAsIDEuMCk7DQoJZmxvYXQgZmFjbSA9IDEuMCAtIGZhYzsNCg0KCW91dGNvbCA9IHZlYzQoMS4wKSAtICh2ZWM0KGZhY20pICsgZmFjICogKHZlYzQoMS4wKSAtIGNvbDIpKSAqICh2ZWM0KDEuMCkgLSBjb2wxKTsNCglvdXRjb2wuYSA9IGNvbDEuYTsNCn0NCg0Kdm9pZCBtaXhfb3ZlcmxheShmbG9hdCBmYWMsIHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmFjID0gY2xhbXAoZmFjLCAwLjAsIDEuMCk7DQoJZmxvYXQgZmFjbSA9IDEuMCAtIGZhYzsNCg0KCW91dGNvbCA9IGNvbDE7DQoNCglpZiAob3V0Y29sLnIgPCAwLjUpDQoJCW91dGNvbC5yICo9IGZhY20gKyAyLjAgKiBmYWMgKiBjb2wyLnI7DQoJZWxzZQ0KCQlvdXRjb2wuciA9IDEuMCAtIChmYWNtICsgMi4wICogZmFjICogKDEuMCAtIGNvbDIucikpICogKDEuMCAtIG91dGNvbC5yKTsNCg0KCWlmIChvdXRjb2wuZyA8IDAuNSkNCgkJb3V0Y29sLmcgKj0gZmFjbSArIDIuMCAqIGZhYyAqIGNvbDIuZzsNCgllbHNlDQoJCW91dGNvbC5nID0gMS4wIC0gKGZhY20gKyAyLjAgKiBmYWMgKiAoMS4wIC0gY29sMi5nKSkgKiAoMS4wIC0gb3V0Y29sLmcpOw0KDQoJaWYgKG91dGNvbC5iIDwgMC41KQ0KCQlvdXRjb2wuYiAqPSBmYWNtICsgMi4wICogZmFjICogY29sMi5iOw0KCWVsc2UNCgkJb3V0Y29sLmIgPSAxLjAgLSAoZmFjbSArIDIuMCAqIGZhYyAqICgxLjAgLSBjb2wyLmIpKSAqICgxLjAgLSBvdXRjb2wuYik7DQp9DQoNCnZvaWQgbWl4X3N1YihmbG9hdCBmYWMsIHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmFjID0gY2xhbXAoZmFjLCAwLjAsIDEuMCk7DQoJb3V0Y29sID0gbWl4KGNvbDEsIGNvbDEgLSBjb2wyLCBmYWMpOw0KCW91dGNvbC5hID0gY29sMS5hOw0KfQ0KDQp2b2lkIG1peF9kaXYoZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KCWZsb2F0IGZhY20gPSAxLjAgLSBmYWM7DQoNCglvdXRjb2wgPSBjb2wxOw0KDQoJaWYgKGNvbDIuciAhPSAwLjApIG91dGNvbC5yID0gZmFjbSAqIG91dGNvbC5yICsgZmFjICogb3V0Y29sLnIgLyBjb2wyLnI7DQoJaWYgKGNvbDIuZyAhPSAwLjApIG91dGNvbC5nID0gZmFjbSAqIG91dGNvbC5nICsgZmFjICogb3V0Y29sLmcgLyBjb2wyLmc7DQoJaWYgKGNvbDIuYiAhPSAwLjApIG91dGNvbC5iID0gZmFjbSAqIG91dGNvbC5iICsgZmFjICogb3V0Y29sLmIgLyBjb2wyLmI7DQp9DQoNCnZvaWQgbWl4X2RpZmYoZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KCW91dGNvbCA9IG1peChjb2wxLCBhYnMoY29sMSAtIGNvbDIpLCBmYWMpOw0KCW91dGNvbC5hID0gY29sMS5hOw0KfQ0KDQp2b2lkIG1peF9kYXJrKGZsb2F0IGZhYywgdmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglmYWMgPSBjbGFtcChmYWMsIDAuMCwgMS4wKTsNCglvdXRjb2wucmdiID0gbWluKGNvbDEucmdiLCBjb2wyLnJnYiAqIGZhYyk7DQoJb3V0Y29sLmEgPSBjb2wxLmE7DQp9DQoNCnZvaWQgbWl4X2xpZ2h0KGZsb2F0IGZhYywgdmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglmYWMgPSBjbGFtcChmYWMsIDAuMCwgMS4wKTsNCglvdXRjb2wucmdiID0gbWF4KGNvbDEucmdiLCBjb2wyLnJnYiAqIGZhYyk7DQoJb3V0Y29sLmEgPSBjb2wxLmE7DQp9DQoNCnZvaWQgbWl4X2RvZGdlKGZsb2F0IGZhYywgdmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglmYWMgPSBjbGFtcChmYWMsIDAuMCwgMS4wKTsNCglvdXRjb2wgPSBjb2wxOw0KDQoJaWYgKG91dGNvbC5yICE9IDAuMCkgew0KCQlmbG9hdCB0bXAgPSAxLjAgLSBmYWMgKiBjb2wyLnI7DQoJCWlmICh0bXAgPD0gMC4wKQ0KCQkJb3V0Y29sLnIgPSAxLjA7DQoJCWVsc2UgaWYgKCh0bXAgPSBvdXRjb2wuciAvIHRtcCkgPiAxLjApDQoJCQlvdXRjb2wuciA9IDEuMDsNCgkJZWxzZQ0KCQkJb3V0Y29sLnIgPSB0bXA7DQoJfQ0KCWlmIChvdXRjb2wuZyAhPSAwLjApIHsNCgkJZmxvYXQgdG1wID0gMS4wIC0gZmFjICogY29sMi5nOw0KCQlpZiAodG1wIDw9IDAuMCkNCgkJCW91dGNvbC5nID0gMS4wOw0KCQllbHNlIGlmICgodG1wID0gb3V0Y29sLmcgLyB0bXApID4gMS4wKQ0KCQkJb3V0Y29sLmcgPSAxLjA7DQoJCWVsc2UNCgkJCW91dGNvbC5nID0gdG1wOw0KCX0NCglpZiAob3V0Y29sLmIgIT0gMC4wKSB7DQoJCWZsb2F0IHRtcCA9IDEuMCAtIGZhYyAqIGNvbDIuYjsNCgkJaWYgKHRtcCA8PSAwLjApDQoJCQlvdXRjb2wuYiA9IDEuMDsNCgkJZWxzZSBpZiAoKHRtcCA9IG91dGNvbC5iIC8gdG1wKSA+IDEuMCkNCgkJCW91dGNvbC5iID0gMS4wOw0KCQllbHNlDQoJCQlvdXRjb2wuYiA9IHRtcDsNCgl9DQp9DQoNCnZvaWQgbWl4X2J1cm4oZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KCWZsb2F0IHRtcCwgZmFjbSA9IDEuMCAtIGZhYzsNCg0KCW91dGNvbCA9IGNvbDE7DQoNCgl0bXAgPSBmYWNtICsgZmFjICogY29sMi5yOw0KCWlmICh0bXAgPD0gMC4wKQ0KCQlvdXRjb2wuciA9IDAuMDsNCgllbHNlIGlmICgodG1wID0gKDEuMCAtICgxLjAgLSBvdXRjb2wucikgLyB0bXApKSA8IDAuMCkNCgkJb3V0Y29sLnIgPSAwLjA7DQoJZWxzZSBpZiAodG1wID4gMS4wKQ0KCQlvdXRjb2wuciA9IDEuMDsNCgllbHNlDQoJCW91dGNvbC5yID0gdG1wOw0KDQoJdG1wID0gZmFjbSArIGZhYyAqIGNvbDIuZzsNCglpZiAodG1wIDw9IDAuMCkNCgkJb3V0Y29sLmcgPSAwLjA7DQoJZWxzZSBpZiAoKHRtcCA9ICgxLjAgLSAoMS4wIC0gb3V0Y29sLmcpIC8gdG1wKSkgPCAwLjApDQoJCW91dGNvbC5nID0gMC4wOw0KCWVsc2UgaWYgKHRtcCA+IDEuMCkNCgkJb3V0Y29sLmcgPSAxLjA7DQoJZWxzZQ0KCQlvdXRjb2wuZyA9IHRtcDsNCg0KCXRtcCA9IGZhY20gKyBmYWMgKiBjb2wyLmI7DQoJaWYgKHRtcCA8PSAwLjApDQoJCW91dGNvbC5iID0gMC4wOw0KCWVsc2UgaWYgKCh0bXAgPSAoMS4wIC0gKDEuMCAtIG91dGNvbC5iKSAvIHRtcCkpIDwgMC4wKQ0KCQlvdXRjb2wuYiA9IDAuMDsNCgllbHNlIGlmICh0bXAgPiAxLjApDQoJCW91dGNvbC5iID0gMS4wOw0KCWVsc2UNCgkJb3V0Y29sLmIgPSB0bXA7DQp9DQoNCnZvaWQgbWl4X2h1ZShmbG9hdCBmYWMsIHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmFjID0gY2xhbXAoZmFjLCAwLjAsIDEuMCk7DQoJZmxvYXQgZmFjbSA9IDEuMCAtIGZhYzsNCg0KCW91dGNvbCA9IGNvbDE7DQoNCgl2ZWM0IGhzdiwgaHN2MiwgdG1wOw0KCXJnYl90b19oc3YoY29sMiwgaHN2Mik7DQoNCglpZiAoaHN2Mi55ICE9IDAuMCkgew0KCQlyZ2JfdG9faHN2KG91dGNvbCwgaHN2KTsNCgkJaHN2LnggPSBoc3YyLng7DQoJCWhzdl90b19yZ2IoaHN2LCB0bXApOw0KDQoJCW91dGNvbCA9IG1peChvdXRjb2wsIHRtcCwgZmFjKTsNCgkJb3V0Y29sLmEgPSBjb2wxLmE7DQoJfQ0KfQ0KDQp2b2lkIG1peF9zYXQoZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KCWZsb2F0IGZhY20gPSAxLjAgLSBmYWM7DQoNCglvdXRjb2wgPSBjb2wxOw0KDQoJdmVjNCBoc3YsIGhzdjI7DQoJcmdiX3RvX2hzdihvdXRjb2wsIGhzdik7DQoNCglpZiAoaHN2LnkgIT0gMC4wKSB7DQoJCXJnYl90b19oc3YoY29sMiwgaHN2Mik7DQoNCgkJaHN2LnkgPSBmYWNtICogaHN2LnkgKyBmYWMgKiBoc3YyLnk7DQoJCWhzdl90b19yZ2IoaHN2LCBvdXRjb2wpOw0KCX0NCn0NCg0Kdm9pZCBtaXhfdmFsKGZsb2F0IGZhYywgdmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglmYWMgPSBjbGFtcChmYWMsIDAuMCwgMS4wKTsNCglmbG9hdCBmYWNtID0gMS4wIC0gZmFjOw0KDQoJdmVjNCBoc3YsIGhzdjI7DQoJcmdiX3RvX2hzdihjb2wxLCBoc3YpOw0KCXJnYl90b19oc3YoY29sMiwgaHN2Mik7DQoNCgloc3YueiA9IGZhY20gKiBoc3YueiArIGZhYyAqIGhzdjIuejsNCgloc3ZfdG9fcmdiKGhzdiwgb3V0Y29sKTsNCn0NCg0Kdm9pZCBtaXhfY29sb3IoZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KCWZsb2F0IGZhY20gPSAxLjAgLSBmYWM7DQoNCglvdXRjb2wgPSBjb2wxOw0KDQoJdmVjNCBoc3YsIGhzdjIsIHRtcDsNCglyZ2JfdG9faHN2KGNvbDIsIGhzdjIpOw0KDQoJaWYgKGhzdjIueSAhPSAwLjApIHsNCgkJcmdiX3RvX2hzdihvdXRjb2wsIGhzdik7DQoJCWhzdi54ID0gaHN2Mi54Ow0KCQloc3YueSA9IGhzdjIueTsNCgkJaHN2X3RvX3JnYihoc3YsIHRtcCk7DQoNCgkJb3V0Y29sID0gbWl4KG91dGNvbCwgdG1wLCBmYWMpOw0KCQlvdXRjb2wuYSA9IGNvbDEuYTsNCgl9DQp9DQoNCnZvaWQgbWl4X3NvZnQoZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KCWZsb2F0IGZhY20gPSAxLjAgLSBmYWM7DQoNCgl2ZWM0IG9uZSA9IHZlYzQoMS4wKTsNCgl2ZWM0IHNjciA9IG9uZSAtIChvbmUgLSBjb2wyKSAqIChvbmUgLSBjb2wxKTsNCglvdXRjb2wgPSBmYWNtICogY29sMSArIGZhYyAqICgob25lIC0gY29sMSkgKiBjb2wyICogY29sMSArIGNvbDEgKiBzY3IpOw0KfQ0KDQp2b2lkIG1peF9saW5lYXIoZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KDQoJb3V0Y29sID0gY29sMSArIGZhYyAqICgyLjAgKiAoY29sMiAtIHZlYzQoMC41KSkpOw0KfQ0KDQp2b2lkIHZhbHRvcmdiKGZsb2F0IGZhYywgc2FtcGxlcjJEIGNvbG9ybWFwLCBvdXQgdmVjNCBvdXRjb2wsIG91dCBmbG9hdCBvdXRhbHBoYSkNCnsNCglvdXRjb2wgPSB0ZXh0dXJlMkQoY29sb3JtYXAsIHZlYzIoZmFjLCAwLjApKTsNCglvdXRhbHBoYSA9IG91dGNvbC5hOw0KfQ0KDQp2b2lkIHJnYnRvYncodmVjNCBjb2xvciwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCiNpZmRlZiBVU0VfTkVXX1NIQURJTkcNCglvdXR2YWwgPSBjb2xvci5yICogMC4yMTI2ICsgY29sb3IuZyAqIDAuNzE1MiArIGNvbG9yLmIgKiAwLjA3MjI7DQojZWxzZQ0KCW91dHZhbCA9IGNvbG9yLnIgKiAwLjM1ICsgY29sb3IuZyAqIDAuNDUgKyBjb2xvci5iICogMC4yOyAvKiBrZWVwIHRoZXNlIGZhY3RvcnMgdmFyeWluZyBzeW5jIHdpdGggdGV4dHVyZS5oOlJHQlRPQlcgKi8NCiNlbmRpZg0KfQ0KDQp2b2lkIGludmVydChmbG9hdCBmYWMsIHZlYzQgY29sLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJb3V0Y29sLnh5eiA9IG1peChjb2wueHl6LCB2ZWMzKDEuMCwgMS4wLCAxLjApIC0gY29sLnh5eiwgZmFjKTsNCglvdXRjb2wudyA9IGNvbC53Ow0KfQ0KDQp2b2lkIGNsYW1wX3ZlYzModmVjMyB2ZWMsIHZlYzMgbWluLCB2ZWMzIG1heCwgb3V0IHZlYzMgb3V0X3ZlYykNCnsNCglvdXRfdmVjID0gY2xhbXAodmVjLCBtaW4sIG1heCk7DQp9DQoNCnZvaWQgY2xhbXBfdmFsKGZsb2F0IHZhbHVlLCBmbG9hdCBtaW4sIGZsb2F0IG1heCwgb3V0IGZsb2F0IG91dF92YWx1ZSkNCnsNCglvdXRfdmFsdWUgPSBjbGFtcCh2YWx1ZSwgbWluLCBtYXgpOw0KfQ0KDQp2b2lkIGh1ZV9zYXQoZmxvYXQgaHVlLCBmbG9hdCBzYXQsIGZsb2F0IHZhbHVlLCBmbG9hdCBmYWMsIHZlYzQgY29sLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJdmVjNCBoc3Y7DQoNCglyZ2JfdG9faHN2KGNvbCwgaHN2KTsNCg0KCWhzdlswXSArPSAoaHVlIC0gMC41KTsNCglpZiAoaHN2WzBdID4gMS4wKSBoc3ZbMF0gLT0gMS4wOyBlbHNlIGlmIChoc3ZbMF0gPCAwLjApIGhzdlswXSArPSAxLjA7DQoJaHN2WzFdICo9IHNhdDsNCglpZiAoaHN2WzFdID4gMS4wKSBoc3ZbMV0gPSAxLjA7IGVsc2UgaWYgKGhzdlsxXSA8IDAuMCkgaHN2WzFdID0gMC4wOw0KCWhzdlsyXSAqPSB2YWx1ZTsNCglpZiAoaHN2WzJdID4gMS4wKSBoc3ZbMl0gPSAxLjA7IGVsc2UgaWYgKGhzdlsyXSA8IDAuMCkgaHN2WzJdID0gMC4wOw0KDQoJaHN2X3RvX3JnYihoc3YsIG91dGNvbCk7DQoNCglvdXRjb2wgPSBtaXgoY29sLCBvdXRjb2wsIGZhYyk7DQp9DQoNCnZvaWQgc2VwYXJhdGVfcmdiKHZlYzQgY29sLCBvdXQgZmxvYXQgciwgb3V0IGZsb2F0IGcsIG91dCBmbG9hdCBiKQ0Kew0KCXIgPSBjb2wucjsNCglnID0gY29sLmc7DQoJYiA9IGNvbC5iOw0KfQ0KDQp2b2lkIGNvbWJpbmVfcmdiKGZsb2F0IHIsIGZsb2F0IGcsIGZsb2F0IGIsIG91dCB2ZWM0IGNvbCkNCnsNCgljb2wgPSB2ZWM0KHIsIGcsIGIsIDEuMCk7DQp9DQoNCnZvaWQgc2VwYXJhdGVfeHl6KHZlYzMgdmVjLCBvdXQgZmxvYXQgeCwgb3V0IGZsb2F0IHksIG91dCBmbG9hdCB6KQ0Kew0KCXggPSB2ZWMucjsNCgl5ID0gdmVjLmc7DQoJeiA9IHZlYy5iOw0KfQ0KDQp2b2lkIGNvbWJpbmVfeHl6KGZsb2F0IHgsIGZsb2F0IHksIGZsb2F0IHosIG91dCB2ZWMzIHZlYykNCnsNCgl2ZWMgPSB2ZWMzKHgsIHksIHopOw0KfQ0KDQp2b2lkIHNlcGFyYXRlX2hzdih2ZWM0IGNvbCwgb3V0IGZsb2F0IGgsIG91dCBmbG9hdCBzLCBvdXQgZmxvYXQgdikNCnsNCgl2ZWM0IGhzdjsNCg0KCXJnYl90b19oc3YoY29sLCBoc3YpOw0KCWggPSBoc3ZbMF07DQoJcyA9IGhzdlsxXTsNCgl2ID0gaHN2WzJdOw0KfQ0KDQp2b2lkIGNvbWJpbmVfaHN2KGZsb2F0IGgsIGZsb2F0IHMsIGZsb2F0IHYsIG91dCB2ZWM0IGNvbCkNCnsNCgloc3ZfdG9fcmdiKHZlYzQoaCwgcywgdiwgMS4wKSwgY29sKTsNCn0NCg0Kdm9pZCBvdXRwdXRfbm9kZSh2ZWM0IHJnYiwgZmxvYXQgYWxwaGEsIG91dCB2ZWM0IG91dHJnYikNCnsNCglvdXRyZ2IgPSB2ZWM0KHJnYi5yZ2IsIGFscGhhKTsNCn0NCg0KLyoqKioqKioqKioqIFRFWFRVUkVTICoqKioqKioqKioqKioqKi8NCg0Kdm9pZCB0ZXh0dXJlX2ZsaXBfYmxlbmQodmVjMyB2ZWMsIG91dCB2ZWMzIG91dHZlYykNCnsNCglvdXR2ZWMgPSB2ZWMueXh6Ow0KfQ0KDQp2b2lkIHRleHR1cmVfYmxlbmRfbGluKHZlYzMgdmVjLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9ICgxLjAgKyB2ZWMueCkgLyAyLjA7DQp9DQoNCnZvaWQgdGV4dHVyZV9ibGVuZF9xdWFkKHZlYzMgdmVjLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9IG1heCgoMS4wICsgdmVjLngpIC8gMi4wLCAwLjApOw0KCW91dHZhbCAqPSBvdXR2YWw7DQp9DQoNCnZvaWQgdGV4dHVyZV93b29kX3Npbih2ZWMzIHZlYywgb3V0IGZsb2F0IHZhbHVlLCBvdXQgdmVjNCBjb2xvciwgb3V0IHZlYzMgbm9ybWFsKQ0Kew0KCWZsb2F0IGEgPSBzcXJ0KHZlYy54ICogdmVjLnggKyB2ZWMueSAqIHZlYy55ICsgdmVjLnogKiB2ZWMueikgKiAyMC4wOw0KCWZsb2F0IHdpID0gMC41ICsgMC41ICogc2luKGEpOw0KDQoJdmFsdWUgPSB3aTsNCgljb2xvciA9IHZlYzQod2ksIHdpLCB3aSwgMS4wKTsNCglub3JtYWwgPSB2ZWMzKDAuMCwgMC4wLCAwLjApOw0KfQ0KDQp2b2lkIHRleHR1cmVfaW1hZ2UodmVjMyB2ZWMsIHNhbXBsZXIyRCBpbWEsIG91dCBmbG9hdCB2YWx1ZSwgb3V0IHZlYzQgY29sb3IsIG91dCB2ZWMzIG5vcm1hbCkNCnsNCgljb2xvciA9IHRleHR1cmUyRChpbWEsICh2ZWMueHkgKyB2ZWMyKDEuMCwgMS4wKSkgKiAwLjUpOw0KCXZhbHVlID0gY29sb3IuYTsNCg0KCW5vcm1hbC54ID0gMi4wICogKGNvbG9yLnIgLSAwLjUpOw0KCW5vcm1hbC55ID0gMi4wICogKDAuNSAtIGNvbG9yLmcpOw0KCW5vcm1hbC56ID0gMi4wICogKGNvbG9yLmIgLSAwLjUpOw0KfQ0KDQovKioqKioqKioqKioqKiBNVEVYICoqKioqKioqKioqKioqKioqLw0KDQp2b2lkIHRleGNvX29yY28odmVjMyBhdHRvcmNvLCBvdXQgdmVjMyBvcmNvKQ0Kew0KCW9yY28gPSBhdHRvcmNvOw0KfQ0KDQp2b2lkIHRleGNvX3V2KHZlYzIgYXR0dXYsIG91dCB2ZWMzIHV2KQ0Kew0KCS8qIGRpc2FibGVkIGZvciBub3csIHdvcmtzIHRvZ2V0aGVyIHdpdGggbGVhdmluZyBvdXQgbXRleF8yZF9tYXBwaW5nDQoJICAgdXYgPSB2ZWMzKGF0dHV2KjIuMCAtIHZlYzIoMS4wLCAxLjApLCAwLjApOyAqLw0KCXV2ID0gdmVjMyhhdHR1diwgMC4wKTsNCn0NCg0Kdm9pZCB0ZXhjb19ub3JtKHZlYzMgbm9ybWFsLCBvdXQgdmVjMyBvdXRub3JtYWwpDQp7DQoJLyogY29ycmVzcG9uZHMgdG8gc2hpLT5vcm4sIHdoaWNoIGlzIG5lZ2F0ZWQgc28gY2FuY2Vscw0KCSAgIG91dCBibGVuZGVyIG5vcm1hbCBuZWdhdGlvbiAqLw0KCW91dG5vcm1hbCA9IG5vcm1hbGl6ZShub3JtYWwpOw0KfQ0KDQp2b2lkIHRleGNvX3RhbmdlbnQodmVjNCB0YW5nZW50LCBvdXQgdmVjMyBvdXR0YW5nZW50KQ0Kew0KCW91dHRhbmdlbnQgPSBub3JtYWxpemUodGFuZ2VudC54eXopOw0KfQ0KDQp2b2lkIHRleGNvX2dsb2JhbChtYXQ0IHZpZXdpbnZtYXQsIHZlYzMgY28sIG91dCB2ZWMzIGdsb2JhbCkNCnsNCglnbG9iYWwgPSAodmlld2ludm1hdCAqIHZlYzQoY28sIDEuMCkpLnh5ejsNCn0NCg0Kdm9pZCB0ZXhjb19vYmplY3QobWF0NCB2aWV3aW52bWF0LCBtYXQ0IG9iaW52bWF0LCB2ZWMzIGNvLCBvdXQgdmVjMyBvYmplY3QpDQp7DQoJb2JqZWN0ID0gKG9iaW52bWF0ICogKHZpZXdpbnZtYXQgKiB2ZWM0KGNvLCAxLjApKSkueHl6Ow0KfQ0KDQp2b2lkIHRleGNvX3JlZmwodmVjMyB2biwgdmVjMyB2aWV3LCBvdXQgdmVjMyByZWYpDQp7DQoJcmVmID0gdmlldyAtIDIuMCAqIGRvdCh2biwgdmlldykgKiB2bjsNCn0NCg0Kdm9pZCBzaGFkZV9ub3JtKHZlYzMgbm9ybWFsLCBvdXQgdmVjMyBvdXRub3JtYWwpDQp7DQoJLyogYmxlbmRlciByZW5kZXIgbm9ybWFsIGlzIG5lZ2F0ZWQgKi8NCglvdXRub3JtYWwgPSAtbm9ybWFsaXplKG5vcm1hbCk7DQp9DQoNCnZvaWQgbXRleF9taXJyb3IodmVjMyB0Y29sLCB2ZWM0IHJlZmNvbCwgZmxvYXQgdGluLCBmbG9hdCBjb2xtaXJmYWMsIG91dCB2ZWM0IG91dHJlZmNvbCkNCnsNCglvdXRyZWZjb2wgPSBtaXgocmVmY29sLCB2ZWM0KDEuMCwgdGNvbCksIHRpbiAqIGNvbG1pcmZhYyk7DQp9DQoNCnZvaWQgbXRleF9yZ2JfYmxlbmQodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCglmbG9hdCBmYWNtOw0KDQoJZmFjdCAqPSBmYWNnOw0KCWZhY20gPSAxLjAgLSBmYWN0Ow0KDQoJaW5jb2wgPSBmYWN0ICogdGV4Y29sICsgZmFjbSAqIG91dGNvbDsNCn0NCg0Kdm9pZCBtdGV4X3JnYl9tdWwodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCglmbG9hdCBmYWNtOw0KDQoJZmFjdCAqPSBmYWNnOw0KCWZhY20gPSAxLjAgLSBmYWN0Ow0KDQoJaW5jb2wgPSAoZmFjbSArIGZhY3QgKiB0ZXhjb2wpICogb3V0Y29sOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX3NjcmVlbih2ZWMzIG91dGNvbCwgdmVjMyB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCB2ZWMzIGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoNCglmYWN0ICo9IGZhY2c7DQoJZmFjbSA9IDEuMCAtIGZhY3Q7DQoNCglpbmNvbCA9IHZlYzMoMS4wKSAtICh2ZWMzKGZhY20pICsgZmFjdCAqICh2ZWMzKDEuMCkgLSB0ZXhjb2wpKSAqICh2ZWMzKDEuMCkgLSBvdXRjb2wpOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX292ZXJsYXkodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCglmbG9hdCBmYWNtOw0KDQoJZmFjdCAqPSBmYWNnOw0KCWZhY20gPSAxLjAgLSBmYWN0Ow0KDQoJaWYgKG91dGNvbC5yIDwgMC41KQ0KCQlpbmNvbC5yID0gb3V0Y29sLnIgKiAoZmFjbSArIDIuMCAqIGZhY3QgKiB0ZXhjb2wucik7DQoJZWxzZQ0KCQlpbmNvbC5yID0gMS4wIC0gKGZhY20gKyAyLjAgKiBmYWN0ICogKDEuMCAtIHRleGNvbC5yKSkgKiAoMS4wIC0gb3V0Y29sLnIpOw0KDQoJaWYgKG91dGNvbC5nIDwgMC41KQ0KCQlpbmNvbC5nID0gb3V0Y29sLmcgKiAoZmFjbSArIDIuMCAqIGZhY3QgKiB0ZXhjb2wuZyk7DQoJZWxzZQ0KCQlpbmNvbC5nID0gMS4wIC0gKGZhY20gKyAyLjAgKiBmYWN0ICogKDEuMCAtIHRleGNvbC5nKSkgKiAoMS4wIC0gb3V0Y29sLmcpOw0KDQoJaWYgKG91dGNvbC5iIDwgMC41KQ0KCQlpbmNvbC5iID0gb3V0Y29sLmIgKiAoZmFjbSArIDIuMCAqIGZhY3QgKiB0ZXhjb2wuYik7DQoJZWxzZQ0KCQlpbmNvbC5iID0gMS4wIC0gKGZhY20gKyAyLjAgKiBmYWN0ICogKDEuMCAtIHRleGNvbC5iKSkgKiAoMS4wIC0gb3V0Y29sLmIpOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX3N1Yih2ZWMzIG91dGNvbCwgdmVjMyB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCB2ZWMzIGluY29sKQ0Kew0KCWluY29sID0gLWZhY3QgKiBmYWNnICogdGV4Y29sICsgb3V0Y29sOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX2FkZCh2ZWMzIG91dGNvbCwgdmVjMyB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCB2ZWMzIGluY29sKQ0Kew0KCWluY29sID0gZmFjdCAqIGZhY2cgKiB0ZXhjb2wgKyBvdXRjb2w7DQp9DQoNCnZvaWQgbXRleF9yZ2JfZGl2KHZlYzMgb3V0Y29sLCB2ZWMzIHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IHZlYzMgaW5jb2wpDQp7DQoJZmxvYXQgZmFjbTsNCg0KCWZhY3QgKj0gZmFjZzsNCglmYWNtID0gMS4wIC0gZmFjdDsNCg0KCWlmICh0ZXhjb2wuciAhPSAwLjApIGluY29sLnIgPSBmYWNtICogb3V0Y29sLnIgKyBmYWN0ICogb3V0Y29sLnIgLyB0ZXhjb2wucjsNCglpZiAodGV4Y29sLmcgIT0gMC4wKSBpbmNvbC5nID0gZmFjbSAqIG91dGNvbC5nICsgZmFjdCAqIG91dGNvbC5nIC8gdGV4Y29sLmc7DQoJaWYgKHRleGNvbC5iICE9IDAuMCkgaW5jb2wuYiA9IGZhY20gKiBvdXRjb2wuYiArIGZhY3QgKiBvdXRjb2wuYiAvIHRleGNvbC5iOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX2RpZmYodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCglmbG9hdCBmYWNtOw0KDQoJZmFjdCAqPSBmYWNnOw0KCWZhY20gPSAxLjAgLSBmYWN0Ow0KDQoJaW5jb2wgPSBmYWNtICogb3V0Y29sICsgZmFjdCAqIGFicyh0ZXhjb2wgLSBvdXRjb2wpOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX2RhcmsodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCglmbG9hdCBmYWNtLCBjb2w7DQoNCglmYWN0ICo9IGZhY2c7DQoJZmFjbSA9IDEuMCAtIGZhY3Q7DQoNCglpbmNvbC5yID0gbWluKG91dGNvbC5yLCB0ZXhjb2wucikgKiBmYWN0ICsgb3V0Y29sLnIgKiBmYWNtOw0KCWluY29sLmcgPSBtaW4ob3V0Y29sLmcsIHRleGNvbC5nKSAqIGZhY3QgKyBvdXRjb2wuZyAqIGZhY207DQoJaW5jb2wuYiA9IG1pbihvdXRjb2wuYiwgdGV4Y29sLmIpICogZmFjdCArIG91dGNvbC5iICogZmFjbTsNCn0NCg0Kdm9pZCBtdGV4X3JnYl9saWdodCh2ZWMzIG91dGNvbCwgdmVjMyB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCB2ZWMzIGluY29sKQ0Kew0KCWZsb2F0IGZhY20sIGNvbDsNCg0KCWZhY3QgKj0gZmFjZzsNCg0KCWNvbCA9IGZhY3QgKiB0ZXhjb2wucjsNCglpZiAoY29sID4gb3V0Y29sLnIpIGluY29sLnIgPSBjb2w7IGVsc2UgaW5jb2wuciA9IG91dGNvbC5yOw0KCWNvbCA9IGZhY3QgKiB0ZXhjb2wuZzsNCglpZiAoY29sID4gb3V0Y29sLmcpIGluY29sLmcgPSBjb2w7IGVsc2UgaW5jb2wuZyA9IG91dGNvbC5nOw0KCWNvbCA9IGZhY3QgKiB0ZXhjb2wuYjsNCglpZiAoY29sID4gb3V0Y29sLmIpIGluY29sLmIgPSBjb2w7IGVsc2UgaW5jb2wuYiA9IG91dGNvbC5iOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX2h1ZSh2ZWMzIG91dGNvbCwgdmVjMyB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCB2ZWMzIGluY29sKQ0Kew0KCXZlYzQgY29sOw0KDQoJbWl4X2h1ZShmYWN0ICogZmFjZywgdmVjNChvdXRjb2wsIDEuMCksIHZlYzQodGV4Y29sLCAxLjApLCBjb2wpOw0KCWluY29sLnJnYiA9IGNvbC5yZ2I7DQp9DQoNCnZvaWQgbXRleF9yZ2Jfc2F0KHZlYzMgb3V0Y29sLCB2ZWMzIHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IHZlYzMgaW5jb2wpDQp7DQoJdmVjNCBjb2w7DQoNCgltaXhfc2F0KGZhY3QgKiBmYWNnLCB2ZWM0KG91dGNvbCwgMS4wKSwgdmVjNCh0ZXhjb2wsIDEuMCksIGNvbCk7DQoJaW5jb2wucmdiID0gY29sLnJnYjsNCn0NCg0Kdm9pZCBtdGV4X3JnYl92YWwodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCgl2ZWM0IGNvbDsNCg0KCW1peF92YWwoZmFjdCAqIGZhY2csIHZlYzQob3V0Y29sLCAxLjApLCB2ZWM0KHRleGNvbCwgMS4wKSwgY29sKTsNCglpbmNvbC5yZ2IgPSBjb2wucmdiOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX2NvbG9yKHZlYzMgb3V0Y29sLCB2ZWMzIHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IHZlYzMgaW5jb2wpDQp7DQoJdmVjNCBjb2w7DQoNCgltaXhfY29sb3IoZmFjdCAqIGZhY2csIHZlYzQob3V0Y29sLCAxLjApLCB2ZWM0KHRleGNvbCwgMS4wKSwgY29sKTsNCglpbmNvbC5yZ2IgPSBjb2wucmdiOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX3NvZnQodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCgl2ZWM0IGNvbDsNCg0KCW1peF9zb2Z0KGZhY3QgKiBmYWNnLCB2ZWM0KG91dGNvbCwgMS4wKSwgdmVjNCh0ZXhjb2wsIDEuMCksIGNvbCk7DQoJaW5jb2wucmdiID0gY29sLnJnYjsNCn0NCg0Kdm9pZCBtdGV4X3JnYl9saW5lYXIodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCglmYWN0ICo9IGZhY2c7DQoNCglpZiAodGV4Y29sLnIgPiAwLjUpDQoJCWluY29sLnIgPSBvdXRjb2wuciArIGZhY3QgKiAoMi4wICogKHRleGNvbC5yIC0gMC41KSk7DQoJZWxzZQ0KCQlpbmNvbC5yID0gb3V0Y29sLnIgKyBmYWN0ICogKDIuMCAqICh0ZXhjb2wucikgLSAxLjApOw0KDQoJaWYgKHRleGNvbC5nID4gMC41KQ0KCQlpbmNvbC5nID0gb3V0Y29sLmcgKyBmYWN0ICogKDIuMCAqICh0ZXhjb2wuZyAtIDAuNSkpOw0KCWVsc2UNCgkJaW5jb2wuZyA9IG91dGNvbC5nICsgZmFjdCAqICgyLjAgKiAodGV4Y29sLmcpIC0gMS4wKTsNCg0KCWlmICh0ZXhjb2wuYiA+IDAuNSkNCgkJaW5jb2wuYiA9IG91dGNvbC5iICsgZmFjdCAqICgyLjAgKiAodGV4Y29sLmIgLSAwLjUpKTsNCgllbHNlDQoJCWluY29sLmIgPSBvdXRjb2wuYiArIGZhY3QgKiAoMi4wICogKHRleGNvbC5iKSAtIDEuMCk7DQp9DQoNCnZvaWQgbXRleF92YWx1ZV92YXJzKGlub3V0IGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCBmbG9hdCBmYWNtKQ0Kew0KCWZhY3QgKj0gYWJzKGZhY2cpOw0KCWZhY20gPSAxLjAgLSBmYWN0Ow0KDQoJaWYgKGZhY2cgPCAwLjApIHsNCgkJZmxvYXQgdG1wID0gZmFjdDsNCgkJZmFjdCA9IGZhY207DQoJCWZhY20gPSB0bXA7DQoJfQ0KfQ0KDQp2b2lkIG10ZXhfdmFsdWVfYmxlbmQoZmxvYXQgb3V0Y29sLCBmbG9hdCB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCBmbG9hdCBpbmNvbCkNCnsNCglmbG9hdCBmYWNtOw0KCW10ZXhfdmFsdWVfdmFycyhmYWN0LCBmYWNnLCBmYWNtKTsNCg0KCWluY29sID0gZmFjdCAqIHRleGNvbCArIGZhY20gKiBvdXRjb2w7DQp9DQoNCnZvaWQgbXRleF92YWx1ZV9tdWwoZmxvYXQgb3V0Y29sLCBmbG9hdCB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCBmbG9hdCBpbmNvbCkNCnsNCglmbG9hdCBmYWNtOw0KCW10ZXhfdmFsdWVfdmFycyhmYWN0LCBmYWNnLCBmYWNtKTsNCg0KCWZhY20gPSAxLjAgLSBmYWNnOw0KCWluY29sID0gKGZhY20gKyBmYWN0ICogdGV4Y29sKSAqIG91dGNvbDsNCn0NCg0Kdm9pZCBtdGV4X3ZhbHVlX3NjcmVlbihmbG9hdCBvdXRjb2wsIGZsb2F0IHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IGZsb2F0IGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoJbXRleF92YWx1ZV92YXJzKGZhY3QsIGZhY2csIGZhY20pOw0KDQoJZmFjbSA9IDEuMCAtIGZhY2c7DQoJaW5jb2wgPSAxLjAgLSAoZmFjbSArIGZhY3QgKiAoMS4wIC0gdGV4Y29sKSkgKiAoMS4wIC0gb3V0Y29sKTsNCn0NCg0Kdm9pZCBtdGV4X3ZhbHVlX3N1YihmbG9hdCBvdXRjb2wsIGZsb2F0IHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IGZsb2F0IGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoJbXRleF92YWx1ZV92YXJzKGZhY3QsIGZhY2csIGZhY20pOw0KDQoJZmFjdCA9IC1mYWN0Ow0KCWluY29sID0gZmFjdCAqIHRleGNvbCArIG91dGNvbDsNCn0NCg0Kdm9pZCBtdGV4X3ZhbHVlX2FkZChmbG9hdCBvdXRjb2wsIGZsb2F0IHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IGZsb2F0IGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoJbXRleF92YWx1ZV92YXJzKGZhY3QsIGZhY2csIGZhY20pOw0KDQoJZmFjdCA9IGZhY3Q7DQoJaW5jb2wgPSBmYWN0ICogdGV4Y29sICsgb3V0Y29sOw0KfQ0KDQp2b2lkIG10ZXhfdmFsdWVfZGl2KGZsb2F0IG91dGNvbCwgZmxvYXQgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgZmxvYXQgaW5jb2wpDQp7DQoJZmxvYXQgZmFjbTsNCgltdGV4X3ZhbHVlX3ZhcnMoZmFjdCwgZmFjZywgZmFjbSk7DQoNCglpZiAodGV4Y29sICE9IDAuMCkNCgkJaW5jb2wgPSBmYWNtICogb3V0Y29sICsgZmFjdCAqIG91dGNvbCAvIHRleGNvbDsNCgllbHNlDQoJCWluY29sID0gMC4wOw0KfQ0KDQp2b2lkIG10ZXhfdmFsdWVfZGlmZihmbG9hdCBvdXRjb2wsIGZsb2F0IHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IGZsb2F0IGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoJbXRleF92YWx1ZV92YXJzKGZhY3QsIGZhY2csIGZhY20pOw0KDQoJaW5jb2wgPSBmYWNtICogb3V0Y29sICsgZmFjdCAqIGFicyh0ZXhjb2wgLSBvdXRjb2wpOw0KfQ0KDQp2b2lkIG10ZXhfdmFsdWVfZGFyayhmbG9hdCBvdXRjb2wsIGZsb2F0IHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IGZsb2F0IGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoJbXRleF92YWx1ZV92YXJzKGZhY3QsIGZhY2csIGZhY20pOw0KDQoJaW5jb2wgPSBmYWNtICogb3V0Y29sICsgZmFjdCAqIG1pbihvdXRjb2wsIHRleGNvbCk7DQp9DQoNCnZvaWQgbXRleF92YWx1ZV9saWdodChmbG9hdCBvdXRjb2wsIGZsb2F0IHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IGZsb2F0IGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoJbXRleF92YWx1ZV92YXJzKGZhY3QsIGZhY2csIGZhY20pOw0KDQoJZmxvYXQgY29sID0gZmFjdCAqIHRleGNvbDsNCglpZiAoY29sID4gb3V0Y29sKSBpbmNvbCA9IGNvbDsgZWxzZSBpbmNvbCA9IG91dGNvbDsNCn0NCg0Kdm9pZCBtdGV4X3ZhbHVlX2NsYW1wX3Bvc2l0aXZlKGZsb2F0IGZhYywgb3V0IGZsb2F0IG91dGZhYykNCnsNCglvdXRmYWMgPSBtYXgoZmFjLCAwLjApOw0KfQ0KDQp2b2lkIG10ZXhfdmFsdWVfY2xhbXAoZmxvYXQgZmFjLCBvdXQgZmxvYXQgb3V0ZmFjKQ0Kew0KCW91dGZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KfQ0KDQp2b2lkIG10ZXhfaGFyX2RpdmlkZShmbG9hdCBoYXIsIG91dCBmbG9hdCBvdXRoYXIpDQp7DQoJb3V0aGFyID0gaGFyIC8gMTI4LjA7DQp9DQoNCnZvaWQgbXRleF9oYXJfbXVsdGlwbHlfY2xhbXAoZmxvYXQgaGFyLCBvdXQgZmxvYXQgb3V0aGFyKQ0Kew0KCWhhciAqPSAxMjguMDsNCg0KCWlmIChoYXIgPCAxLjApIG91dGhhciA9IDEuMDsNCgllbHNlIGlmIChoYXIgPiA1MTEuMCkgb3V0aGFyID0gNTExLjA7DQoJZWxzZSBvdXRoYXIgPSBoYXI7DQp9DQoNCnZvaWQgbXRleF9hbHBoYV9mcm9tX2NvbCh2ZWM0IGNvbCwgb3V0IGZsb2F0IGFscGhhKQ0Kew0KCWFscGhhID0gY29sLmE7DQp9DQoNCnZvaWQgbXRleF9hbHBoYV90b19jb2wodmVjNCBjb2wsIGZsb2F0IGFscGhhLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJb3V0Y29sID0gdmVjNChjb2wucmdiLCBhbHBoYSk7DQp9DQoNCnZvaWQgbXRleF9hbHBoYV9tdWx0aXBseV92YWx1ZSh2ZWM0IGNvbCwgZmxvYXQgdmFsdWUsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglvdXRjb2wgPSB2ZWM0KGNvbC5yZ2IsIGNvbC5hICogdmFsdWUpOw0KfQ0KDQp2b2lkIG10ZXhfcmdidG9pbnQodmVjNCByZ2IsIG91dCBmbG9hdCBpbnRlbnNpdHkpDQp7DQoJaW50ZW5zaXR5ID0gZG90KHZlYzMoMC4zNSwgMC40NSwgMC4yKSwgcmdiLnJnYik7DQp9DQoNCnZvaWQgbXRleF92YWx1ZV9pbnZlcnQoZmxvYXQgaW52YWx1ZSwgb3V0IGZsb2F0IG91dHZhbHVlKQ0Kew0KCW91dHZhbHVlID0gMS4wIC0gaW52YWx1ZTsNCn0NCg0Kdm9pZCBtdGV4X3JnYl9pbnZlcnQodmVjNCBpbnJnYiwgb3V0IHZlYzQgb3V0cmdiKQ0Kew0KCW91dHJnYiA9IHZlYzQodmVjMygxLjApIC0gaW5yZ2IucmdiLCBpbnJnYi5hKTsNCn0NCg0Kdm9pZCBtdGV4X3ZhbHVlX3N0ZW5jaWwoZmxvYXQgc3RlbmNpbCwgZmxvYXQgaW50ZW5zaXR5LCBvdXQgZmxvYXQgb3V0c3RlbmNpbCwgb3V0IGZsb2F0IG91dGludGVuc2l0eSkNCnsNCglmbG9hdCBmYWN0ID0gaW50ZW5zaXR5Ow0KCW91dGludGVuc2l0eSA9IGludGVuc2l0eSAqIHN0ZW5jaWw7DQoJb3V0c3RlbmNpbCA9IHN0ZW5jaWwgKiBmYWN0Ow0KfQ0KDQp2b2lkIG10ZXhfcmdiX3N0ZW5jaWwoZmxvYXQgc3RlbmNpbCwgdmVjNCByZ2IsIG91dCBmbG9hdCBvdXRzdGVuY2lsLCBvdXQgdmVjNCBvdXRyZ2IpDQp7DQoJZmxvYXQgZmFjdCA9IHJnYi5hOw0KCW91dHJnYiA9IHZlYzQocmdiLnJnYiwgcmdiLmEgKiBzdGVuY2lsKTsNCglvdXRzdGVuY2lsID0gc3RlbmNpbCAqIGZhY3Q7DQp9DQoNCnZvaWQgbXRleF9tYXBwaW5nX29mcyh2ZWMzIHRleGNvLCB2ZWMzIG9mcywgb3V0IHZlYzMgb3V0dGV4Y28pDQp7DQoJb3V0dGV4Y28gPSB0ZXhjbyArIG9mczsNCn0NCg0Kdm9pZCBtdGV4X21hcHBpbmdfc2l6ZSh2ZWMzIHRleGNvLCB2ZWMzIHNpemUsIG91dCB2ZWMzIG91dHRleGNvKQ0Kew0KCW91dHRleGNvID0gc2l6ZSAqIHRleGNvOw0KfQ0KDQp2b2lkIG10ZXhfMmRfbWFwcGluZyh2ZWMzIHZlYywgb3V0IHZlYzMgb3V0dmVjKQ0Kew0KCW91dHZlYyA9IHZlYzModmVjLnh5ICogMC41ICsgdmVjMigwLjUpLCB2ZWMueik7DQp9DQoNCnZlYzMgbXRleF8yZF9tYXBwaW5nKHZlYzMgdmVjKQ0Kew0KCXJldHVybiB2ZWMzKHZlYy54eSAqIDAuNSArIHZlYzIoMC41KSwgdmVjLnopOw0KfQ0KDQp2b2lkIG10ZXhfY3ViZV9tYXAodmVjMyBjbywgc2FtcGxlckN1YmUgaW1hLCBvdXQgZmxvYXQgdmFsdWUsIG91dCB2ZWM0IGNvbG9yKQ0Kew0KCWNvbG9yID0gdGV4dHVyZUN1YmUoaW1hLCBjbyk7DQoJdmFsdWUgPSAxLjA7DQp9DQoNCnZvaWQgbXRleF9jdWJlX21hcF9yZWZsX2Zyb21fcmVmbGRpcigNCiAgICAgICAgc2FtcGxlckN1YmUgaW1hLCB2ZWMzIHJlZmxlY3RlZGRpcmVjdGlvbiwgb3V0IGZsb2F0IHZhbHVlLCBvdXQgdmVjNCBjb2xvcikNCnsNCiAgICAgICAgY29sb3IgPSB0ZXh0dXJlQ3ViZShpbWEsIHJlZmxlY3RlZGRpcmVjdGlvbik7DQogICAgICAgIHZhbHVlID0gY29sb3IuYTsNCn0NCg0Kdm9pZCBtdGV4X2N1YmVfbWFwX3JlZmwoDQogICAgICAgIHNhbXBsZXJDdWJlIGltYSwgdmVjMyB2cCwgdmVjMyB2biwgbWF0NCB2aWV3bWF0cml4aW52ZXJzZSwgbWF0NCB2aWV3bWF0cml4LA0KICAgICAgICBvdXQgZmxvYXQgdmFsdWUsIG91dCB2ZWM0IGNvbG9yKQ0Kew0KCXZlYzMgdmlld2RpcmVjdGlvbiA9IHZlYzModmlld21hdHJpeGludmVyc2UgKiB2ZWM0KHZwLCAwLjApKTsNCgl2ZWMzIG5vcm1hbGRpcmVjdGlvbiA9IG5vcm1hbGl6ZSh2ZWMzKHZlYzQodm4sIDAuMCkgKiB2aWV3bWF0cml4KSk7DQoJdmVjMyByZWZsZWN0ZWRkaXJlY3Rpb24gPSByZWZsZWN0KHZpZXdkaXJlY3Rpb24sIG5vcm1hbGRpcmVjdGlvbik7DQoJY29sb3IgPSB0ZXh0dXJlQ3ViZShpbWEsIHJlZmxlY3RlZGRpcmVjdGlvbik7DQoJdmFsdWUgPSAxLjA7DQp9DQoNCnZvaWQgbXRleF9pbWFnZSh2ZWMzIHRleGNvLCBzYW1wbGVyMkQgaW1hLCBvdXQgZmxvYXQgdmFsdWUsIG91dCB2ZWM0IGNvbG9yKQ0Kew0KCWNvbG9yID0gdGV4dHVyZTJEKGltYSwgdGV4Y28ueHkpOw0KCXZhbHVlID0gMS4wOw0KfQ0KDQp2b2lkIG10ZXhfbm9ybWFsKHZlYzMgdGV4Y28sIHNhbXBsZXIyRCBpbWEsIG91dCB2ZWMzIG5vcm1hbCkNCnsNCgkvLyBUaGUgaW52ZXJ0IG9mIHRoZSByZWQgY2hhbm5lbCBpcyB0byBtYWtlDQoJLy8gdGhlIG5vcm1hbCBtYXAgY29tcGxpYW50IHdpdGggdGhlIG91dHNpZGUgd29ybGQuDQoJLy8gSXQgbmVlZHMgdG8gYmUgZG9uZSBiZWNhdXNlIHZhcnlpbmcgQmxlbmRlcg0KCS8vIHRoZSBub3JtYWwgdXNlZCBwb2ludHMgaW53YXJkLg0KCS8vIFNob3VsZCB0aGlzIGV2ZXIgY2hhbmdlIHRoaXMgbmVnYXRlIG11c3QgYmUgcmVtb3ZlZC4NCgl2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKGltYSwgdGV4Y28ueHkpOw0KCW5vcm1hbCA9IDIuMCAqICh2ZWMzKC1jb2xvci5yLCBjb2xvci5nLCBjb2xvci5iKSAtIHZlYzMoLTAuNSwgMC41LCAwLjUpKTsNCn0NCg0Kdm9pZCBtdGV4X2J1bXBfbm9ybWFsc19pbml0KHZlYzMgdk4sIG91dCB2ZWMzIHZOb3JnLCBvdXQgdmVjMyB2TmFjYywgb3V0IGZsb2F0IGZQcmV2TWFnbml0dWRlKQ0Kew0KCXZOb3JnID0gdk47DQoJdk5hY2MgPSB2TjsNCglmUHJldk1hZ25pdHVkZSA9IDEuMDsNCn0NCg0KLyoqIGhlbHBlciBtZXRob2QgdG8gZXh0cmFjdCB0aGUgdXBwZXIgbGVmdCAzeDMgbWF0cml4IGZyb20gYSA0eDQgbWF0cml4ICovDQptYXQzIHRvX21hdDMobWF0NCBtNCkNCnsNCgltYXQzIG0zOw0KCW0zWzBdID0gbTRbMF0ueHl6Ow0KCW0zWzFdID0gbTRbMV0ueHl6Ow0KCW0zWzJdID0gbTRbMl0ueHl6Ow0KCXJldHVybiBtMzsNCn0NCg0Kdm9pZCBtdGV4X2J1bXBfaW5pdF9vYmpzcGFjZSgNCiAgICAgICAgdmVjMyBzdXJmX3BvcywgdmVjMyBzdXJmX25vcm0sDQogICAgICAgIG1hdDQgbVZpZXcsIG1hdDQgbVZpZXdJbnYsIG1hdDQgbU9iaiwgbWF0NCBtT2JqSW52LA0KICAgICAgICBmbG9hdCBmUHJldk1hZ25pdHVkZV9pbiwgdmVjMyB2TmFjY19pbiwNCiAgICAgICAgb3V0IGZsb2F0IGZQcmV2TWFnbml0dWRlX291dCwgb3V0IHZlYzMgdk5hY2Nfb3V0LA0KICAgICAgICBvdXQgdmVjMyB2UjEsIG91dCB2ZWMzIHZSMiwgb3V0IGZsb2F0IGZEZXQpDQp7DQoJbWF0MyBvYmoydmlldyA9IHRvX21hdDMoYmxfTW9kZWxWaWV3TWF0cml4KTsNCgltYXQzIHZpZXcyb2JqID0gdG9fbWF0MyhibF9Nb2RlbFZpZXdNYXRyaXhJbnZlcnNlKTsNCg0KCXZlYzMgdlNpZ21hUyA9IHZpZXcyb2JqICogZEZkeChzdXJmX3Bvcyk7DQoJdmVjMyB2U2lnbWFUID0gdmlldzJvYmogKiBkRmR5KHN1cmZfcG9zKTsNCgl2ZWMzIHZOID0gbm9ybWFsaXplKHN1cmZfbm9ybSAqIG9iajJ2aWV3KTsNCg0KCXZSMSA9IGNyb3NzKHZTaWdtYVQsIHZOKTsNCgl2UjIgPSBjcm9zcyh2TiwgdlNpZ21hUyk7DQoJZkRldCA9IGRvdCh2U2lnbWFTLCB2UjEpOw0KDQoJLyogcHJldHJhbnNmb3JtIHZOYWNjICh2YXJ5aW5nIG10ZXhfYnVtcF9hcHBseSkgdXNpbmcgdGhlIGludmVyc2UgdHJhbnNwb3NlZCAqLw0KCXZSMSA9IHZSMSAqIHZpZXcyb2JqOw0KCXZSMiA9IHZSMiAqIHZpZXcyb2JqOw0KCXZOID0gdk4gKiB2aWV3Mm9iajsNCg0KCWZsb2F0IGZNYWduaXR1ZGUgPSBhYnMoZkRldCkgKiBsZW5ndGgodk4pOw0KCXZOYWNjX291dCA9IHZOYWNjX2luICogKGZNYWduaXR1ZGUgLyBmUHJldk1hZ25pdHVkZV9pbik7DQoJZlByZXZNYWduaXR1ZGVfb3V0ID0gZk1hZ25pdHVkZTsNCn0NCg0Kdm9pZCBtdGV4X2J1bXBfaW5pdF90ZXh0dXJlc3BhY2UoDQogICAgICAgIHZlYzMgc3VyZl9wb3MsIHZlYzMgc3VyZl9ub3JtLA0KICAgICAgICBmbG9hdCBmUHJldk1hZ25pdHVkZV9pbiwgdmVjMyB2TmFjY19pbiwNCiAgICAgICAgb3V0IGZsb2F0IGZQcmV2TWFnbml0dWRlX291dCwgb3V0IHZlYzMgdk5hY2Nfb3V0LA0KICAgICAgICBvdXQgdmVjMyB2UjEsIG91dCB2ZWMzIHZSMiwgb3V0IGZsb2F0IGZEZXQpDQp7DQoJdmVjMyB2U2lnbWFTID0gZEZkeChzdXJmX3Bvcyk7DQoJdmVjMyB2U2lnbWFUID0gZEZkeShzdXJmX3Bvcyk7DQoJdmVjMyB2TiA9IHN1cmZfbm9ybTsgLyogbm9ybWFsaXplZCBpbnRlcnBvbGF0ZWQgdmVydGV4IG5vcm1hbCAqLw0KDQoJdlIxID0gbm9ybWFsaXplKGNyb3NzKHZTaWdtYVQsIHZOKSk7DQoJdlIyID0gbm9ybWFsaXplKGNyb3NzKHZOLCB2U2lnbWFTKSk7DQoJZkRldCA9IHNpZ24oZG90KHZTaWdtYVMsIHZSMSkpOw0KDQoJZmxvYXQgZk1hZ25pdHVkZSA9IGFicyhmRGV0KTsNCgl2TmFjY19vdXQgPSB2TmFjY19pbiAqIChmTWFnbml0dWRlIC8gZlByZXZNYWduaXR1ZGVfaW4pOw0KCWZQcmV2TWFnbml0dWRlX291dCA9IGZNYWduaXR1ZGU7DQp9DQoNCnZvaWQgbXRleF9idW1wX2luaXRfdmlld3NwYWNlKA0KICAgICAgICB2ZWMzIHN1cmZfcG9zLCB2ZWMzIHN1cmZfbm9ybSwNCiAgICAgICAgZmxvYXQgZlByZXZNYWduaXR1ZGVfaW4sIHZlYzMgdk5hY2NfaW4sDQogICAgICAgIG91dCBmbG9hdCBmUHJldk1hZ25pdHVkZV9vdXQsIG91dCB2ZWMzIHZOYWNjX291dCwNCiAgICAgICAgb3V0IHZlYzMgdlIxLCBvdXQgdmVjMyB2UjIsIG91dCBmbG9hdCBmRGV0KQ0Kew0KCXZlYzMgdlNpZ21hUyA9IGRGZHgoc3VyZl9wb3MpOw0KCXZlYzMgdlNpZ21hVCA9IGRGZHkoc3VyZl9wb3MpOw0KCXZlYzMgdk4gPSBzdXJmX25vcm07IC8qIG5vcm1hbGl6ZWQgaW50ZXJwb2xhdGVkIHZlcnRleCBub3JtYWwgKi8NCg0KCXZSMSA9IGNyb3NzKHZTaWdtYVQsIHZOKTsNCgl2UjIgPSBjcm9zcyh2TiwgdlNpZ21hUyk7DQoJZkRldCA9IGRvdCh2U2lnbWFTLCB2UjEpOw0KDQoJZmxvYXQgZk1hZ25pdHVkZSA9IGFicyhmRGV0KTsNCgl2TmFjY19vdXQgPSB2TmFjY19pbiAqIChmTWFnbml0dWRlIC8gZlByZXZNYWduaXR1ZGVfaW4pOw0KCWZQcmV2TWFnbml0dWRlX291dCA9IGZNYWduaXR1ZGU7DQp9DQoNCnZvaWQgbXRleF9idW1wX3RhcDMoDQogICAgICAgIHZlYzMgdGV4Y28sIHNhbXBsZXIyRCBpbWEsIGZsb2F0IGhTY2FsZSwNCiAgICAgICAgb3V0IGZsb2F0IGRCcywgb3V0IGZsb2F0IGRCdCkNCnsNCgl2ZWMyIFNUbGwgPSB0ZXhjby54eTsNCgl2ZWMyIFNUbHIgPSB0ZXhjby54eSArIGRGZHgodGV4Y28ueHkpOw0KCXZlYzIgU1R1bCA9IHRleGNvLnh5ICsgZEZkeSh0ZXhjby54eSk7DQoNCglmbG9hdCBIbGwsIEhsciwgSHVsOw0KCXJnYnRvYncodGV4dHVyZTJEKGltYSwgU1RsbCksIEhsbCk7DQoJcmdidG9idyh0ZXh0dXJlMkQoaW1hLCBTVGxyKSwgSGxyKTsNCglyZ2J0b2J3KHRleHR1cmUyRChpbWEsIFNUdWwpLCBIdWwpOw0KDQoJZEJzID0gaFNjYWxlICogKEhsciAtIEhsbCk7DQoJZEJ0ID0gaFNjYWxlICogKEh1bCAtIEhsbCk7DQp9DQoNCiNpZmRlZiBCVU1QX0JJQ1VCSUMNCg0Kdm9pZCBtdGV4X2J1bXBfYmljdWJpYygNCiAgICAgICAgdmVjMyB0ZXhjbywgc2FtcGxlcjJEIGltYSwgZmxvYXQgaFNjYWxlLA0KICAgICAgICBvdXQgZmxvYXQgZEJzLCBvdXQgZmxvYXQgZEJ0ICkNCnsNCglmbG9hdCBIbDsNCglmbG9hdCBIcjsNCglmbG9hdCBIZDsNCglmbG9hdCBIdTsNCg0KCXZlYzIgVGV4RHggPSBkRmR4KHRleGNvLnh5KTsNCgl2ZWMyIFRleER5ID0gZEZkeSh0ZXhjby54eSk7DQoNCgl2ZWMyIFNUbCA9IHRleGNvLnh5IC0gMC41ICogVGV4RHg7DQoJdmVjMiBTVHIgPSB0ZXhjby54eSArIDAuNSAqIFRleER4Ow0KCXZlYzIgU1RkID0gdGV4Y28ueHkgLSAwLjUgKiBUZXhEeTsNCgl2ZWMyIFNUdSA9IHRleGNvLnh5ICsgMC41ICogVGV4RHk7DQoNCglyZ2J0b2J3KHRleHR1cmUyRChpbWEsIFNUbCksIEhsKTsNCglyZ2J0b2J3KHRleHR1cmUyRChpbWEsIFNUciksIEhyKTsNCglyZ2J0b2J3KHRleHR1cmUyRChpbWEsIFNUZCksIEhkKTsNCglyZ2J0b2J3KHRleHR1cmUyRChpbWEsIFNUdSksIEh1KTsNCg0KCXZlYzIgZEhkeHkgPSB2ZWMyKEhyIC0gSGwsIEh1IC0gSGQpOw0KCWZsb2F0IGZCbGVuZCA9IGNsYW1wKDEuMCAtIHRleHR1cmVRdWVyeUxPRChpbWEsIHRleGNvLnh5KS54LCAwLjAsIDEuMCk7DQoJaWYgKGZCbGVuZCAhPSAwLjApIHsNCgkJLy8gdGhlIGRlcml2YXRpdmUgb2YgdGhlIGJpY3ViaWMgc2FtcGxpbmcgb2YgbGV2ZWwgMA0KCQlpdmVjMiB2RGltOw0KCQl2RGltID0gdGV4dHVyZVNpemUoaW1hLCAwKTsNCg0KCQkvLyB0YWtpbmcgdGhlIGZyYWN0IHBhcnQgb2YgdGhlIHRleHR1cmUgY29vcmRpbmF0ZSBpcyBhIGhhcmRjb2RlZCB3cmFwIG1vZGUuDQoJCS8vIHRoaXMgaXMgYWNjZXB0YWJsZSBhcyB0ZXh0dXJlcyB1c2Ugd3JhcCBtb2RlIGV4Y2x1c2l2ZWx5IHZhcnlpbmcgM0QgdmlldyBlbHNld2hlcmUgdmFyeWluZyBibGVuZGVyLg0KCQkvLyB0aGlzIGlzIGRvbmUgc28gdGhhdCB3ZSBjYW4gc3RpbGwgZ2V0IGEgdmFsaWQgdGV4ZWwgd2l0aCB1dnMgb3V0c2lkZSB0aGUgMCwxIHJhbmdlDQoJCS8vIGJ5IHRleGVsRmV0Y2ggYmVsb3csIGFzIGNvb3JkaW5hdGVzIGFyZSBjbGFtcGVkIHdoZW4gdXNpbmcgdGhpcyBmdW5jdGlvbi4NCgkJdmVjMiBmVGV4TG9jID0gdkRpbSAqIGZyYWN0KHRleGNvLnh5KSAtIHZlYzIoMC41LCAwLjUpOw0KCQlpdmVjMiBpVGV4TG9jID0gaXZlYzIoZmxvb3IoZlRleExvYykpOw0KCQl2ZWMyIHQgPSBjbGFtcChmVGV4TG9jIC0gaVRleExvYywgMC4wLCAxLjApOyAgICAgICAgLy8gc2F0IGp1c3QgdG8gYmUgcGVkYW50aWMNCg0KLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiAqIFRoaXMgYmxvY2sgd2lsbCByZXBsYWNlIHRoZSBvbmUgYmVsb3cgd2hlbiBvbmUgY2hhbm5lbCB0ZXh0dXJlcyBhcmUgcHJvcGVybHkgc3VwcG9ydGVkLiAqDQogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KCQl2ZWM0IHZTYW1wbGVzVUwgPSB0ZXh0dXJlR2F0aGVyKGltYSwgKGlUZXhMb2MraXZlYzIoLTEsLTEpICsgdmVjMigwLjUsMC41KSkvdkRpbSk7DQoJCXZlYzQgdlNhbXBsZXNVUiA9IHRleHR1cmVHYXRoZXIoaW1hLCAoaVRleExvYytpdmVjMigxLC0xKSArIHZlYzIoMC41LDAuNSkpL3ZEaW0pOw0KCQl2ZWM0IHZTYW1wbGVzTEwgPSB0ZXh0dXJlR2F0aGVyKGltYSwgKGlUZXhMb2MraXZlYzIoLTEsMSkgKyB2ZWMyKDAuNSwwLjUpKS92RGltKTsNCgkJdmVjNCB2U2FtcGxlc0xSID0gdGV4dHVyZUdhdGhlcihpbWEsIChpVGV4TG9jK2l2ZWMyKDEsMSkgKyB2ZWMyKDAuNSwwLjUpKS92RGltKTsNCg0KCQltYXQ0IEggPSBtYXQ0KHZTYW1wbGVzVUwudywgdlNhbXBsZXNVTC54LCB2U2FtcGxlc0xMLncsIHZTYW1wbGVzTEwueCwNCgkJICAgICAgICAgICAgdlNhbXBsZXNVTC56LCB2U2FtcGxlc1VMLnksIHZTYW1wbGVzTEwueiwgdlNhbXBsZXNMTC55LA0KCQkgICAgICAgICAgICB2U2FtcGxlc1VSLncsIHZTYW1wbGVzVVIueCwgdlNhbXBsZXNMUi53LCB2U2FtcGxlc0xSLngsDQoJCSAgICAgICAgICAgIHZTYW1wbGVzVVIueiwgdlNhbXBsZXNVUi55LCB2U2FtcGxlc0xSLnosIHZTYW1wbGVzTFIueSk7DQogKi8NCgkJaXZlYzIgaVRleExvY01vZCA9IGlUZXhMb2MgKyBpdmVjMigtMSwgLTEpOw0KDQoJCW1hdDQgSDsNCg0KCQlmb3IgKGludCBpID0gMDsgaSA8IDQ7IGkrKykgew0KCQkJZm9yIChpbnQgaiA9IDA7IGogPCA0OyBqKyspIHsNCgkJCQlpdmVjMiBpVGV4VG1wID0gaVRleExvY01vZCArIGl2ZWMyKGksIGopOw0KDQoJCQkJLy8gd3JhcCB0ZXh0dXJlIGNvb3JkaW5hdGVzIG1hbnVhbGx5IGZvciB0ZXhlbEZldGNoIHRvIHdvcmsgb24gdXZzIG9pdHNpZGUgdGhlIDAsMSByYW5nZS4NCgkJCQkvLyB0aGlzIGlzIGd1YXJhbnRlZWQgdG8gd29yayBzaW5jZSB3ZSB0YWtlIHRoZSBmcmFjdGlvbmFsIHBhcnQgb2YgdGhlIHV2IGFib3ZlLg0KCQkJCWlUZXhUbXAueCA9IChpVGV4VG1wLnggPCAwKSA/IGlUZXhUbXAueCArIHZEaW0ueCA6ICgoaVRleFRtcC54ID49IHZEaW0ueCkgPyBpVGV4VG1wLnggLSB2RGltLnggOiBpVGV4VG1wLngpOw0KCQkJCWlUZXhUbXAueSA9IChpVGV4VG1wLnkgPCAwKSA/IGlUZXhUbXAueSArIHZEaW0ueSA6ICgoaVRleFRtcC55ID49IHZEaW0ueSkgPyBpVGV4VG1wLnkgLSB2RGltLnkgOiBpVGV4VG1wLnkpOw0KDQoJCQkJcmdidG9idyh0ZXhlbEZldGNoKGltYSwgaVRleFRtcCwgMCksIEhbaV1bal0pOw0KCQkJfQ0KCQl9DQoNCgkJZmxvYXQgeCA9IHQueCwgeSA9IHQueTsNCgkJZmxvYXQgeDIgPSB4ICogeCwgeDMgPSB4MiAqIHgsIHkyID0geSAqIHksIHkzID0geTIgKiB5Ow0KDQoJCXZlYzQgWCAgPSB2ZWM0KC0wLjUgKiAoeDMgKyB4KSArIHgyLCAgICAxLjUgKiB4MyAtIDIuNSAqIHgyICsgMSwgLTEuNSAqIHgzICsgMiAqIHgyICsgMC41ICogeCwgMC41ICogKHgzIC0geDIpKTsNCgkJdmVjNCBZICA9IHZlYzQoLTAuNSAqICh5MyArIHkpICsgeTIsICAgIDEuNSAqIHkzIC0gMi41ICogeTIgKyAxLCAtMS41ICogeTMgKyAyICogeTIgKyAwLjUgKiB5LCAwLjUgKiAoeTMgLSB5MikpOw0KCQl2ZWM0IGRYID0gdmVjNCgtMS41ICogeDIgKyAyICogeCAtIDAuNSwgNC41ICogeDIgLSA1ICogeCwgICAgICAgIC00LjUgKiB4MiArIDQgKiB4ICsgMC41LCAgICAgIDEuNSAqIHgyIC0geCk7DQoJCXZlYzQgZFkgPSB2ZWM0KC0xLjUgKiB5MiArIDIgKiB5IC0gMC41LCA0LjUgKiB5MiAtIDUgKiB5LCAgICAgICAgLTQuNSAqIHkyICsgNCAqIHkgKyAwLjUsICAgICAgMS41ICogeTIgLSB5KTsNCg0KCQkvLyBjb21wbGV0ZSBkZXJpdmF0aXZlIHZhcnlpbmcgbm9ybWFsaXplZCBjb29yZGluYXRlcyAobXVsIGJ5IHZEaW0pDQoJCXZlYzIgZEhkU1QgPSB2RGltICogdmVjMihkb3QoWSwgSCAqIGRYKSwgZG90KGRZLCBIICogWCkpOw0KDQoJCS8vIHRyYW5zZm9ybSBkZXJpdmF0aXZlIHRvIHNjcmVlbi1zcGFjZQ0KCQl2ZWMyIGRIZHh5X2JpY3ViaWMgPSB2ZWMyKGRIZFNULnggKiBUZXhEeC54ICsgZEhkU1QueSAqIFRleER4LnksDQoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgZEhkU1QueCAqIFRleER5LnggKyBkSGRTVC55ICogVGV4RHkueSk7DQoNCgkJLy8gYmxlbmQgYmV0d2VlbiB0aGUgdHdvDQoJCWRIZHh5ID0gZEhkeHkgKiAoMSAtIGZCbGVuZCkgKyBkSGR4eV9iaWN1YmljICogZkJsZW5kOw0KCX0NCg0KCWRCcyA9IGhTY2FsZSAqIGRIZHh5Lng7DQoJZEJ0ID0gaFNjYWxlICogZEhkeHkueTsNCn0NCg0KI2VuZGlmDQoNCnZvaWQgbXRleF9idW1wX3RhcDUoDQogICAgICAgIHZlYzMgdGV4Y28sIHNhbXBsZXIyRCBpbWEsIGZsb2F0IGhTY2FsZSwNCiAgICAgICAgb3V0IGZsb2F0IGRCcywgb3V0IGZsb2F0IGRCdCkNCnsNCgl2ZWMyIFRleER4ID0gZEZkeCh0ZXhjby54eSk7DQoJdmVjMiBUZXhEeSA9IGRGZHkodGV4Y28ueHkpOw0KDQoJdmVjMiBTVGMgPSB0ZXhjby54eTsNCgl2ZWMyIFNUbCA9IHRleGNvLnh5IC0gMC41ICogVGV4RHg7DQoJdmVjMiBTVHIgPSB0ZXhjby54eSArIDAuNSAqIFRleER4Ow0KCXZlYzIgU1RkID0gdGV4Y28ueHkgLSAwLjUgKiBUZXhEeTsNCgl2ZWMyIFNUdSA9IHRleGNvLnh5ICsgMC41ICogVGV4RHk7DQoNCglmbG9hdCBIYywgSGwsIEhyLCBIZCwgSHU7DQoJcmdidG9idyh0ZXh0dXJlMkQoaW1hLCBTVGMpLCBIYyk7DQoJcmdidG9idyh0ZXh0dXJlMkQoaW1hLCBTVGwpLCBIbCk7DQoJcmdidG9idyh0ZXh0dXJlMkQoaW1hLCBTVHIpLCBIcik7DQoJcmdidG9idyh0ZXh0dXJlMkQoaW1hLCBTVGQpLCBIZCk7DQoJcmdidG9idyh0ZXh0dXJlMkQoaW1hLCBTVHUpLCBIdSk7DQoNCglkQnMgPSBoU2NhbGUgKiAoSHIgLSBIbCk7DQoJZEJ0ID0gaFNjYWxlICogKEh1IC0gSGQpOw0KfQ0KDQp2b2lkIG10ZXhfYnVtcF9kZXJpdigNCiAgICAgICAgdmVjMyB0ZXhjbywgc2FtcGxlcjJEIGltYSwgZmxvYXQgaW1hX3gsIGZsb2F0IGltYV95LCBmbG9hdCBoU2NhbGUsDQogICAgICAgIG91dCBmbG9hdCBkQnMsIG91dCBmbG9hdCBkQnQpDQp7DQoJZmxvYXQgcyA9IDEuMDsgICAgICAvLyBuZWdhdGUgdGhpcyBpZiBmbGlwcGVkIHRleHR1cmUgY29vcmRpbmF0ZQ0KCXZlYzIgVGV4RHggPSBkRmR4KHRleGNvLnh5KTsNCgl2ZWMyIFRleER5ID0gZEZkeSh0ZXhjby54eSk7DQoNCgkvLyB0aGlzIHZhcmlhbnQgdXNpbmcgYSBkZXJpdmF0aXZlIG1hcCBpcyBkZXNjcmliZWQgaGVyZQ0KCS8vIGh0dHA6Ly9tbWlra2Vsc2VuM2QuYmxvZ3Nwb3QuY29tLzIwMTEvMDcvZGVyaXZhdGl2ZS1tYXBzLmh0bWwNCgl2ZWMyIGRpbSA9IHZlYzIoaW1hX3gsIGltYV95KTsNCgl2ZWMyIGRCZHV2ID0gaFNjYWxlICogZGltICogKDIuMCAqIHRleHR1cmUyRChpbWEsIHRleGNvLnh5KS54eSAtIDEuMCk7DQoNCglkQnMgPSBkQmR1di54ICogVGV4RHgueCArIHMgKiBkQmR1di55ICogVGV4RHgueTsNCglkQnQgPSBkQmR1di54ICogVGV4RHkueCArIHMgKiBkQmR1di55ICogVGV4RHkueTsNCn0NCg0Kdm9pZCBtdGV4X2J1bXBfYXBwbHkoDQogICAgICAgIGZsb2F0IGZEZXQsIGZsb2F0IGRCcywgZmxvYXQgZEJ0LCB2ZWMzIHZSMSwgdmVjMyB2UjIsIHZlYzMgdk5hY2NfaW4sDQogICAgICAgIG91dCB2ZWMzIHZOYWNjX291dCwgb3V0IHZlYzMgcGVydHVyYmVkX25vcm0pDQp7DQoJdmVjMyB2U3VyZkdyYWQgPSBzaWduKGZEZXQpICogKGRCcyAqIHZSMSArIGRCdCAqIHZSMik7DQoNCgl2TmFjY19vdXQgPSB2TmFjY19pbiAtIHZTdXJmR3JhZDsNCglwZXJ0dXJiZWRfbm9ybSA9IG5vcm1hbGl6ZSh2TmFjY19vdXQpOw0KfQ0KDQp2b2lkIG10ZXhfYnVtcF9hcHBseV90ZXhzcGFjZSgNCiAgICAgICAgZmxvYXQgZkRldCwgZmxvYXQgZEJzLCBmbG9hdCBkQnQsIHZlYzMgdlIxLCB2ZWMzIHZSMiwNCiAgICAgICAgc2FtcGxlcjJEIGltYSwgdmVjMyB0ZXhjbywgZmxvYXQgaW1hX3gsIGZsb2F0IGltYV95LCB2ZWMzIHZOYWNjX2luLA0KICAgICAgICBvdXQgdmVjMyB2TmFjY19vdXQsIG91dCB2ZWMzIHBlcnR1cmJlZF9ub3JtKQ0Kew0KCXZlYzIgVGV4RHggPSBkRmR4KHRleGNvLnh5KTsNCgl2ZWMyIFRleER5ID0gZEZkeSh0ZXhjby54eSk7DQoNCgl2ZWMzIHZTdXJmR3JhZCA9IHNpZ24oZkRldCkgKiAoDQoJICAgICAgICBkQnMgLyBsZW5ndGgodmVjMihpbWFfeCAqIFRleER4LngsIGltYV95ICogVGV4RHgueSkpICogdlIxICsNCgkgICAgICAgIGRCdCAvIGxlbmd0aCh2ZWMyKGltYV94ICogVGV4RHkueCwgaW1hX3kgKiBUZXhEeS55KSkgKiB2UjIpOw0KDQoJdk5hY2Nfb3V0ID0gdk5hY2NfaW4gLSB2U3VyZkdyYWQ7DQoJcGVydHVyYmVkX25vcm0gPSBub3JtYWxpemUodk5hY2Nfb3V0KTsNCn0NCg0Kdm9pZCBtdGV4X25lZ2F0ZV90ZXhub3JtYWwodmVjMyBub3JtYWwsIG91dCB2ZWMzIG91dG5vcm1hbCkNCnsNCglvdXRub3JtYWwgPSB2ZWMzKC1ub3JtYWwueCwgLW5vcm1hbC55LCBub3JtYWwueik7DQp9DQoNCnZvaWQgbXRleF9uc3BhY2VfdGFuZ2VudCh2ZWM0IHRhbmdlbnQsIHZlYzMgbm9ybWFsLCB2ZWMzIHRleG5vcm1hbCwgb3V0IHZlYzMgb3V0bm9ybWFsKQ0Kew0KCXZlYzMgQiA9IHRhbmdlbnQudyAqIGNyb3NzKG5vcm1hbCwgdGFuZ2VudC54eXopOw0KDQoJb3V0bm9ybWFsID0gdGV4bm9ybWFsLnggKiB0YW5nZW50Lnh5eiArIHRleG5vcm1hbC55ICogQiArIHRleG5vcm1hbC56ICogbm9ybWFsOw0KCW91dG5vcm1hbCA9IG5vcm1hbGl6ZShvdXRub3JtYWwpOw0KfQ0KDQp2b2lkIG10ZXhfbnNwYWNlX3dvcmxkKG1hdDQgdmlld21hdCwgdmVjMyB0ZXhub3JtYWwsIG91dCB2ZWMzIG91dG5vcm1hbCkNCnsNCglvdXRub3JtYWwgPSBub3JtYWxpemUoKHZpZXdtYXQgKiB2ZWM0KHRleG5vcm1hbCwgMC4wKSkueHl6KTsNCn0NCg0Kdm9pZCBtdGV4X25zcGFjZV9vYmplY3QodmVjMyB0ZXhub3JtYWwsIG91dCB2ZWMzIG91dG5vcm1hbCkNCnsNCglvdXRub3JtYWwgPSBub3JtYWxpemUoYmxfTm9ybWFsTWF0cml4ICogdGV4bm9ybWFsKTsNCn0NCg0Kdm9pZCBtdGV4X2JsZW5kX25vcm1hbChmbG9hdCBub3JmYWMsIHZlYzMgbm9ybWFsLCB2ZWMzIG5ld25vcm1hbCwgb3V0IHZlYzMgb3V0bm9ybWFsKQ0Kew0KCW91dG5vcm1hbCA9ICgxLjAgLSBub3JmYWMpICogbm9ybWFsICsgbm9yZmFjICogbmV3bm9ybWFsOw0KCW91dG5vcm1hbCA9IG5vcm1hbGl6ZShvdXRub3JtYWwpOw0KfQ0KDQovKioqKioqKiBNQVRFUklBTCAqKioqKioqKiovDQoNCnZvaWQgbGFtcF92aXNpYmlsaXR5X3N1bl9oZW1pKHZlYzMgbGFtcHZlYywgb3V0IHZlYzMgbHYsIG91dCBmbG9hdCBkaXN0LCBvdXQgZmxvYXQgdmlzaWZhYykNCnsNCglsdiA9IGxhbXB2ZWM7DQoJZGlzdCA9IDEuMDsNCgl2aXNpZmFjID0gMS4wOw0KfQ0KDQp2b2lkIGxhbXBfdmlzaWJpbGl0eV9vdGhlcih2ZWMzIGNvLCB2ZWMzIGxhbXBjbywgb3V0IHZlYzMgbHYsIG91dCBmbG9hdCBkaXN0LCBvdXQgZmxvYXQgdmlzaWZhYykNCnsNCglsdiA9IGNvIC0gbGFtcGNvOw0KCWRpc3QgPSBsZW5ndGgobHYpOw0KCWx2ID0gbm9ybWFsaXplKGx2KTsNCgl2aXNpZmFjID0gMS4wOw0KfQ0KDQp2b2lkIGxhbXBfZmFsbG9mZl9pbnZsaW5lYXIoZmxvYXQgbGFtcGRpc3QsIGZsb2F0IGRpc3QsIG91dCBmbG9hdCB2aXNpZmFjKQ0Kew0KCXZpc2lmYWMgPSBsYW1wZGlzdCAvIChsYW1wZGlzdCArIGRpc3QpOw0KfQ0KDQp2b2lkIGxhbXBfZmFsbG9mZl9pbnZzcXVhcmUoZmxvYXQgbGFtcGRpc3QsIGZsb2F0IGRpc3QsIG91dCBmbG9hdCB2aXNpZmFjKQ0Kew0KCXZpc2lmYWMgPSBsYW1wZGlzdCAvIChsYW1wZGlzdCArIGRpc3QgKiBkaXN0KTsNCn0NCg0Kdm9pZCBsYW1wX2ZhbGxvZmZfc2xpZGVycyhmbG9hdCBsYW1wZGlzdCwgZmxvYXQgbGQxLCBmbG9hdCBsZDIsIGZsb2F0IGRpc3QsIG91dCBmbG9hdCB2aXNpZmFjKQ0Kew0KCWZsb2F0IGxhbXBkaXN0a3cgPSBsYW1wZGlzdCAqIGxhbXBkaXN0Ow0KDQoJdmlzaWZhYyA9IGxhbXBkaXN0IC8gKGxhbXBkaXN0ICsgbGQxICogZGlzdCk7DQoJdmlzaWZhYyAqPSBsYW1wZGlzdGt3IC8gKGxhbXBkaXN0a3cgKyBsZDIgKiBkaXN0ICogZGlzdCk7DQp9DQoNCnZvaWQgbGFtcF9mYWxsb2ZmX2ludmNvZWZmaWNpZW50cyhmbG9hdCBjb2VmZl9jb25zdCwgZmxvYXQgY29lZmZfbGluLCBmbG9hdCBjb2VmZl9xdWFkLCBmbG9hdCBkaXN0LCBvdXQgZmxvYXQgdmlzaWZhYykNCnsNCgl2ZWMzIGNvZWZmID0gdmVjMyhjb2VmZl9jb25zdCwgY29lZmZfbGluLCBjb2VmZl9xdWFkKTsNCgl2ZWMzIGRfY29lZmYgPSB2ZWMzKDEuMCwgZGlzdCwgZGlzdCAqIGRpc3QpOw0KCWZsb2F0IHZpc2lmYWNfciA9IGRvdChjb2VmZiwgZF9jb2VmZik7DQoJaWYgKHZpc2lmYWNfciA+IDAuMCkNCgkJdmlzaWZhYyA9IDEuMCAvIHZpc2lmYWNfcjsNCgllbHNlDQoJCXZpc2lmYWMgPSAwLjA7DQp9DQoNCnZvaWQgbGFtcF9mYWxsb2ZmX2N1cnZlKGZsb2F0IGxhbXBkaXN0LCBzYW1wbGVyMkQgY3VydmVtYXAsIGZsb2F0IGRpc3QsIG91dCBmbG9hdCB2aXNpZmFjKQ0Kew0KCXZpc2lmYWMgPSB0ZXh0dXJlMkQoY3VydmVtYXAsIHZlYzIoZGlzdCAvIGxhbXBkaXN0LCAwLjApKS54Ow0KfQ0KDQp2b2lkIGxhbXBfdmlzaWJpbGl0eV9zcGhlcmUoZmxvYXQgbGFtcGRpc3QsIGZsb2F0IGRpc3QsIGZsb2F0IHZpc2lmYWMsIG91dCBmbG9hdCBvdXR2aXNpZmFjKQ0Kew0KCWZsb2F0IHQgPSBsYW1wZGlzdCAtIGRpc3Q7DQoNCglvdXR2aXNpZmFjID0gdmlzaWZhYyAqIG1heCh0LCAwLjApIC8gbGFtcGRpc3Q7DQp9DQoNCnZvaWQgbGFtcF92aXNpYmlsaXR5X3Nwb3Rfc3F1YXJlKHZlYzMgbGFtcHZlYywgbWF0NCBsYW1waW1hdCwgdmVjMiBzY2FsZSwgdmVjMyBsdiwgb3V0IGZsb2F0IGlucHIpDQp7DQoJaWYgKGRvdChsdiwgbGFtcHZlYykgPiAwLjApIHsNCgkJdmVjMyBsdnJvdCA9IChsYW1waW1hdCAqIHZlYzQobHYsIDAuMCkpLnh5ejsNCgkJLyogd2l0aG91dCBjbGV2ZXIgbm9uLXVuaWZvcm0gc2NhbGUsIHdlIGNvdWxkIGRvOiAqLw0KCQkvLyBmbG9hdCB4ID0gbWF4KGFicyhsdnJvdC54IC8gbHZyb3QueiksIGFicyhsdnJvdC55IC8gbHZyb3QueikpOw0KCQlmbG9hdCB4ID0gbWF4KGFicygobHZyb3QueCAvIHNjYWxlLngpIC8gbHZyb3QueiksIGFicygobHZyb3QueSAvIHNjYWxlLnkpIC8gbHZyb3QueikpOw0KDQoJCWlucHIgPSAxLjAgLyBzcXJ0KDEuMCArIHggKiB4KTsNCgl9DQoJZWxzZQ0KCQlpbnByID0gMC4wOw0KfQ0KDQp2b2lkIGxhbXBfdmlzaWJpbGl0eV9zcG90X2NpcmNsZSh2ZWMzIGxhbXB2ZWMsIG1hdDQgbGFtcGltYXQsIHZlYzIgc2NhbGUsIHZlYzMgbHYsIG91dCBmbG9hdCBpbnByKQ0Kew0KCS8qIHdpdGhvdXQgY2xldmVyIG5vbi11bmlmb3JtIHNjYWxlLCB3ZSBjb3VsZCBkbzogKi8NCgkvLyBpbnByID0gZG90KGx2LCBsYW1wdmVjKTsNCglpZiAoZG90KGx2LCBsYW1wdmVjKSA+IDAuMCkgew0KCQl2ZWMzIGx2cm90ID0gKGxhbXBpbWF0ICogdmVjNChsdiwgMC4wKSkueHl6Ow0KCQlmbG9hdCB4ID0gYWJzKGx2cm90LnggLyBsdnJvdC56KTsNCgkJZmxvYXQgeSA9IGFicyhsdnJvdC55IC8gbHZyb3Queik7DQoNCgkJZmxvYXQgZWxsaXBzZSA9IGFicygoeCAqIHgpIC8gKHNjYWxlLnggKiBzY2FsZS54KSArICh5ICogeSkgLyAoc2NhbGUueSAqIHNjYWxlLnkpKTsNCg0KCQlpbnByID0gMS4wIC8gc3FydCgxLjAgKyBlbGxpcHNlKTsNCgl9DQoJZWxzZQ0KCQlpbnByID0gMC4wOw0KfQ0KDQp2b2lkIGxhbXBfdmlzaWJpbGl0eV9zcG90KGZsb2F0IHNwb3RzaSwgZmxvYXQgc3BvdGJsLCBmbG9hdCBpbnByLCBmbG9hdCB2aXNpZmFjLCBvdXQgZmxvYXQgb3V0dmlzaWZhYykNCnsNCglmbG9hdCB0ID0gc3BvdHNpOw0KDQoJaWYgKGlucHIgPD0gdCkgew0KCQlvdXR2aXNpZmFjID0gMC4wOw0KCX0NCgllbHNlIHsNCgkJdCA9IGlucHIgLSB0Ow0KDQoJCS8qIHNvZnQgYXJlYSAqLw0KCQlpZiAoc3BvdGJsICE9IDAuMCkNCgkJCWlucHIgKj0gc21vb3Roc3RlcCgwLjAsIDEuMCwgdCAvIHNwb3RibCk7DQoNCgkJb3V0dmlzaWZhYyA9IHZpc2lmYWMgKiBpbnByOw0KCX0NCn0NCg0Kdm9pZCBsYW1wX3Zpc2liaWxpdHlfY2xhbXAoZmxvYXQgdmlzaWZhYywgb3V0IGZsb2F0IG91dHZpc2lmYWMpDQp7DQoJb3V0dmlzaWZhYyA9ICh2aXNpZmFjIDwgMC4wMDEpID8gMC4wIDogdmlzaWZhYzsNCn0NCg0Kdm9pZCB3b3JsZF9wYXBlcl92aWV3KHZlYzMgdmVjLCBvdXQgdmVjMyBvdXR2ZWMpDQp7DQoJdmVjMyBudmVjID0gbm9ybWFsaXplKHZlYyk7DQoJb3V0dmVjID0gKGJsX1Byb2plY3Rpb25NYXRyaXhbM11bM10gPT0gMC4wKSA/IHZlYzMobnZlYy54LCAwLjAsIG52ZWMueSkgOiB2ZWMzKDAuMCwgMC4wLCAtMS4wKTsNCn0NCg0Kdm9pZCB3b3JsZF96ZW5fbWFwcGluZyh2ZWMzIHZpZXcsIGZsb2F0IHplbnVwLCBmbG9hdCB6ZW5kb3duLCBvdXQgZmxvYXQgemVuZmFjKQ0Kew0KCWlmICh2aWV3LnogPj0gMC4wKQ0KCQl6ZW5mYWMgPSB6ZW51cDsNCgllbHNlDQoJCXplbmZhYyA9IHplbmRvd247DQp9DQoNCnZvaWQgd29ybGRfYmxlbmRfcGFwZXJfcmVhbCh2ZWMzIHZlYywgb3V0IGZsb2F0IGJsZW5kKQ0Kew0KCWJsZW5kID0gYWJzKHZlYy55KTsNCn0NCg0Kdm9pZCB3b3JsZF9ibGVuZF9wYXBlcih2ZWMzIHZlYywgb3V0IGZsb2F0IGJsZW5kKQ0Kew0KCWJsZW5kID0gKHZlYy55ICsgMS4wKSAqIDAuNTsNCn0NCg0Kdm9pZCB3b3JsZF9ibGVuZF9yZWFsKHZlYzMgdmVjLCBvdXQgZmxvYXQgYmxlbmQpDQp7DQoJYmxlbmQgPSBhYnMobm9ybWFsaXplKHZlYykueik7DQp9DQoNCnZvaWQgd29ybGRfYmxlbmQodmVjMyB2ZWMsIG91dCBmbG9hdCBibGVuZCkNCnsNCglibGVuZCA9IChub3JtYWxpemUodmVjKS56ICsgMS4wKSAqIDAuNTsNCn0NCg0Kdm9pZCBzaGFkZV92aWV3KHZlYzMgY28sIG91dCB2ZWMzIHZpZXcpDQp7DQoJLyogaGFuZGxlIHBlcnNwZWN0aXZlL29ydGhvZ3JhcGhpYyAqLw0KCXZpZXcgPSAoYmxfUHJvamVjdGlvbk1hdHJpeFszXVszXSA9PSAwLjApID8gbm9ybWFsaXplKGNvKSA6IHZlYzMoMC4wLCAwLjAsIC0xLjApOw0KfQ0KDQp2b2lkIHNoYWRlX3RhbmdlbnRfdih2ZWMzIGx2LCB2ZWMzIHRhbmcsIG91dCB2ZWMzIHZuKQ0Kew0KCXZlYzMgYyA9IGNyb3NzKGx2LCB0YW5nKTsNCgl2ZWMzIHZub3IgPSBjcm9zcyhjLCB0YW5nKTsNCg0KCXZuID0gLW5vcm1hbGl6ZSh2bm9yKTsNCn0NCg0Kdm9pZCBzaGFkZV9pbnAodmVjMyB2biwgdmVjMyBsdiwgb3V0IGZsb2F0IGlucCkNCnsNCglpbnAgPSBkb3Qodm4sIGx2KTsNCn0NCg0Kdm9pZCBzaGFkZV9pc19ub19kaWZmdXNlKG91dCBmbG9hdCBpcykNCnsNCglpcyA9IDAuMDsNCn0NCg0Kdm9pZCBzaGFkZV9pc19oZW1pKGZsb2F0IGlucCwgb3V0IGZsb2F0IGlzKQ0Kew0KCWlzID0gMC41ICogaW5wICsgMC41Ow0KfQ0KDQpmbG9hdCBhcmVhX2xhbXBfZW5lcmd5KG1hdDQgYXJlYSwgdmVjMyBjbywgdmVjMyB2bikNCnsNCgl2ZWMzIHZlY1s0XSwgY1s0XTsNCglmbG9hdCByYWRbNF0sIGZhYzsNCg0KCXZlY1swXSA9IG5vcm1hbGl6ZShjbyAtIGFyZWFbMF0ueHl6KTsNCgl2ZWNbMV0gPSBub3JtYWxpemUoY28gLSBhcmVhWzFdLnh5eik7DQoJdmVjWzJdID0gbm9ybWFsaXplKGNvIC0gYXJlYVsyXS54eXopOw0KCXZlY1szXSA9IG5vcm1hbGl6ZShjbyAtIGFyZWFbM10ueHl6KTsNCg0KCWNbMF0gPSBub3JtYWxpemUoY3Jvc3ModmVjWzBdLCB2ZWNbMV0pKTsNCgljWzFdID0gbm9ybWFsaXplKGNyb3NzKHZlY1sxXSwgdmVjWzJdKSk7DQoJY1syXSA9IG5vcm1hbGl6ZShjcm9zcyh2ZWNbMl0sIHZlY1szXSkpOw0KCWNbM10gPSBub3JtYWxpemUoY3Jvc3ModmVjWzNdLCB2ZWNbMF0pKTsNCg0KCXJhZFswXSA9IGFjb3MoZG90KHZlY1swXSwgdmVjWzFdKSk7DQoJcmFkWzFdID0gYWNvcyhkb3QodmVjWzFdLCB2ZWNbMl0pKTsNCglyYWRbMl0gPSBhY29zKGRvdCh2ZWNbMl0sIHZlY1szXSkpOw0KCXJhZFszXSA9IGFjb3MoZG90KHZlY1szXSwgdmVjWzBdKSk7DQoNCglmYWMgPSAgcmFkWzBdICogZG90KHZuLCBjWzBdKTsNCglmYWMgKz0gcmFkWzFdICogZG90KHZuLCBjWzFdKTsNCglmYWMgKz0gcmFkWzJdICogZG90KHZuLCBjWzJdKTsNCglmYWMgKz0gcmFkWzNdICogZG90KHZuLCBjWzNdKTsNCg0KCXJldHVybiBtYXgoZmFjLCAwLjApOw0KfQ0KDQp2b2lkIHNoYWRlX2lucF9hcmVhKA0KICAgICAgICB2ZWMzIHBvc2l0aW9uLCB2ZWMzIGxhbXBjbywgdmVjMyBsYW1wdmVjLCB2ZWMzIHZuLCBtYXQ0IGFyZWEsIGZsb2F0IGFyZWFzaXplLCBmbG9hdCBrLA0KICAgICAgICBvdXQgZmxvYXQgaW5wKQ0Kew0KCXZlYzMgY28gPSBwb3NpdGlvbjsNCgl2ZWMzIHZlYyA9IGNvIC0gbGFtcGNvOw0KDQoJaWYgKGRvdCh2ZWMsIGxhbXB2ZWMpIDwgMC4wKSB7DQoJCWlucCA9IDAuMDsNCgl9DQoJZWxzZSB7DQoJCWZsb2F0IGludGVucyA9IGFyZWFfbGFtcF9lbmVyZ3koYXJlYSwgY28sIHZuKTsNCg0KCQlpbnAgPSBwb3coaW50ZW5zICogYXJlYXNpemUsIGspOw0KCX0NCn0NCg0Kdm9pZCBzaGFkZV9kaWZmdXNlX29yZW5fbmF5ZXIoZmxvYXQgbmwsIHZlYzMgbiwgdmVjMyBsLCB2ZWMzIHYsIGZsb2F0IHJvdWdoLCBvdXQgZmxvYXQgaXMpDQp7DQoJdmVjMyBoID0gbm9ybWFsaXplKHYgKyBsKTsNCglmbG9hdCBuaCA9IG1heChkb3QobiwgaCksIDAuMCk7DQoJZmxvYXQgbnYgPSBtYXgoZG90KG4sIHYpLCAwLjApOw0KCWZsb2F0IHJlYWxubCA9IGRvdChuLCBsKTsNCg0KCWlmIChyZWFsbmwgPCAwLjApIHsNCgkJaXMgPSAwLjA7DQoJfQ0KCWVsc2UgaWYgKG5sIDwgMC4wKSB7DQoJCWlzID0gMC4wOw0KCX0NCgllbHNlIHsNCgkJZmxvYXQgdmggPSBtYXgoZG90KHYsIGgpLCAwLjApOw0KCQlmbG9hdCBMaXRfQSA9IGFjb3MocmVhbG5sKTsNCgkJZmxvYXQgVmlld19BID0gYWNvcyhudik7DQoNCgkJdmVjMyBMaXRfQiA9IG5vcm1hbGl6ZShsIC0gcmVhbG5sICogbik7DQoJCXZlYzMgVmlld19CID0gbm9ybWFsaXplKHYgLSBudiAqIG4pOw0KDQoJCWZsb2F0IHQgPSBtYXgoZG90KExpdF9CLCBWaWV3X0IpLCAwLjApOw0KDQoJCWZsb2F0IGEsIGI7DQoNCgkJaWYgKExpdF9BID4gVmlld19BKSB7DQoJCQlhID0gTGl0X0E7DQoJCQliID0gVmlld19BOw0KCQl9DQoJCWVsc2Ugew0KCQkJYSA9IFZpZXdfQTsNCgkJCWIgPSBMaXRfQTsNCgkJfQ0KDQoJCWZsb2F0IEEgPSAxLjAgLSAoMC41ICogKChyb3VnaCAqIHJvdWdoKSAvICgocm91Z2ggKiByb3VnaCkgKyAwLjMzKSkpOw0KCQlmbG9hdCBCID0gMC40NSAqICgocm91Z2ggKiByb3VnaCkgLyAoKHJvdWdoICogcm91Z2gpICsgMC4wOSkpOw0KDQoJCWIgKj0gMC45NTsNCgkJaXMgPSBubCAqIChBICsgKEIgKiB0ICogc2luKGEpICogdGFuKGIpKSk7DQoJfQ0KfQ0KDQp2b2lkIHNoYWRlX2RpZmZ1c2VfdG9vbih2ZWMzIG4sIHZlYzMgbCwgdmVjMyB2LCBmbG9hdCBzaXplLCBmbG9hdCB0c21vb3RoLCBvdXQgZmxvYXQgaXMpDQp7DQoJZmxvYXQgcnNsdCA9IGRvdChuLCBsKTsNCglmbG9hdCBhbmcgPSBhY29zKHJzbHQpOw0KDQoJaWYgKGFuZyA8IHNpemUpIGlzID0gMS4wOw0KCWVsc2UgaWYgKGFuZyA+IChzaXplICsgdHNtb290aCkgfHwgdHNtb290aCA9PSAwLjApIGlzID0gMC4wOw0KCWVsc2UgaXMgPSAxLjAgLSAoKGFuZyAtIHNpemUpIC8gdHNtb290aCk7DQp9DQoNCnZvaWQgc2hhZGVfZGlmZnVzZV9taW5uYWVydChmbG9hdCBubCwgdmVjMyBuLCB2ZWMzIHYsIGZsb2F0IGRhcmtuZXNzLCBvdXQgZmxvYXQgaXMpDQp7DQoJaWYgKG5sIDw9IDAuMCkgew0KCQlpcyA9IDAuMDsNCgl9DQoJZWxzZSB7DQoJCWZsb2F0IG52ID0gbWF4KGRvdChuLCB2KSwgMC4wKTsNCg0KCQlpZiAoZGFya25lc3MgPD0gMS4wKQ0KCQkJaXMgPSBubCAqIHBvdyhtYXgobnYgKiBubCwgMC4xKSwgZGFya25lc3MgLSAxLjApOw0KCQllbHNlDQoJCQlpcyA9IG5sICogcG93KDEuMDAwMSAtIG52LCBkYXJrbmVzcyAtIDEuMCk7DQoJfQ0KfQ0KDQpmbG9hdCBmcmVzbmVsX2ZhYyh2ZWMzIHZpZXcsIHZlYzMgdm4sIGZsb2F0IGdyYWQsIGZsb2F0IGZhYykNCnsNCglmbG9hdCB0MSwgdDI7DQoJZmxvYXQgZmZhYzsNCg0KCWlmIChmYWMgPT0gMC4wKSB7DQoJCWZmYWMgPSAxLjA7DQoJfQ0KCWVsc2Ugew0KCQl0MSA9IGRvdCh2aWV3LCB2bik7DQoJCWlmICh0MSA+IDAuMCkgdDIgPSAxLjAgKyB0MTsNCgkJZWxzZSB0MiA9IDEuMCAtIHQxOw0KDQoJCXQyID0gZ3JhZCArICgxLjAgLSBncmFkKSAqIHBvdyh0MiwgZmFjKTsNCg0KCQlpZiAodDIgPCAwLjApIGZmYWMgPSAwLjA7DQoJCWVsc2UgaWYgKHQyID4gMS4wKSBmZmFjID0gMS4wOw0KCQllbHNlIGZmYWMgPSB0MjsNCgl9DQoNCglyZXR1cm4gZmZhYzsNCn0NCg0Kdm9pZCBzaGFkZV9kaWZmdXNlX2ZyZXNuZWwodmVjMyB2biwgdmVjMyBsdiwgdmVjMyB2aWV3LCBmbG9hdCBmYWNfaSwgZmxvYXQgZmFjLCBvdXQgZmxvYXQgaXMpDQp7DQoJaXMgPSBmcmVzbmVsX2ZhYyhsdiwgdm4sIGZhY19pLCBmYWMpOw0KfQ0KDQp2b2lkIHNoYWRlX2N1YmljKGZsb2F0IGlzLCBvdXQgZmxvYXQgb3V0aXMpDQp7DQoJaWYgKGlzID4gMC4wICYmIGlzIDwgMS4wKQ0KCQlvdXRpcyA9IHNtb290aHN0ZXAoMC4wLCAxLjAsIGlzKTsNCgllbHNlDQoJCW91dGlzID0gaXM7DQp9DQoNCnZvaWQgc2hhZGVfdmlzaWZhYyhmbG9hdCBpLCBmbG9hdCB2aXNpZmFjLCBmbG9hdCByZWZsLCBvdXQgZmxvYXQgb3V0aSkNCnsNCgkvKmlmIChpID4gMC4wKSovDQoJb3V0aSA9IG1heChpICogdmlzaWZhYyAqIHJlZmwsIDAuMCk7DQoJLyplbHNlDQoJICAgIG91dGkgPSBpOyovDQp9DQoNCnZvaWQgc2hhZGVfdGFuZ2VudF92X3NwZWModmVjMyB0YW5nLCBvdXQgdmVjMyB2bikNCnsNCgl2biA9IHRhbmc7DQp9DQoNCnZvaWQgc2hhZGVfYWRkX3RvX2RpZmZ1c2UoZmxvYXQgaSwgdmVjMyBsYW1wY29sLCB2ZWMzIGNvbCwgb3V0IHZlYzMgb3V0Y29sKQ0Kew0KCWlmIChpID4gMC4wKQ0KCQlvdXRjb2wgPSBpICogbGFtcGNvbCAqIGNvbDsNCgllbHNlDQoJCW91dGNvbCA9IHZlYzMoMC4wLCAwLjAsIDAuMCk7DQp9DQoNCnZvaWQgc2hhZGVfaGVtaV9zcGVjKHZlYzMgdm4sIHZlYzMgbHYsIHZlYzMgdmlldywgZmxvYXQgc3BlYywgZmxvYXQgaGFyZCwgZmxvYXQgdmlzaWZhYywgb3V0IGZsb2F0IHQpDQp7DQoJbHYgKz0gdmlldzsNCglsdiA9IG5vcm1hbGl6ZShsdik7DQoNCgl0ID0gZG90KHZuLCBsdik7DQoJdCA9IDAuNSAqIHQgKyAwLjU7DQoNCgl0ID0gdmlzaWZhYyAqIHNwZWMgKiBwb3codCwgaGFyZCk7DQp9DQoNCnZvaWQgc2hhZGVfcGhvbmdfc3BlYyh2ZWMzIG4sIHZlYzMgbCwgdmVjMyB2LCBmbG9hdCBoYXJkLCBvdXQgZmxvYXQgc3BlY2ZhYykNCnsNCgl2ZWMzIGggPSBub3JtYWxpemUobCArIHYpOw0KCWZsb2F0IHJzbHQgPSBtYXgoZG90KGgsIG4pLCAwLjApOw0KDQoJc3BlY2ZhYyA9IHBvdyhyc2x0LCBoYXJkKTsNCn0NCg0Kdm9pZCBzaGFkZV9jb29rdG9ycl9zcGVjKHZlYzMgbiwgdmVjMyBsLCB2ZWMzIHYsIGZsb2F0IGhhcmQsIG91dCBmbG9hdCBzcGVjZmFjKQ0Kew0KCXZlYzMgaCA9IG5vcm1hbGl6ZSh2ICsgbCk7DQoJZmxvYXQgbmggPSBkb3QobiwgaCk7DQoNCglpZiAobmggPCAwLjApIHsNCgkJc3BlY2ZhYyA9IDAuMDsNCgl9DQoJZWxzZSB7DQoJCWZsb2F0IG52ID0gbWF4KGRvdChuLCB2KSwgMC4wKTsNCgkJZmxvYXQgaSA9IHBvdyhuaCwgaGFyZCk7DQoNCgkJaSA9IGkgLyAoMC4xICsgbnYpOw0KCQlzcGVjZmFjID0gaTsNCgl9DQp9DQoNCnZvaWQgc2hhZGVfYmxpbm5fc3BlYyh2ZWMzIG4sIHZlYzMgbCwgdmVjMyB2LCBmbG9hdCByZWZyYWMsIGZsb2F0IHNwZWNfcG93ZXIsIG91dCBmbG9hdCBzcGVjZmFjKQ0Kew0KCWlmIChyZWZyYWMgPCAxLjApIHsNCgkJc3BlY2ZhYyA9IDAuMDsNCgl9DQoJZWxzZSBpZiAoc3BlY19wb3dlciA9PSAwLjApIHsNCgkJc3BlY2ZhYyA9IDAuMDsNCgl9DQoJZWxzZSB7DQoJCWlmIChzcGVjX3Bvd2VyIDwgMTAwLjApDQoJCQlzcGVjX3Bvd2VyID0gc3FydCgxLjAgLyBzcGVjX3Bvd2VyKTsNCgkJZWxzZQ0KCQkJc3BlY19wb3dlciA9IDEwLjAgLyBzcGVjX3Bvd2VyOw0KDQoJCXZlYzMgaCA9IG5vcm1hbGl6ZSh2ICsgbCk7DQoJCWZsb2F0IG5oID0gZG90KG4sIGgpOw0KCQlpZiAobmggPCAwLjApIHsNCgkJCXNwZWNmYWMgPSAwLjA7DQoJCX0NCgkJZWxzZSB7DQoJCQlmbG9hdCBudiA9IG1heChkb3QobiwgdiksIDAuMDEpOw0KCQkJZmxvYXQgbmwgPSBkb3QobiwgbCk7DQoJCQlpZiAobmwgPD0gMC4wMSkgew0KCQkJCXNwZWNmYWMgPSAwLjA7DQoJCQl9DQoJCQllbHNlIHsNCgkJCQlmbG9hdCB2aCA9IG1heChkb3QodiwgaCksIDAuMDEpOw0KDQoJCQkJZmxvYXQgYSA9IDEuMDsNCgkJCQlmbG9hdCBiID0gKDIuMCAqIG5oICogbnYpIC8gdmg7DQoJCQkJZmxvYXQgYyA9ICgyLjAgKiBuaCAqIG5sKSAvIHZoOw0KDQoJCQkJZmxvYXQgZyA9IDAuMDsNCg0KCQkJCWlmIChhIDwgYiAmJiBhIDwgYykgZyA9IGE7DQoJCQkJZWxzZSBpZiAoYiA8IGEgJiYgYiA8IGMpIGcgPSBiOw0KCQkJCWVsc2UgaWYgKGMgPCBhICYmIGMgPCBiKSBnID0gYzsNCg0KCQkJCWZsb2F0IHAgPSBzcXJ0KCgocmVmcmFjICogcmVmcmFjKSArICh2aCAqIHZoKSAtIDEuMCkpOw0KCQkJCWZsb2F0IGYgPSAoKCgocCAtIHZoKSAqIChwIC0gdmgpKSAvICgocCArIHZoKSAqIChwICsgdmgpKSkgKg0KCQkJCSAgICAgICAgICAgKDEuMCArICgoKCh2aCAqIChwICsgdmgpKSAtIDEuMCkgKiAoKHZoICogKHAgKyB2aCkpIC0gMS4wKSkgLw0KCQkJCSAgICAgICAgICAgICAgICAgICAoKCh2aCAqIChwIC0gdmgpKSArIDEuMCkgKiAoKHZoICogKHAgLSB2aCkpICsgMS4wKSkpKSk7DQoJCQkJZmxvYXQgYW5nID0gYWNvcyhuaCk7DQoNCgkJCQlzcGVjZmFjID0gbWF4KGYgKiBnICogZXhwX2JsZW5kZXIoKC0oYW5nICogYW5nKSAvICgyLjAgKiBzcGVjX3Bvd2VyICogc3BlY19wb3dlcikpKSwgMC4wKTsNCgkJCX0NCgkJfQ0KCX0NCn0NCg0Kdm9pZCBzaGFkZV93YXJkaXNvX3NwZWModmVjMyBuLCB2ZWMzIGwsIHZlYzMgdiwgZmxvYXQgcm1zLCBvdXQgZmxvYXQgc3BlY2ZhYykNCnsNCgl2ZWMzIGggPSBub3JtYWxpemUobCArIHYpOw0KCWZsb2F0IG5oID0gbWF4KGRvdChuLCBoKSwgMC4wMDEpOw0KCWZsb2F0IG52ID0gbWF4KGRvdChuLCB2KSwgMC4wMDEpOw0KCWZsb2F0IG5sID0gbWF4KGRvdChuLCBsKSwgMC4wMDEpOw0KCWZsb2F0IGFuZ2xlID0gdGFuKGFjb3MobmgpKTsNCglmbG9hdCBhbHBoYSA9IG1heChybXMsIDAuMDAxKTsNCg0KCXNwZWNmYWMgPSBubCAqICgxLjAgLyAoNC4wICogTV9QSSAqIGFscGhhICogYWxwaGEpKSAqIChleHBfYmxlbmRlcigtKGFuZ2xlICogYW5nbGUpIC8gKGFscGhhICogYWxwaGEpKSAvIChzcXJ0KG52ICogbmwpKSk7DQp9DQoNCnZvaWQgc2hhZGVfdG9vbl9zcGVjKHZlYzMgbiwgdmVjMyBsLCB2ZWMzIHYsIGZsb2F0IHNpemUsIGZsb2F0IHRzbW9vdGgsIG91dCBmbG9hdCBzcGVjZmFjKQ0Kew0KCXZlYzMgaCA9IG5vcm1hbGl6ZShsICsgdik7DQoJZmxvYXQgcnNsdCA9IGRvdChoLCBuKTsNCglmbG9hdCBhbmcgPSBhY29zKHJzbHQpOw0KDQoJaWYgKGFuZyA8IHNpemUpIHJzbHQgPSAxLjA7DQoJZWxzZSBpZiAoYW5nID49IChzaXplICsgdHNtb290aCkgfHwgdHNtb290aCA9PSAwLjApIHJzbHQgPSAwLjA7DQoJZWxzZSByc2x0ID0gMS4wIC0gKChhbmcgLSBzaXplKSAvIHRzbW9vdGgpOw0KDQoJc3BlY2ZhYyA9IHJzbHQ7DQp9DQoNCnZvaWQgc2hhZGVfc3BlY19hcmVhX2lucChmbG9hdCBzcGVjZmFjLCBmbG9hdCBpbnAsIG91dCBmbG9hdCBvdXRzcGVjZmFjKQ0Kew0KCW91dHNwZWNmYWMgPSBzcGVjZmFjICogaW5wOw0KfQ0KDQp2b2lkIHNoYWRlX3NwZWNfdChmbG9hdCBzaGFkZmFjLCBmbG9hdCBzcGVjLCBmbG9hdCB2aXNpZmFjLCBmbG9hdCBzcGVjZmFjLCBvdXQgZmxvYXQgdCkNCnsNCgl0ID0gc2hhZGZhYyAqIHNwZWMgKiB2aXNpZmFjICogc3BlY2ZhYzsNCn0NCg0Kdm9pZCBzaGFkZV9hZGRfc3BlYyhmbG9hdCB0LCB2ZWMzIGxhbXBjb2wsIHZlYzMgc3BlY2NvbCwgb3V0IHZlYzMgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IHQgKiBsYW1wY29sICogc3BlY2NvbDsNCn0NCg0Kdm9pZCBzaGFkZV9hZGRfbWlycm9yKHZlYzMgbWlyLCB2ZWM0IHJlZmNvbCwgdmVjMyBjb21iaW5lZCwgb3V0IHZlYzMgcmVzdWx0KQ0Kew0KCXJlc3VsdCA9IG1pciAqIHJlZmNvbC5nYmEgKyAodmVjMygxLjApIC0gbWlyICogcmVmY29sLnJycikgKiBjb21iaW5lZDsNCn0NCg0Kdm9pZCBhbHBoYV9zcGVjX2NvcnJlY3Rpb24odmVjMyBzcGVjLCBmbG9hdCBzcGVjdHJhLCBmbG9hdCBhbHBoYSwgb3V0IGZsb2F0IG91dGFscGhhKQ0Kew0KCWlmIChzcGVjdHJhID4gMC4wKSB7DQoJCWZsb2F0IHQgPSBjbGFtcChtYXgobWF4KHNwZWMuciwgc3BlYy5nKSwgc3BlYy5iKSAqIHNwZWN0cmEsIDAuMCwgMS4wKTsNCgkJb3V0YWxwaGEgPSAoMS4wIC0gdCkgKiBhbHBoYSArIHQ7DQoJfQ0KCWVsc2Ugew0KCQlvdXRhbHBoYSA9IGFscGhhOw0KCX0NCn0NCg0Kdm9pZCBzaGFkZV9hZGQodmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglvdXRjb2wgPSBjb2wxICsgY29sMjsNCn0NCg0Kdm9pZCBzaGFkZV9tYWRkKHZlYzQgY29sLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IGNvbCArIGNvbDEgKiBjb2wyOw0KfQ0KDQp2b2lkIHNoYWRlX2FkZF9jbGFtcGVkKHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJb3V0Y29sID0gY29sMSArIG1heChjb2wyLCB2ZWM0KDAuMCwgMC4wLCAwLjAsIDAuMCkpOw0KfQ0KDQp2b2lkIHNoYWRlX21hZGRfY2xhbXBlZCh2ZWM0IGNvbCwgdmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglvdXRjb2wgPSBjb2wgKyBtYXgoY29sMSAqIGNvbDIsIHZlYzQoMC4wLCAwLjAsIDAuMCwgMC4wKSk7DQp9DQoNCnZvaWQgZW52X2FwcGx5KHZlYzQgY29sLCB2ZWMzIGhvciwgdmVjMyB6ZW4sIHZlYzQgZiwgbWF0NCB2bSwgdmVjMyB2biwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCXZlYzMgdnYgPSBub3JtYWxpemUodm1bMl0ueHl6KTsNCglmbG9hdCBza3lmYWMgPSAwLjUgKiAoMS4wICsgZG90KHZuLCAtdnYpKTsNCglvdXRjb2wgPSBjb2wgKyBmICogdmVjNChtaXgoaG9yLCB6ZW4sIHNreWZhYyksIDApOw0KfQ0KDQp2b2lkIHNoYWRlX21hZGRmKHZlYzQgY29sLCBmbG9hdCBmLCB2ZWM0IGNvbDEsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglvdXRjb2wgPSBjb2wgKyBmICogY29sMTsNCn0NCg0Kdm9pZCBzaGFkZV9tdWwodmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglvdXRjb2wgPSBjb2wxICogY29sMjsNCn0NCg0Kdm9pZCBzaGFkZV9tdWxfdmFsdWUoZmxvYXQgZmFjLCB2ZWM0IGNvbCwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IGNvbCAqIGZhYzsNCn0NCg0Kdm9pZCBzaGFkZV9tdWxfdmFsdWVfdjMoZmxvYXQgZmFjLCB2ZWMzIGNvbCwgb3V0IHZlYzMgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IGNvbCAqIGZhYzsNCn0NCg0Kdm9pZCBzaGFkZV9vYmNvbG9yKHZlYzQgY29sLCB2ZWM0IG9iY29sLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJb3V0Y29sID0gdmVjNChjb2wucmdiICogb2Jjb2wucmdiLCBjb2wuYSk7DQp9DQoNCnZvaWQgcmFtcF9yZ2J0b2J3KHZlYzMgY29sb3IsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gY29sb3IuciAqIDAuMyArIGNvbG9yLmcgKiAwLjU4ICsgY29sb3IuYiAqIDAuMTI7DQp9DQoNCnZvaWQgc2hhZGVfb25seV9zaGFkb3coZmxvYXQgaSwgZmxvYXQgc2hhZGZhYywgZmxvYXQgZW5lcmd5LCB2ZWMzIHNoYWRjb2wsIG91dCB2ZWMzIG91dHNoYWRyZ2IpDQp7DQoJb3V0c2hhZHJnYiA9IGkgKiBlbmVyZ3kgKiAoMS4wIC0gc2hhZGZhYykgKiAodmVjMygxLjApIC0gc2hhZGNvbCk7DQp9DQoNCnZvaWQgc2hhZGVfb25seV9zaGFkb3dfZGlmZnVzZSh2ZWMzIHNoYWRyZ2IsIHZlYzMgcmdiLCB2ZWM0IGRpZmYsIG91dCB2ZWM0IG91dGRpZmYpDQp7DQoJb3V0ZGlmZiA9IGRpZmYgLSB2ZWM0KHJnYiAqIHNoYWRyZ2IsIDAuMCk7DQp9DQoNCnZvaWQgc2hhZGVfb25seV9zaGFkb3dfc3BlY3VsYXIodmVjMyBzaGFkcmdiLCB2ZWMzIHNwZWNyZ2IsIHZlYzQgc3BlYywgb3V0IHZlYzQgb3V0c3BlYykNCnsNCglvdXRzcGVjID0gc3BlYyAtIHZlYzQoc3BlY3JnYiAqIHNoYWRyZ2IsIDAuMCk7DQp9DQoNCnZvaWQgc2hhZGVfY2xhbXBfcG9zaXRpdmUodmVjNCBjb2wsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglvdXRjb2wgPSBtYXgoY29sLCB2ZWM0KDAuMCkpOw0KfQ0KDQp2b2lkIHRlc3Rfc2hhZG93YnVmKA0KICAgICAgICB2ZWMzIHJjbywgc2FtcGxlcjJEIHNoYWRvd21hcCwgbWF0NCBzaGFkb3dwZXJzbWF0LCBmbG9hdCBzaGFkb3diaWFzLCBmbG9hdCBpbnAsDQogICAgICAgIG91dCBmbG9hdCByZXN1bHQpDQp7DQoJaWYgKGlucCA8PSAwLjApIHsNCgkJcmVzdWx0ID0gMC4wOw0KCX0NCgllbHNlIHsNCgkJdmVjNCBjbyA9IHNoYWRvd3BlcnNtYXQgKiB2ZWM0KHJjbywgMS4wKTsNCg0KCQkvL2Zsb2F0IGJpYXMgPSAoMS41IC0gaW5wKmlucCkqc2hhZG93YmlhczsNCgkJY28ueiAtPSBzaGFkb3diaWFzICogY28udzsNCg0KCQlpZiAoY28udyA+IDAuMCAmJiBjby54ID4gMC4wICYmIGNvLnggLyBjby53IDwgMS4wICYmIGNvLnkgPiAwLjAgJiYgY28ueSAvIGNvLncgPCAxLjApDQoJCQlyZXN1bHQgPSB0ZXh0dXJlMkRQcm9qKHNoYWRvd21hcCwgY28pLng7DQoJCWVsc2UNCgkJCXJlc3VsdCA9IDEuMDsNCgl9DQp9DQoNCnZvaWQgdGVzdF9zaGFkb3didWZfdnNtKA0KICAgICAgICB2ZWMzIHJjbywgc2FtcGxlcjJEIHNoYWRvd21hcCwgbWF0NCBzaGFkb3dwZXJzbWF0LCBmbG9hdCBzaGFkb3diaWFzLCBmbG9hdCBibGVlZGJpYXMsIGZsb2F0IGlucCwNCiAgICAgICAgb3V0IGZsb2F0IHJlc3VsdCkNCnsNCglpZiAoaW5wIDw9IDAuMCkgew0KCQlyZXN1bHQgPSAwLjA7DQoJfQ0KCWVsc2Ugew0KCQl2ZWM0IGNvID0gc2hhZG93cGVyc21hdCAqIHZlYzQocmNvLCAxLjApOw0KCQlpZiAoY28udyA+IDAuMCAmJiBjby54ID4gMC4wICYmIGNvLnggLyBjby53IDwgMS4wICYmIGNvLnkgPiAwLjAgJiYgY28ueSAvIGNvLncgPCAxLjApIHsNCgkJCXZlYzIgbW9tZW50cyA9IHRleHR1cmUyRFByb2ooc2hhZG93bWFwLCBjbykucmc7DQoJCQlmbG9hdCBkaXN0ID0gY28ueiAvIGNvLnc7DQoJCQlmbG9hdCBwID0gMC4wOw0KDQoJCQlpZiAoZGlzdCA8PSBtb21lbnRzLngpDQoJCQkJcCA9IDEuMDsNCg0KCQkJZmxvYXQgdmFyaWFuY2UgPSBtb21lbnRzLnkgLSAobW9tZW50cy54ICogbW9tZW50cy54KTsNCgkJCXZhcmlhbmNlID0gbWF4KHZhcmlhbmNlLCBzaGFkb3diaWFzIC8gMTAuMCk7DQoNCgkJCWZsb2F0IGQgPSBtb21lbnRzLnggLSBkaXN0Ow0KCQkJZmxvYXQgcF9tYXggPSB2YXJpYW5jZSAvICh2YXJpYW5jZSArIGQgKiBkKTsNCg0KCQkJLy8gTm93IHJlZHVjZSBsaWdodC1ibGVlZGluZyBieSByZW1vdmluZyB0aGUgWzAsIHhdIHRhaWwgYW5kIGxpbmVhcmx5IHJlc2NhbGluZyAoeCwgMV0NCgkJCXBfbWF4ID0gY2xhbXAoKHBfbWF4IC0gYmxlZWRiaWFzKSAvICgxLjAgLSBibGVlZGJpYXMpLCAwLjAsIDEuMCk7DQoNCgkJCXJlc3VsdCA9IG1heChwLCBwX21heCk7DQoJCX0NCgkJZWxzZSB7DQoJCQlyZXN1bHQgPSAxLjA7DQoJCX0NCgl9DQp9DQoNCnZvaWQgc2hhZG93c19vbmx5KA0KICAgICAgICB2ZWMzIHJjbywgc2FtcGxlcjJEIHNoYWRvd21hcCwgbWF0NCBzaGFkb3dwZXJzbWF0LA0KICAgICAgICBmbG9hdCBzaGFkb3diaWFzLCB2ZWMzIHNoYWRvd2NvbG9yLCBmbG9hdCBpbnAsDQogICAgICAgIG91dCB2ZWMzIHJlc3VsdCkNCnsNCglyZXN1bHQgPSB2ZWMzKDEuMCk7DQoNCglpZiAoaW5wID4gMC4wKSB7DQoJCWZsb2F0IHNoYWRmYWM7DQoNCgkJdGVzdF9zaGFkb3didWYocmNvLCBzaGFkb3dtYXAsIHNoYWRvd3BlcnNtYXQsIHNoYWRvd2JpYXMsIGlucCwgc2hhZGZhYyk7DQoJCXJlc3VsdCAtPSAoMS4wIC0gc2hhZGZhYykgKiAodmVjMygxLjApIC0gc2hhZG93Y29sb3IpOw0KCX0NCn0NCg0Kdm9pZCBzaGFkb3dzX29ubHlfdnNtKA0KICAgICAgICB2ZWMzIHJjbywgc2FtcGxlcjJEIHNoYWRvd21hcCwgbWF0NCBzaGFkb3dwZXJzbWF0LA0KICAgICAgICBmbG9hdCBzaGFkb3diaWFzLCBmbG9hdCBibGVlZGJpYXMsIHZlYzMgc2hhZG93Y29sb3IsIGZsb2F0IGlucCwNCiAgICAgICAgb3V0IHZlYzMgcmVzdWx0KQ0Kew0KCXJlc3VsdCA9IHZlYzMoMS4wKTsNCg0KCWlmIChpbnAgPiAwLjApIHsNCgkJZmxvYXQgc2hhZGZhYzsNCg0KCQl0ZXN0X3NoYWRvd2J1Zl92c20ocmNvLCBzaGFkb3dtYXAsIHNoYWRvd3BlcnNtYXQsIHNoYWRvd2JpYXMsIGJsZWVkYmlhcywgaW5wLCBzaGFkZmFjKTsNCgkJcmVzdWx0IC09ICgxLjAgLSBzaGFkZmFjKSAqICh2ZWMzKDEuMCkgLSBzaGFkb3djb2xvcik7DQoJfQ0KfQ0KDQp2b2lkIHNoYWRlX2xpZ2h0X3RleHR1cmUodmVjMyByY28sIHNhbXBsZXIyRCBjb29raWUsIG1hdDQgc2hhZG93cGVyc21hdCwgb3V0IHZlYzQgcmVzdWx0KQ0Kew0KDQoJdmVjNCBjbyA9IHNoYWRvd3BlcnNtYXQgKiB2ZWM0KHJjbywgMS4wKTsNCg0KCXJlc3VsdCA9IHRleHR1cmUyRFByb2ooY29va2llLCBjbyk7DQp9DQoNCnZvaWQgc2hhZGVfZXhwb3N1cmVfY29ycmVjdCh2ZWMzIGNvbCwgZmxvYXQgbGluZmFjLCBmbG9hdCBsb2dmYWMsIG91dCB2ZWMzIG91dGNvbCkNCnsNCglvdXRjb2wgPSBsaW5mYWMgKiAoMS4wIC0gZXhwKGNvbCAqIGxvZ2ZhYykpOw0KfQ0KDQp2b2lkIHNoYWRlX21pc3RfZmFjdG9yKA0KICAgICAgICB2ZWMzIGNvLCBmbG9hdCBlbmFibGUsIGZsb2F0IG1pc3RzdGEsIGZsb2F0IG1pc3RkaXN0LCBmbG9hdCBtaXN0dHlwZSwgZmxvYXQgbWlzaSwNCiAgICAgICAgb3V0IGZsb2F0IG91dGZhYykNCnsNCglpZiAoZW5hYmxlID09IDEuMCkgew0KCQlmbG9hdCBmYWMsIHpjb3I7DQoNCgkJemNvciA9IChibF9Qcm9qZWN0aW9uTWF0cml4WzNdWzNdID09IDAuMCkgPyBsZW5ndGgoY28pIDogLWNvWzJdOw0KDQoJCWZhYyA9IGNsYW1wKCh6Y29yIC0gbWlzdHN0YSkgLyBtaXN0ZGlzdCwgMC4wLCAxLjApOw0KCQlpZiAobWlzdHR5cGUgPT0gMC4wKSBmYWMgKj0gZmFjOw0KCQllbHNlIGlmIChtaXN0dHlwZSA9PSAxLjApIDsNCgkJZWxzZSBmYWMgPSBzcXJ0KGZhYyk7DQoNCgkJb3V0ZmFjID0gMS4wIC0gKDEuMCAtIGZhYykgKiAoMS4wIC0gbWlzaSk7DQoJfQ0KCWVsc2Ugew0KCQlvdXRmYWMgPSAwLjA7DQoJfQ0KfQ0KDQp2b2lkIHNoYWRlX3dvcmxkX21peCh2ZWMzIGhvciwgdmVjNCBjb2wsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglmbG9hdCBmYWMgPSBjbGFtcChjb2wuYSwgMC4wLCAxLjApOw0KCW91dGNvbCA9IHZlYzQobWl4KGhvciwgY29sLnJnYiwgZmFjKSwgY29sLmEpOw0KfQ0KDQp2b2lkIHNoYWRlX2FscGhhX29wYXF1ZSh2ZWM0IGNvbCwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IHZlYzQoY29sLnJnYiwgMS4wKTsNCn0NCg0Kdm9pZCBzaGFkZV9hbHBoYV9vYmNvbG9yKHZlYzQgY29sLCB2ZWM0IG9iY29sLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJb3V0Y29sID0gdmVjNChjb2wucmdiLCBjb2wuYSAqIG9iY29sLmEpOw0KfQ0KDQovKioqKioqKioqKiogTkVXIFNIQURFUiBVVElMSVRJRVMgKioqKioqKioqKioqKiovDQoNCmZsb2F0IGZyZXNuZWxfZGllbGVjdHJpY18wKGZsb2F0IGV0YSkNCnsNCgkvKiBjb21wdXRlIGZyZXNuZWwgcmVmbGFjdGFuY2UgYXQgbm9ybWFsIGluY2lkZW5jZSA9PiBjb3NpID0gMS4wICovDQoJZmxvYXQgQSA9IChldGEgLSAxLjApIC8gKGV0YSArIDEuMCk7DQoNCglyZXR1cm4gQSAqIEE7DQp9DQoNCmZsb2F0IGZyZXNuZWxfZGllbGVjdHJpY19jb3MoZmxvYXQgY29zaSwgZmxvYXQgZXRhKQ0Kew0KCS8qIGNvbXB1dGUgZnJlc25lbCByZWZsZWN0YW5jZSB3aXRob3V0IGV4cGxpY2l0bHkgY29tcHV0aW5nDQoJICogdGhlIHJlZnJhY3RlZCBkaXJlY3Rpb24gKi8NCglmbG9hdCBjID0gYWJzKGNvc2kpOw0KCWZsb2F0IGcgPSBldGEgKiBldGEgLSAxLjAgKyBjICogYzsNCglmbG9hdCByZXN1bHQ7DQoNCglpZiAoZyA+IDAuMCkgew0KCQlnID0gc3FydChnKTsNCgkJZmxvYXQgQSA9IChnIC0gYykgLyAoZyArIGMpOw0KCQlmbG9hdCBCID0gKGMgKiAoZyArIGMpIC0gMS4wKSAvIChjICogKGcgLSBjKSArIDEuMCk7DQoJCXJlc3VsdCA9IDAuNSAqIEEgKiBBICogKDEuMCArIEIgKiBCKTsNCgl9DQoJZWxzZSB7DQoJCXJlc3VsdCA9IDEuMDsgIC8qIFRJUiAobm8gcmVmcmFjdGVkIGNvbXBvbmVudCkgKi8NCgl9DQoNCglyZXR1cm4gcmVzdWx0Ow0KfQ0KDQpmbG9hdCBmcmVzbmVsX2RpZWxlY3RyaWModmVjMyBJbmNvbWluZywgdmVjMyBOb3JtYWwsIGZsb2F0IGV0YSkNCnsNCgkvKiBjb21wdXRlIGZyZXNuZWwgcmVmbGVjdGFuY2Ugd2l0aG91dCBleHBsaWNpdGx5IGNvbXB1dGluZw0KCSAqIHRoZSByZWZyYWN0ZWQgZGlyZWN0aW9uICovDQoJcmV0dXJuIGZyZXNuZWxfZGllbGVjdHJpY19jb3MoZG90KEluY29taW5nLCBOb3JtYWwpLCBldGEpOw0KfQ0KDQpmbG9hdCBoeXBvdChmbG9hdCB4LCBmbG9hdCB5KQ0Kew0KCXJldHVybiBzcXJ0KHggKiB4ICsgeSAqIHkpOw0KfQ0KDQp2b2lkIGdlbmVyYXRlZF9mcm9tX29yY28odmVjMyBvcmNvLCBvdXQgdmVjMyBnZW5lcmF0ZWQpDQp7DQoJZ2VuZXJhdGVkID0gb3JjbyAqIDAuNSArIHZlYzMoMC41KTsNCn0NCg0KaW50IGZsb29yX3RvX2ludChmbG9hdCB4KQ0Kew0KCXJldHVybiBpbnQoZmxvb3IoeCkpOw0KfQ0KDQppbnQgcXVpY2tfZmxvb3IoZmxvYXQgeCkNCnsNCglyZXR1cm4gaW50KHgpIC0gKCh4IDwgMCkgPyAxIDogMCk7DQp9DQoNCiNpZmRlZiBCSVRfT1BFUkFUSU9OUw0KZmxvYXQgaW50ZWdlcl9ub2lzZShpbnQgbikNCnsNCglpbnQgbm47DQoJbiA9IChuICsgMTAxMykgJiAweDdmZmZmZmZmOw0KCW4gPSAobiA+PiAxMykgXiBuOw0KCW5uID0gKG4gKiAobiAqIG4gKiA2MDQ5MyArIDE5OTkwMzAzKSArIDEzNzYzMTI1ODkpICYgMHg3ZmZmZmZmZjsNCglyZXR1cm4gMC41ICogKGZsb2F0KG5uKSAvIDEwNzM3NDE4MjQuMCk7DQp9DQoNCnVpbnQgaGFzaCh1aW50IGt4LCB1aW50IGt5LCB1aW50IGt6KQ0Kew0KI2RlZmluZSByb3QoeCwgaykgKCgoeCkgPDwgKGspKSB8ICgoeCkgPj4gKDMyIC0gKGspKSkpDQojZGVmaW5lIGZpbmFsKGEsIGIsIGMpIFwNCnsgXA0KCWMgXj0gYjsgYyAtPSByb3QoYiwgMTQpOyBcDQoJYSBePSBjOyBhIC09IHJvdChjLCAxMSk7IFwNCgliIF49IGE7IGIgLT0gcm90KGEsIDI1KTsgXA0KCWMgXj0gYjsgYyAtPSByb3QoYiwgMTYpOyBcDQoJYSBePSBjOyBhIC09IHJvdChjLCA0KTsgIFwNCgliIF49IGE7IGIgLT0gcm90KGEsIDE0KTsgXA0KCWMgXj0gYjsgYyAtPSByb3QoYiwgMjQpOyBcDQp9DQoJLy8gbm93IGhhc2ggdGhlIGRhdGEhDQoJdWludCBhLCBiLCBjLCBsZW4gPSAzdTsNCglhID0gYiA9IGMgPSAweGRlYWRiZWVmdSArIChsZW4gPDwgMnUpICsgMTN1Ow0KDQoJYyArPSBrejsNCgliICs9IGt5Ow0KCWEgKz0ga3g7DQoJZmluYWwgKGEsIGIsIGMpOw0KDQoJcmV0dXJuIGM7DQojdW5kZWYgcm90DQojdW5kZWYgZmluYWwNCn0NCg0KdWludCBoYXNoKGludCBreCwgaW50IGt5LCBpbnQga3opDQp7DQoJcmV0dXJuIGhhc2godWludChreCksIHVpbnQoa3kpLCB1aW50KGt6KSk7DQp9DQoNCmZsb2F0IGJpdHNfdG9fMDEodWludCBiaXRzKQ0Kew0KCWZsb2F0IHggPSBmbG9hdChiaXRzKSAqICgxLjAgLyBmbG9hdCgweGZmZmZmZmZmdSkpOw0KCXJldHVybiB4Ow0KfQ0KDQpmbG9hdCBjZWxsbm9pc2UodmVjMyBwKQ0Kew0KCWludCBpeCA9IHF1aWNrX2Zsb29yKHAueCk7DQoJaW50IGl5ID0gcXVpY2tfZmxvb3IocC55KTsNCglpbnQgaXogPSBxdWlja19mbG9vcihwLnopOw0KDQoJcmV0dXJuIGJpdHNfdG9fMDEoaGFzaCh1aW50KGl4KSwgdWludChpeSksIHVpbnQoaXopKSk7DQp9DQoNCnZlYzMgY2VsbG5vaXNlX2NvbG9yKHZlYzMgcCkNCnsNCglmbG9hdCByID0gY2VsbG5vaXNlKHApOw0KCWZsb2F0IGcgPSBjZWxsbm9pc2UodmVjMyhwLnksIHAueCwgcC56KSk7DQoJZmxvYXQgYiA9IGNlbGxub2lzZSh2ZWMzKHAueSwgcC56LCBwLngpKTsNCg0KCXJldHVybiB2ZWMzKHIsIGcsIGIpOw0KfQ0KI2VuZGlmICAvLyBCSVRfT1BFUkFUSU9OUw0KDQpmbG9hdCBmbG9vcmZyYWMoZmxvYXQgeCwgb3V0IGludCBpKQ0Kew0KCWkgPSBmbG9vcl90b19pbnQoeCk7DQoJcmV0dXJuIHggLSBpOw0KfQ0KDQoNCi8qIFByaW5jaXBsZWQgQlNERiBvcGVyYXRpb25zICovDQoNCmZsb2F0IHNxcihmbG9hdCBhKQ0Kew0KCXJldHVybiBhKmE7DQp9DQoNCmZsb2F0IHNjaGxpY2tfZnJlc25lbChmbG9hdCB1KQ0Kew0KCWZsb2F0IG0gPSBjbGFtcCgxLjAgLSB1LCAwLjAsIDEuMCk7DQoJZmxvYXQgbTIgPSBtICogbTsNCglyZXR1cm4gbTIgKiBtMiAqIG07IC8vIHBvdyhtLDUpDQp9DQoNCmZsb2F0IEdUUjEoZmxvYXQgTmRvdEgsIGZsb2F0IGEpDQp7DQoJaWYgKGEgPj0gMS4wKSByZXR1cm4gTV8xX1BJOw0KCWZsb2F0IGEyID0gYSphOw0KCWZsb2F0IHQgPSAxLjAgKyAoYTIgLSAxLjApICogTmRvdEgqTmRvdEg7DQoJcmV0dXJuIChhMiAtIDEuMCkgLyAoTV9QSSAqIGxvZyhhMikgKiB0KTsNCn0NCg0KZmxvYXQgR1RSMihmbG9hdCBOZG90SCwgZmxvYXQgYSkNCnsNCglmbG9hdCBhMiA9IGEqYTsNCglmbG9hdCB0ID0gMS4wICsgKGEyIC0gMS4wKSAqIE5kb3RIKk5kb3RIOw0KCXJldHVybiBhMiAvIChNX1BJICogdCp0KTsNCn0NCg0KZmxvYXQgR1RSMl9hbmlzbyhmbG9hdCBOZG90SCwgZmxvYXQgSGRvdFgsIGZsb2F0IEhkb3RZLCBmbG9hdCBheCwgZmxvYXQgYXkpDQp7DQoJcmV0dXJuIDEuMCAvIChNX1BJICogYXgqYXkgKiBzcXIoc3FyKEhkb3RYIC8gYXgpICsgc3FyKEhkb3RZIC8gYXkpICsgTmRvdEgqTmRvdEgpKTsNCn0NCg0KZmxvYXQgc21pdGhHX0dHWChmbG9hdCBOZG90ViwgZmxvYXQgYWxwaGFHKQ0Kew0KCWZsb2F0IGEgPSBhbHBoYUcqYWxwaGFHOw0KCWZsb2F0IGIgPSBOZG90VipOZG90VjsNCglyZXR1cm4gMS4wIC8gKE5kb3RWICsgc3FydChhICsgYiAtIGEgKiBiKSk7DQp9DQoNCnZlYzMgcm90YXRlX3ZlY3Rvcih2ZWMzIHAsIHZlYzMgbiwgZmxvYXQgdGhldGEpIHsNCglyZXR1cm4gKA0KCSAgICAgICAgICAgcCAqIGNvcyh0aGV0YSkgKyBjcm9zcyhuLCBwKSAqDQoJICAgICAgICAgICBzaW4odGhldGEpICsgbiAqIGRvdChwLCBuKSAqDQoJICAgICAgICAgICAoMS4wIC0gY29zKHRoZXRhKSkNCgkgICAgICAgKTsNCn0NCg0KDQovKioqKioqKioqKiogTkVXIFNIQURFUiBOT0RFUyAqKioqKioqKioqKioqKiovDQoNCiNkZWZpbmUgTlVNX0xJR0hUUyAzDQoNCi8qIGJzZGZzICovDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCnZvaWQgbm9kZV9hbWJpZW50X29jY2x1c2lvbih2ZWM0IGNvbG9yLCBvdXQgdmVjNCByZXN1bHQpDQp7DQoJcmVzdWx0ID0gY29sb3I7DQp9DQoNCi8qIGVtaXNzaW9uICovDQoNCnZvaWQgbm9kZV9lbWlzc2lvbih2ZWM0IGNvbG9yLCBmbG9hdCBzdHJlbmd0aCwgdmVjMyBOLCBvdXQgdmVjNCByZXN1bHQpDQp7DQoJcmVzdWx0ID0gY29sb3IgKiBzdHJlbmd0aDsNCn0NCg0KLyogYmFja2dyb3VuZCAqLw0KDQp2b2lkIGJhY2tncm91bmRfdHJhbnNmb3JtX3RvX3dvcmxkKHZlYzMgdmlld3ZlYywgb3V0IHZlYzMgd29ybGR2ZWMpDQp7DQoJdmVjNCB2ID0gKGJsX1Byb2plY3Rpb25NYXRyaXhbM11bM10gPT0gMC4wKSA/IHZlYzQodmlld3ZlYywgMS4wKSA6IHZlYzQoMC4wLCAwLjAsIDEuMCwgMS4wKTsNCgl2ZWM0IGNvX2hvbW9nZW5vdXMgPSAoYmxfUHJvamVjdGlvbk1hdHJpeEludmVyc2UgKiB2KTsNCg0KCXZlYzQgY28gPSB2ZWM0KGNvX2hvbW9nZW5vdXMueHl6IC8gY29faG9tb2dlbm91cy53LCAwLjApOw0KCXdvcmxkdmVjID0gKGJsX01vZGVsVmlld01hdHJpeEludmVyc2UgKiBjbykueHl6Ow0KfQ0KDQp2b2lkIG5vZGVfYmFja2dyb3VuZCh2ZWM0IGNvbG9yLCBmbG9hdCBzdHJlbmd0aCwgdmVjMyBOLCBvdXQgdmVjNCByZXN1bHQpDQp7DQoJcmVzdWx0ID0gY29sb3IgKiBzdHJlbmd0aDsNCn0NCg0KLyogY2xvc3VyZXMgKi8NCg0Kdm9pZCBub2RlX21peF9zaGFkZXIoZmxvYXQgZmFjLCB2ZWM0IHNoYWRlcjEsIHZlYzQgc2hhZGVyMiwgb3V0IHZlYzQgc2hhZGVyKQ0Kew0KCXNoYWRlciA9IG1peChzaGFkZXIxLCBzaGFkZXIyLCBmYWMpOw0KfQ0KDQp2b2lkIG5vZGVfYWRkX3NoYWRlcih2ZWM0IHNoYWRlcjEsIHZlYzQgc2hhZGVyMiwgb3V0IHZlYzQgc2hhZGVyKQ0Kew0KCXNoYWRlciA9IHNoYWRlcjEgKyBzaGFkZXIyOw0KfQ0KDQovKiBmcmVzbmVsICovDQoNCnZvaWQgbm9kZV9mcmVzbmVsKGZsb2F0IGlvciwgdmVjMyBOLCB2ZWMzIEksIG91dCBmbG9hdCByZXN1bHQpDQp7DQoJLyogaGFuZGxlIHBlcnNwZWN0aXZlL29ydGhvZ3JhcGhpYyAqLw0KCXZlYzMgSV92aWV3ID0gKGJsX1Byb2plY3Rpb25NYXRyaXhbM11bM10gPT0gMC4wKSA/IG5vcm1hbGl6ZShJKSA6IHZlYzMoMC4wLCAwLjAsIC0xLjApOw0KDQoJZmxvYXQgZXRhID0gbWF4KGlvciwgMC4wMDAwMSk7DQoJcmVzdWx0ID0gZnJlc25lbF9kaWVsZWN0cmljKElfdmlldywgTiwgKGdsX0Zyb250RmFjaW5nKSA/IGV0YSA6IDEuMCAvIGV0YSk7DQp9DQoNCi8qIGxheWVyX3dlaWdodCAqLw0KDQp2b2lkIG5vZGVfbGF5ZXJfd2VpZ2h0KGZsb2F0IGJsZW5kLCB2ZWMzIE4sIHZlYzMgSSwgb3V0IGZsb2F0IGZyZXNuZWwsIG91dCBmbG9hdCBmYWNpbmcpDQp7DQoJLyogZnJlc25lbCAqLw0KCWZsb2F0IGV0YSA9IG1heCgxLjAgLSBibGVuZCwgMC4wMDAwMSk7DQoJdmVjMyBJX3ZpZXcgPSAoYmxfUHJvamVjdGlvbk1hdHJpeFszXVszXSA9PSAwLjApID8gbm9ybWFsaXplKEkpIDogdmVjMygwLjAsIDAuMCwgLTEuMCk7DQoNCglmcmVzbmVsID0gZnJlc25lbF9kaWVsZWN0cmljKElfdmlldywgTiwgKGdsX0Zyb250RmFjaW5nKSA/IDEuMCAvIGV0YSA6IGV0YSk7DQoNCgkvKiBmYWNpbmcgKi8NCglmYWNpbmcgPSBhYnMoZG90KElfdmlldywgTikpOw0KCWlmIChibGVuZCAhPSAwLjUpIHsNCgkJYmxlbmQgPSBjbGFtcChibGVuZCwgMC4wLCAwLjk5OTk5KTsNCgkJYmxlbmQgPSAoYmxlbmQgPCAwLjUpID8gMi4wICogYmxlbmQgOiAwLjUgLyAoMS4wIC0gYmxlbmQpOw0KCQlmYWNpbmcgPSBwb3coZmFjaW5nLCBibGVuZCk7DQoJfQ0KCWZhY2luZyA9IDEuMCAtIGZhY2luZzsNCn0NCg0KLyogZ2FtbWEgKi8NCg0Kdm9pZCBub2RlX2dhbW1hKHZlYzQgY29sLCBmbG9hdCBnYW1tYSwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IGNvbDsNCg0KCWlmIChjb2wuciA+IDAuMCkNCgkJb3V0Y29sLnIgPSBjb21wYXRpYmxlX3Bvdyhjb2wuciwgZ2FtbWEpOw0KCWlmIChjb2wuZyA+IDAuMCkNCgkJb3V0Y29sLmcgPSBjb21wYXRpYmxlX3Bvdyhjb2wuZywgZ2FtbWEpOw0KCWlmIChjb2wuYiA+IDAuMCkNCgkJb3V0Y29sLmIgPSBjb21wYXRpYmxlX3Bvdyhjb2wuYiwgZ2FtbWEpOw0KfQ0KDQovKiBnZW9tZXRyeSAqLw0KDQp2b2lkIG5vZGVfYXR0cmlidXRlKHZlYzMgYXR0ciwgb3V0IHZlYzQgb3V0Y29sLCBvdXQgdmVjMyBvdXR2ZWMsIG91dCBmbG9hdCBvdXRmKQ0Kew0KCW91dGNvbCA9IHZlYzQoYXR0ciwgMS4wKTsNCglvdXR2ZWMgPSBhdHRyOw0KCW91dGYgPSAoYXR0ci54ICsgYXR0ci55ICsgYXR0ci56KSAvIDMuMDsNCn0NCg0Kdm9pZCBub2RlX3V2bWFwKHZlYzMgYXR0cl91diwgb3V0IHZlYzMgb3V0dmVjKQ0Kew0KCW91dHZlYyA9IGF0dHJfdXY7DQp9DQoNCnZvaWQgbm9kZV9nZW9tZXRyeSgNCiAgICAgICAgdmVjMyBJLCB2ZWMzIE4sIG1hdDQgdG93b3JsZCwNCiAgICAgICAgb3V0IHZlYzMgcG9zaXRpb24sIG91dCB2ZWMzIG5vcm1hbCwgb3V0IHZlYzMgdGFuZ2VudCwNCiAgICAgICAgb3V0IHZlYzMgdHJ1ZV9ub3JtYWwsIG91dCB2ZWMzIGluY29taW5nLCBvdXQgdmVjMyBwYXJhbWV0cmljLA0KICAgICAgICBvdXQgZmxvYXQgYmFja2ZhY2luZywgb3V0IGZsb2F0IHBvaW50aW5lc3MpDQp7DQoJcG9zaXRpb24gPSAodG93b3JsZCAqIHZlYzQoSSwgMS4wKSkueHl6Ow0KCW5vcm1hbCA9ICh0b3dvcmxkICogdmVjNChOLCAwLjApKS54eXo7DQoJdGFuZ2VudCA9IHZlYzMoMC4wKTsNCgl0cnVlX25vcm1hbCA9IG5vcm1hbDsNCg0KCS8qIGhhbmRsZSBwZXJzcGVjdGl2ZS9vcnRob2dyYXBoaWMgKi8NCgl2ZWMzIElfdmlldyA9IChibF9Qcm9qZWN0aW9uTWF0cml4WzNdWzNdID09IDAuMCkgPyBub3JtYWxpemUoSSkgOiB2ZWMzKDAuMCwgMC4wLCAtMS4wKTsNCglpbmNvbWluZyA9IC0odG93b3JsZCAqIHZlYzQoSV92aWV3LCAwLjApKS54eXo7DQoNCglwYXJhbWV0cmljID0gdmVjMygwLjApOw0KCWJhY2tmYWNpbmcgPSAoZ2xfRnJvbnRGYWNpbmcpID8gMC4wIDogMS4wOw0KCXBvaW50aW5lc3MgPSAwLjU7DQp9DQoNCnZvaWQgbm9kZV90ZXhfY29vcmQoDQogICAgICAgIHZlYzMgSSwgdmVjMyBOLCBtYXQ0IHZpZXdpbnZtYXQsIG1hdDQgb2JpbnZtYXQsIHZlYzQgY2FtZXJhZmFjLA0KICAgICAgICB2ZWMzIGF0dHJfb3JjbywgdmVjMyBhdHRyX3V2LA0KICAgICAgICBvdXQgdmVjMyBnZW5lcmF0ZWQsIG91dCB2ZWMzIG5vcm1hbCwgb3V0IHZlYzMgdXYsIG91dCB2ZWMzIG9iamVjdCwNCiAgICAgICAgb3V0IHZlYzMgY2FtZXJhLCBvdXQgdmVjMyB3aW5kb3csIG91dCB2ZWMzIHJlZmxlY3Rpb24pDQp7DQoJZ2VuZXJhdGVkID0gYXR0cl9vcmNvICogMC41ICsgdmVjMygwLjUpOw0KCW5vcm1hbCA9IG5vcm1hbGl6ZSgob2JpbnZtYXQgKiAodmlld2ludm1hdCAqIHZlYzQoTiwgMC4wKSkpLnh5eik7DQoJdXYgPSBhdHRyX3V2Ow0KCW9iamVjdCA9IChvYmludm1hdCAqICh2aWV3aW52bWF0ICogdmVjNChJLCAxLjApKSkueHl6Ow0KCWNhbWVyYSA9IHZlYzMoSS54eSwgLUkueik7DQoJdmVjNCBwcm9qdmVjID0gYmxfUHJvamVjdGlvbk1hdHJpeCAqIHZlYzQoSSwgMS4wKTsNCgl3aW5kb3cgPSB2ZWMzKG10ZXhfMmRfbWFwcGluZyhwcm9qdmVjLnh5eiAvIHByb2p2ZWMudykueHkgKiBjYW1lcmFmYWMueHkgKyBjYW1lcmFmYWMuencsIDAuMCk7DQoNCgl2ZWMzIHNoYWRlX0k7DQoJc2hhZGVfdmlldyhJLCBzaGFkZV9JKTsNCgl2ZWMzIHZpZXdfcmVmbGVjdGlvbiA9IHJlZmxlY3Qoc2hhZGVfSSwgbm9ybWFsaXplKE4pKTsNCglyZWZsZWN0aW9uID0gKHZpZXdpbnZtYXQgKiB2ZWM0KHZpZXdfcmVmbGVjdGlvbiwgMC4wKSkueHl6Ow0KfQ0KDQp2b2lkIG5vZGVfdGV4X2Nvb3JkX2JhY2tncm91bmQoDQogICAgICAgIHZlYzMgSSwgdmVjMyBOLCBtYXQ0IHZpZXdpbnZtYXQsIG1hdDQgb2JpbnZtYXQsIHZlYzQgY2FtZXJhZmFjLA0KICAgICAgICB2ZWMzIGF0dHJfb3JjbywgdmVjMyBhdHRyX3V2LA0KICAgICAgICBvdXQgdmVjMyBnZW5lcmF0ZWQsIG91dCB2ZWMzIG5vcm1hbCwgb3V0IHZlYzMgdXYsIG91dCB2ZWMzIG9iamVjdCwNCiAgICAgICAgb3V0IHZlYzMgY2FtZXJhLCBvdXQgdmVjMyB3aW5kb3csIG91dCB2ZWMzIHJlZmxlY3Rpb24pDQp7DQoJdmVjNCB2ID0gKGJsX1Byb2plY3Rpb25NYXRyaXhbM11bM10gPT0gMC4wKSA/IHZlYzQoSSwgMS4wKSA6IHZlYzQoMC4wLCAwLjAsIDEuMCwgMS4wKTsNCgl2ZWM0IGNvX2hvbW9nZW5vdXMgPSAoYmxfUHJvamVjdGlvbk1hdHJpeEludmVyc2UgKiB2KTsNCg0KCXZlYzQgY28gPSB2ZWM0KGNvX2hvbW9nZW5vdXMueHl6IC8gY29faG9tb2dlbm91cy53LCAwLjApOw0KDQoJY28gPSBub3JtYWxpemUoY28pOw0KCXZlYzMgY29vcmRzID0gKGJsX01vZGVsVmlld01hdHJpeEludmVyc2UgKiBjbykueHl6Ow0KDQoJZ2VuZXJhdGVkID0gY29vcmRzOw0KCW5vcm1hbCA9IC1jb29yZHM7DQoJdXYgPSB2ZWMzKGF0dHJfdXYueHksIDAuMCk7DQoJb2JqZWN0ID0gY29vcmRzOw0KDQoJY2FtZXJhID0gdmVjMyhjby54eSwgLWNvLnopOw0KCXdpbmRvdyA9IChibF9Qcm9qZWN0aW9uTWF0cml4WzNdWzNdID09IDAuMCkgPw0KCSAgICAgICAgIHZlYzMobXRleF8yZF9tYXBwaW5nKEkpLnh5ICogY2FtZXJhZmFjLnh5ICsgY2FtZXJhZmFjLnp3LCAwLjApIDoNCgkgICAgICAgICB2ZWMzKHZlYzIoMC41KSAqIGNhbWVyYWZhYy54eSArIGNhbWVyYWZhYy56dywgMC4wKTsNCg0KCXJlZmxlY3Rpb24gPSAtY29vcmRzOw0KfQ0KDQovKiB0ZXh0dXJlcyAqLw0KDQpmbG9hdCBjYWxjX2dyYWRpZW50KHZlYzMgcCwgaW50IGdyYWRpZW50X3R5cGUpDQp7DQoJZmxvYXQgeCwgeSwgejsNCgl4ID0gcC54Ow0KCXkgPSBwLnk7DQoJeiA9IHAuejsNCglpZiAoZ3JhZGllbnRfdHlwZSA9PSAwKSB7ICAvKiBsaW5lYXIgKi8NCgkJcmV0dXJuIHg7DQoJfQ0KCWVsc2UgaWYgKGdyYWRpZW50X3R5cGUgPT0gMSkgeyAgLyogcXVhZHJhdGljICovDQoJCWZsb2F0IHIgPSBtYXgoeCwgMC4wKTsNCgkJcmV0dXJuIHIgKiByOw0KCX0NCgllbHNlIGlmIChncmFkaWVudF90eXBlID09IDIpIHsgIC8qIGVhc2luZyAqLw0KCQlmbG9hdCByID0gbWluKG1heCh4LCAwLjApLCAxLjApOw0KCQlmbG9hdCB0ID0gciAqIHI7DQoJCXJldHVybiAoMy4wICogdCAtIDIuMCAqIHQgKiByKTsNCgl9DQoJZWxzZSBpZiAoZ3JhZGllbnRfdHlwZSA9PSAzKSB7ICAvKiBkaWFnb25hbCAqLw0KCQlyZXR1cm4gKHggKyB5KSAqIDAuNTsNCgl9DQoJZWxzZSBpZiAoZ3JhZGllbnRfdHlwZSA9PSA0KSB7ICAvKiByYWRpYWwgKi8NCgkJcmV0dXJuIGF0YW4oeSwgeCkgLyAoTV9QSSAqIDIpICsgMC41Ow0KCX0NCgllbHNlIHsNCgkJZmxvYXQgciA9IG1heCgxLjAgLSBzcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeiksIDAuMCk7DQoJCWlmIChncmFkaWVudF90eXBlID09IDUpIHsgIC8qIHF1YWRyYXRpYyBzcGhlcmUgKi8NCgkJCXJldHVybiByICogcjsNCgkJfQ0KCQllbHNlIGlmIChncmFkaWVudF90eXBlID09IDYpIHsgIC8qIHNwaGVyZSAqLw0KCQkJcmV0dXJuIHI7DQoJCX0NCgl9DQoJcmV0dXJuIDAuMDsNCn0NCg0Kdm9pZCBub2RlX3RleF9ncmFkaWVudCh2ZWMzIGNvLCBmbG9hdCBncmFkaWVudF90eXBlLCBvdXQgdmVjNCBjb2xvciwgb3V0IGZsb2F0IGZhYykNCnsNCglmbG9hdCBmID0gY2FsY19ncmFkaWVudChjbywgaW50KGdyYWRpZW50X3R5cGUpKTsNCglmID0gY2xhbXAoZiwgMC4wLCAxLjApOw0KDQoJY29sb3IgPSB2ZWM0KGYsIGYsIGYsIDEuMCk7DQoJZmFjID0gZjsNCn0NCg0Kdm9pZCBub2RlX3RleF9jaGVja2VyKHZlYzMgY28sIHZlYzQgY29sb3IxLCB2ZWM0IGNvbG9yMiwgZmxvYXQgc2NhbGUsIG91dCB2ZWM0IGNvbG9yLCBvdXQgZmxvYXQgZmFjKQ0Kew0KCXZlYzMgcCA9IGNvICogc2NhbGU7DQoNCgkvKiBQcmV2ZW50IHByZWNpc2lvbiBpc3N1ZXMgb24gdW5pdCBjb29yZGluYXRlcy4gKi8NCglwLnggPSAocC54ICsgMC4wMDAwMDEpICogMC45OTk5OTk7DQoJcC55ID0gKHAueSArIDAuMDAwMDAxKSAqIDAuOTk5OTk5Ow0KCXAueiA9IChwLnogKyAwLjAwMDAwMSkgKiAwLjk5OTk5OTsNCg0KCWludCB4aSA9IGludChhYnMoZmxvb3IocC54KSkpOw0KCWludCB5aSA9IGludChhYnMoZmxvb3IocC55KSkpOw0KCWludCB6aSA9IGludChhYnMoZmxvb3IocC56KSkpOw0KDQoJYm9vbCBjaGVjayA9ICgobW9kKHhpLCAyKSA9PSBtb2QoeWksIDIpKSA9PSBib29sKG1vZCh6aSwgMikpKTsNCg0KCWNvbG9yID0gY2hlY2sgPyBjb2xvcjEgOiBjb2xvcjI7DQoJZmFjID0gY2hlY2sgPyAxLjAgOiAwLjA7DQp9DQoNCiNpZmRlZiBCSVRfT1BFUkFUSU9OUw0KdmVjMiBjYWxjX2JyaWNrX3RleHR1cmUodmVjMyBwLCBmbG9hdCBtb3J0YXJfc2l6ZSwgZmxvYXQgbW9ydGFyX3Ntb290aCwgZmxvYXQgYmlhcywNCiAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0IGJyaWNrX3dpZHRoLCBmbG9hdCByb3dfaGVpZ2h0LA0KICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQgb2Zmc2V0X2Ftb3VudCwgaW50IG9mZnNldF9mcmVxdWVuY3ksDQogICAgICAgICAgICAgICAgICAgICAgICBmbG9hdCBzcXVhc2hfYW1vdW50LCBpbnQgc3F1YXNoX2ZyZXF1ZW5jeSkNCnsNCglpbnQgYnJpY2tudW0sIHJvd251bTsNCglmbG9hdCBvZmZzZXQgPSAwLjA7DQoJZmxvYXQgeCwgeTsNCg0KCXJvd251bSA9IGZsb29yX3RvX2ludChwLnkgLyByb3dfaGVpZ2h0KTsNCg0KCWlmIChvZmZzZXRfZnJlcXVlbmN5ICE9IDAgJiYgc3F1YXNoX2ZyZXF1ZW5jeSAhPSAwKSB7DQoJCWJyaWNrX3dpZHRoICo9IChyb3dudW0gJSBzcXVhc2hfZnJlcXVlbmN5ICE9IDApID8gMS4wIDogc3F1YXNoX2Ftb3VudDsgLyogc3F1YXNoICovDQoJCW9mZnNldCA9IChyb3dudW0gJSBvZmZzZXRfZnJlcXVlbmN5ICE9IDApID8gMC4wIDogKGJyaWNrX3dpZHRoICogb2Zmc2V0X2Ftb3VudCk7IC8qIG9mZnNldCAqLw0KCX0NCg0KCWJyaWNrbnVtID0gZmxvb3JfdG9faW50KChwLnggKyBvZmZzZXQpIC8gYnJpY2tfd2lkdGgpOw0KDQoJeCA9IChwLnggKyBvZmZzZXQpIC0gYnJpY2tfd2lkdGggKiBicmlja251bTsNCgl5ID0gcC55IC0gcm93X2hlaWdodCAqIHJvd251bTsNCg0KCWZsb2F0IHRpbnQgPSBjbGFtcCgoaW50ZWdlcl9ub2lzZSgocm93bnVtIDw8IDE2KSArIChicmlja251bSAmIDB4RkZGRikpICsgYmlhcyksIDAuMCwgMS4wKTsNCg0KCWZsb2F0IG1pbl9kaXN0ID0gbWluKG1pbih4LCB5KSwgbWluKGJyaWNrX3dpZHRoIC0geCwgcm93X2hlaWdodCAtIHkpKTsNCglpZiAobWluX2Rpc3QgPj0gbW9ydGFyX3NpemUpIHsNCgkJcmV0dXJuIHZlYzIodGludCwgMC4wKTsNCgl9DQoJZWxzZSBpZiAobW9ydGFyX3Ntb290aCA9PSAwLjApIHsNCgkJcmV0dXJuIHZlYzIodGludCwgMS4wKTsNCgl9DQoJZWxzZSB7DQoJCW1pbl9kaXN0ID0gMS4wIC0gbWluX2Rpc3QvbW9ydGFyX3NpemU7DQoJCXJldHVybiB2ZWMyKHRpbnQsIHNtb290aHN0ZXAoMC4wLCBtb3J0YXJfc21vb3RoLCBtaW5fZGlzdCkpOw0KCX0NCn0NCiNlbmRpZg0KDQp2b2lkIG5vZGVfdGV4X2JyaWNrKHZlYzMgY28sDQogICAgICAgICAgICAgICAgICAgIHZlYzQgY29sb3IxLCB2ZWM0IGNvbG9yMiwNCiAgICAgICAgICAgICAgICAgICAgdmVjNCBtb3J0YXIsIGZsb2F0IHNjYWxlLA0KICAgICAgICAgICAgICAgICAgICBmbG9hdCBtb3J0YXJfc2l6ZSwgZmxvYXQgbW9ydGFyX3Ntb290aCwgZmxvYXQgYmlhcywNCiAgICAgICAgICAgICAgICAgICAgZmxvYXQgYnJpY2tfd2lkdGgsIGZsb2F0IHJvd19oZWlnaHQsDQogICAgICAgICAgICAgICAgICAgIGZsb2F0IG9mZnNldF9hbW91bnQsIGZsb2F0IG9mZnNldF9mcmVxdWVuY3ksDQogICAgICAgICAgICAgICAgICAgIGZsb2F0IHNxdWFzaF9hbW91bnQsIGZsb2F0IHNxdWFzaF9mcmVxdWVuY3ksDQogICAgICAgICAgICAgICAgICAgIG91dCB2ZWM0IGNvbG9yLCBvdXQgZmxvYXQgZmFjKQ0Kew0KI2lmZGVmIEJJVF9PUEVSQVRJT05TDQoJdmVjMiBmMiA9IGNhbGNfYnJpY2tfdGV4dHVyZShjbyAqIHNjYWxlLA0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ydGFyX3NpemUsIG1vcnRhcl9zbW9vdGgsIGJpYXMsDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmlja193aWR0aCwgcm93X2hlaWdodCwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldF9hbW91bnQsIGludChvZmZzZXRfZnJlcXVlbmN5KSwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFzaF9hbW91bnQsIGludChzcXVhc2hfZnJlcXVlbmN5KSk7DQoJZmxvYXQgdGludCA9IGYyLng7DQoJZmxvYXQgZiA9IGYyLnk7DQoJaWYgKGYgIT0gMS4wKSB7DQoJCWZsb2F0IGZhY20gPSAxLjAgLSB0aW50Ow0KCQljb2xvcjEgPSBmYWNtICogY29sb3IxICsgdGludCAqIGNvbG9yMjsNCgl9DQoJY29sb3IgPSBtaXgoY29sb3IxLCBtb3J0YXIsIGYpOw0KCWZhYyA9IGY7DQojZWxzZQ0KCWNvbG9yID0gdmVjNCgxLjApOw0KCWZhYyA9IDEuMDsNCiNlbmRpZg0KfQ0KDQp2b2lkIG5vZGVfdGV4X2Nsb3Vkcyh2ZWMzIGNvLCBmbG9hdCBzaXplLCBvdXQgdmVjNCBjb2xvciwgb3V0IGZsb2F0IGZhYykNCnsNCgljb2xvciA9IHZlYzQoMS4wKTsNCglmYWMgPSAxLjA7DQp9DQoNCnZvaWQgbm9kZV90ZXhfZW52aXJvbm1lbnRfZXF1aXJlY3Rhbmd1bGFyKHZlYzMgY28sIHNhbXBsZXIyRCBpbWEsIG91dCB2ZWM0IGNvbG9yKQ0Kew0KCXZlYzMgbmNvID0gbm9ybWFsaXplKGNvKTsNCglmbG9hdCB1ID0gLWF0YW4obmNvLnksIG5jby54KSAvICgyLjAgKiBNX1BJKSArIDAuNTsNCglmbG9hdCB2ID0gYXRhbihuY28ueiwgaHlwb3QobmNvLngsIG5jby55KSkgLyBNX1BJICsgMC41Ow0KDQoJY29sb3IgPSB0ZXh0dXJlMkQoaW1hLCB2ZWMyKHUsIHYpKTsNCn0NCg0Kdm9pZCBub2RlX3RleF9lbnZpcm9ubWVudF9taXJyb3JfYmFsbCh2ZWMzIGNvLCBzYW1wbGVyMkQgaW1hLCBvdXQgdmVjNCBjb2xvcikNCnsNCgl2ZWMzIG5jbyA9IG5vcm1hbGl6ZShjbyk7DQoNCgluY28ueSAtPSAxLjA7DQoNCglmbG9hdCBkaXYgPSAyLjAgKiBzcXJ0KG1heCgtMC41ICogbmNvLnksIDAuMCkpOw0KCWlmIChkaXYgPiAwLjApDQoJCW5jbyAvPSBkaXY7DQoNCglmbG9hdCB1ID0gMC41ICogKG5jby54ICsgMS4wKTsNCglmbG9hdCB2ID0gMC41ICogKG5jby56ICsgMS4wKTsNCg0KCWNvbG9yID0gdGV4dHVyZTJEKGltYSwgdmVjMih1LCB2KSk7DQp9DQoNCnZvaWQgbm9kZV90ZXhfZW52aXJvbm1lbnRfZW1wdHkodmVjMyBjbywgb3V0IHZlYzQgY29sb3IpDQp7DQoJY29sb3IgPSB2ZWM0KDEuMCwgMC4wLCAxLjAsIDEuMCk7DQp9DQoNCnZvaWQgbm9kZV90ZXhfaW1hZ2UodmVjMyBjbywgc2FtcGxlcjJEIGltYSwgb3V0IHZlYzQgY29sb3IsIG91dCBmbG9hdCBhbHBoYSkNCnsNCgljb2xvciA9IHRleHR1cmUyRChpbWEsIGNvLnh5KTsNCglhbHBoYSA9IGNvbG9yLmE7DQp9DQoNCnZvaWQgbm9kZV90ZXhfaW1hZ2VfYm94KHZlYzMgdGV4Y28sDQogICAgICAgICAgICAgICAgICAgICAgICB2ZWMzIG5vYiwNCiAgICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZXIyRCBpbWEsDQogICAgICAgICAgICAgICAgICAgICAgICBmbG9hdCBibGVuZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIG91dCB2ZWM0IGNvbG9yLA0KICAgICAgICAgICAgICAgICAgICAgICAgb3V0IGZsb2F0IGFscGhhKQ0Kew0KCS8qIHByb2plY3QgZnJvbSBkaXJlY3Rpb24gdmVjdG9yIHRvIGJhcnljZW50cmljIGNvb3JkaW5hdGVzIHZhcnlpbmcgdHJpYW5nbGVzICovDQoJbm9iID0gdmVjMyhhYnMobm9iLngpLCBhYnMobm9iLnkpLCBhYnMobm9iLnopKTsNCglub2IgLz0gKG5vYi54ICsgbm9iLnkgKyBub2Iueik7DQoNCgkvKiBiYXNpYyBpZGVhIGlzIHRvIHRoaW5rIG9mIHRoaXMgYXMgYSB0cmlhbmdsZSwgZWFjaCBjb3JuZXIgcmVwcmVzZW50aW5nDQoJICogb25lIG9mIHRoZSAzIGZhY2VzIG9mIHRoZSBjdWJlLiB2YXJ5aW5nIHRoZSBjb3JuZXJzIHdlIGhhdmUgc2luZ2xlIHRleHR1cmVzLA0KCSAqIHZhcnlpbmcgYmV0d2VlbiB3ZSBibGVuZCBiZXR3ZWVuIHR3byB0ZXh0dXJlcywgYW5kIHZhcnlpbmcgdGhlIG1pZGRsZSB3ZSBhIGJsZW5kDQoJICogYmV0d2VlbiB0aHJlZSB0ZXh0dXJlcy4NCgkgKg0KCSAqIHRoZSBOeHl6IHZhbHVlcyBhcmUgdGhlIGJhcnljZW50cmljIGNvb3JkaW5hdGVzIHZhcnlpbmcgYW4gZXF1aWxhdGVyYWwNCgkgKiB0cmlhbmdsZSwgd2hpY2ggdmFyeWluZyBjYXNlIG9mIGJsZW5kaW5nLCB2YXJ5aW5nIHRoZSBtaWRkbGUgaGFzIGEgc21hbGxlcg0KCSAqIGVxdWlsYXRlcmFsIHRyaWFuZ2xlIHdoZXJlIDMgdGV4dHVyZXMgYmxlbmQuIHRoaXMgZGl2aWRlcyB0aGluZ3MgaW50bw0KCSAqIDcgem9uZXMsIHdpdGggYW4gaWYgKCkgdGVzdCBmb3IgZWFjaCB6b25lICovDQoNCgl2ZWMzIHdlaWdodCA9IHZlYzMoMC4wLCAwLjAsIDAuMCk7DQoJZmxvYXQgbGltaXQgPSAwLjUgKiAoMS4wICsgYmxlbmQpOw0KDQoJLyogZmlyc3QgdGVzdCBmb3IgY29ybmVycyB3aXRoIHNpbmdsZSB0ZXh0dXJlICovDQoJaWYgKG5vYi54ID4gbGltaXQgKiAobm9iLnggKyBub2IueSkgJiYgbm9iLnggPiBsaW1pdCAqIChub2IueCArIG5vYi56KSkgew0KCQl3ZWlnaHQueCA9IDEuMDsNCgl9DQoJZWxzZSBpZiAobm9iLnkgPiBsaW1pdCAqIChub2IueCArIG5vYi55KSAmJiBub2IueSA+IGxpbWl0ICogKG5vYi55ICsgbm9iLnopKSB7DQoJCXdlaWdodC55ID0gMS4wOw0KCX0NCgllbHNlIGlmIChub2IueiA+IGxpbWl0ICogKG5vYi54ICsgbm9iLnopICYmIG5vYi56ID4gbGltaXQgKiAobm9iLnkgKyBub2IueikpIHsNCgkJd2VpZ2h0LnogPSAxLjA7DQoJfQ0KCWVsc2UgaWYgKGJsZW5kID4gMC4wKSB7DQoJCS8qIHZhcnlpbmcgY2FzZSBvZiBibGVuZGluZywgdGVzdCBmb3IgbWl4ZXMgYmV0d2VlbiB0d28gdGV4dHVyZXMgKi8NCgkJaWYgKG5vYi56IDwgKDEuMCAtIGxpbWl0KSAqIChub2IueSArIG5vYi54KSkgew0KCQkJd2VpZ2h0LnggPSBub2IueCAvIChub2IueCArIG5vYi55KTsNCgkJCXdlaWdodC54ID0gY2xhbXAoKHdlaWdodC54IC0gMC41ICogKDEuMCAtIGJsZW5kKSkgLyBibGVuZCwgMC4wLCAxLjApOw0KCQkJd2VpZ2h0LnkgPSAxLjAgLSB3ZWlnaHQueDsNCgkJfQ0KCQllbHNlIGlmIChub2IueCA8ICgxLjAgLSBsaW1pdCkgKiAobm9iLnkgKyBub2IueikpIHsNCgkJCXdlaWdodC55ID0gbm9iLnkgLyAobm9iLnkgKyBub2Iueik7DQoJCQl3ZWlnaHQueSA9IGNsYW1wKCh3ZWlnaHQueSAtIDAuNSAqICgxLjAgLSBibGVuZCkpIC8gYmxlbmQsIDAuMCwgMS4wKTsNCgkJCXdlaWdodC56ID0gMS4wIC0gd2VpZ2h0Lnk7DQoJCX0NCgkJZWxzZSBpZiAobm9iLnkgPCAoMS4wIC0gbGltaXQpICogKG5vYi54ICsgbm9iLnopKSB7DQoJCQl3ZWlnaHQueCA9IG5vYi54IC8gKG5vYi54ICsgbm9iLnopOw0KCQkJd2VpZ2h0LnggPSBjbGFtcCgod2VpZ2h0LnggLSAwLjUgKiAoMS4wIC0gYmxlbmQpKSAvIGJsZW5kLCAwLjAsIDEuMCk7DQoJCQl3ZWlnaHQueiA9IDEuMCAtIHdlaWdodC54Ow0KCQl9DQoJCWVsc2Ugew0KCQkJLyogbGFzdCBjYXNlLCB3ZSBoYXZlIGEgbWl4IGJldHdlZW4gdGhyZWUgKi8NCgkJCXdlaWdodC54ID0gKCgyLjAgLSBsaW1pdCkgKiBub2IueCArIChsaW1pdCAtIDEuMCkpIC8gKDIuMCAqIGxpbWl0IC0gMS4wKTsNCgkJCXdlaWdodC55ID0gKCgyLjAgLSBsaW1pdCkgKiBub2IueSArIChsaW1pdCAtIDEuMCkpIC8gKDIuMCAqIGxpbWl0IC0gMS4wKTsNCgkJCXdlaWdodC56ID0gKCgyLjAgLSBsaW1pdCkgKiBub2IueiArIChsaW1pdCAtIDEuMCkpIC8gKDIuMCAqIGxpbWl0IC0gMS4wKTsNCgkJfQ0KCX0NCgllbHNlIHsNCgkJLyogRGVzcGVyYXRlIG1vZGUsIG5vIHZhbGlkIGNob2ljZSBhbnl3YXksIGZhbGxiYWNrIHRvIG9uZSBzaWRlLiovDQoJCXdlaWdodC54ID0gMS4wOw0KCX0NCgljb2xvciA9IHZlYzQoMCk7DQoJaWYgKHdlaWdodC54ID4gMC4wKSB7DQoJCWNvbG9yICs9IHdlaWdodC54ICogdGV4dHVyZTJEKGltYSwgdGV4Y28ueXopOw0KCX0NCglpZiAod2VpZ2h0LnkgPiAwLjApIHsNCgkJY29sb3IgKz0gd2VpZ2h0LnkgKiB0ZXh0dXJlMkQoaW1hLCB0ZXhjby54eik7DQoJfQ0KCWlmICh3ZWlnaHQueiA+IDAuMCkgew0KCQljb2xvciArPSB3ZWlnaHQueiAqIHRleHR1cmUyRChpbWEsIHRleGNvLnl4KTsNCgl9DQoNCglhbHBoYSA9IGNvbG9yLmE7DQp9DQoNCnZvaWQgbm9kZV90ZXhfaW1hZ2VfZW1wdHkodmVjMyBjbywgb3V0IHZlYzQgY29sb3IsIG91dCBmbG9hdCBhbHBoYSkNCnsNCgljb2xvciA9IHZlYzQoMC4wKTsNCglhbHBoYSA9IDAuMDsNCn0NCg0Kdm9pZCBub2RlX3RleF9tYWdpYyh2ZWMzIGNvLCBmbG9hdCBzY2FsZSwgZmxvYXQgZGlzdG9ydGlvbiwgZmxvYXQgZGVwdGgsIG91dCB2ZWM0IGNvbG9yLCBvdXQgZmxvYXQgZmFjKQ0Kew0KCXZlYzMgcCA9IGNvICogc2NhbGU7DQoJZmxvYXQgeCA9IHNpbigocC54ICsgcC55ICsgcC56KSAqIDUuMCk7DQoJZmxvYXQgeSA9IGNvcygoLXAueCArIHAueSAtIHAueikgKiA1LjApOw0KCWZsb2F0IHogPSAtY29zKCgtcC54IC0gcC55ICsgcC56KSAqIDUuMCk7DQoNCglpZiAoZGVwdGggPiAwKSB7DQoJCXggKj0gZGlzdG9ydGlvbjsNCgkJeSAqPSBkaXN0b3J0aW9uOw0KCQl6ICo9IGRpc3RvcnRpb247DQoJCXkgPSAtY29zKHggLSB5ICsgeik7DQoJCXkgKj0gZGlzdG9ydGlvbjsNCgkJaWYgKGRlcHRoID4gMSkgew0KCQkJeCA9IGNvcyh4IC0geSAtIHopOw0KCQkJeCAqPSBkaXN0b3J0aW9uOw0KCQkJaWYgKGRlcHRoID4gMikgew0KCQkJCXogPSBzaW4oLXggLSB5IC0geik7DQoJCQkJeiAqPSBkaXN0b3J0aW9uOw0KCQkJCWlmIChkZXB0aCA+IDMpIHsNCgkJCQkJeCA9IC1jb3MoLXggKyB5IC0geik7DQoJCQkJCXggKj0gZGlzdG9ydGlvbjsNCgkJCQkJaWYgKGRlcHRoID4gNCkgew0KCQkJCQkJeSA9IC1zaW4oLXggKyB5ICsgeik7DQoJCQkJCQl5ICo9IGRpc3RvcnRpb247DQoJCQkJCQlpZiAoZGVwdGggPiA1KSB7DQoJCQkJCQkJeSA9IC1jb3MoLXggKyB5ICsgeik7DQoJCQkJCQkJeSAqPSBkaXN0b3J0aW9uOw0KCQkJCQkJCWlmIChkZXB0aCA+IDYpIHsNCgkJCQkJCQkJeCA9IGNvcyh4ICsgeSArIHopOw0KCQkJCQkJCQl4ICo9IGRpc3RvcnRpb247DQoJCQkJCQkJCWlmIChkZXB0aCA+IDcpIHsNCgkJCQkJCQkJCXogPSBzaW4oeCArIHkgLSB6KTsNCgkJCQkJCQkJCXogKj0gZGlzdG9ydGlvbjsNCgkJCQkJCQkJCWlmIChkZXB0aCA+IDgpIHsNCgkJCQkJCQkJCQl4ID0gLWNvcygteCAtIHkgKyB6KTsNCgkJCQkJCQkJCQl4ICo9IGRpc3RvcnRpb247DQoJCQkJCQkJCQkJaWYgKGRlcHRoID4gOSkgew0KCQkJCQkJCQkJCQl5ID0gLXNpbih4IC0geSArIHopOw0KCQkJCQkJCQkJCQl5ICo9IGRpc3RvcnRpb247DQoJCQkJCQkJCQkJfQ0KCQkJCQkJCQkJfQ0KCQkJCQkJCQl9DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfQ0KCWlmIChkaXN0b3J0aW9uICE9IDAuMCkgew0KCQlkaXN0b3J0aW9uICo9IDIuMDsNCgkJeCAvPSBkaXN0b3J0aW9uOw0KCQl5IC89IGRpc3RvcnRpb247DQoJCXogLz0gZGlzdG9ydGlvbjsNCgl9DQoNCgljb2xvciA9IHZlYzQoMC41IC0geCwgMC41IC0geSwgMC41IC0geiwgMS4wKTsNCglmYWMgPSAoY29sb3IueCArIGNvbG9yLnkgKyBjb2xvci56KSAvIDMuMDsNCn0NCg0KI2lmZGVmIEJJVF9PUEVSQVRJT05TDQpmbG9hdCBub2lzZV9mYWRlKGZsb2F0IHQpDQp7DQoJcmV0dXJuIHQgKiB0ICogdCAqICh0ICogKHQgKiA2LjAgLSAxNS4wKSArIDEwLjApOw0KfQ0KDQpmbG9hdCBub2lzZV9zY2FsZTMoZmxvYXQgcmVzdWx0KQ0Kew0KCXJldHVybiAwLjk4MjAgKiByZXN1bHQ7DQp9DQoNCmZsb2F0IG5vaXNlX25lcnAoZmxvYXQgdCwgZmxvYXQgYSwgZmxvYXQgYikNCnsNCglyZXR1cm4gKDEuMCAtIHQpICogYSArIHQgKiBiOw0KfQ0KDQpmbG9hdCBub2lzZV9ncmFkKHVpbnQgaGFzaCwgZmxvYXQgeCwgZmxvYXQgeSwgZmxvYXQgeikNCnsNCgl1aW50IGggPSBoYXNoICYgMTV1Ow0KCWZsb2F0IHUgPSBoIDwgOHUgPyB4IDogeTsNCglmbG9hdCB2dCA9ICgoaCA9PSAxMnUpIHx8IChoID09IDE0dSkpID8geCA6IHo7DQoJZmxvYXQgdiA9IGggPCA0dSA/IHkgOiB2dDsNCglyZXR1cm4gKCgoaCAmIDF1KSAhPSAwdSkgPyAtdSA6IHUpICsgKCgoaCAmIDJ1KSAhPSAwdSkgPyAtdiA6IHYpOw0KfQ0KDQpmbG9hdCBub2lzZV9wZXJsaW4oZmxvYXQgeCwgZmxvYXQgeSwgZmxvYXQgeikNCnsNCglpbnQgWDsgZmxvYXQgZnggPSBmbG9vcmZyYWMoeCwgWCk7DQoJaW50IFk7IGZsb2F0IGZ5ID0gZmxvb3JmcmFjKHksIFkpOw0KCWludCBaOyBmbG9hdCBmeiA9IGZsb29yZnJhYyh6LCBaKTsNCg0KCWZsb2F0IHUgPSBub2lzZV9mYWRlKGZ4KTsNCglmbG9hdCB2ID0gbm9pc2VfZmFkZShmeSk7DQoJZmxvYXQgdyA9IG5vaXNlX2ZhZGUoZnopOw0KDQoJZmxvYXQgcmVzdWx0Ow0KDQoJcmVzdWx0ID0gbm9pc2VfbmVycCh3LCBub2lzZV9uZXJwKHYsIG5vaXNlX25lcnAodSwgbm9pc2VfZ3JhZChoYXNoKFgsIFksIFopLCBmeCwgZnksIGZ6KSwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2lzZV9ncmFkKGhhc2goWCArIDEsIFksIFopLCBmeCAtIDEuMCwgZnksIGZ6KSksDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vaXNlX25lcnAodSwgbm9pc2VfZ3JhZChoYXNoKFgsIFkgKyAxLCBaKSwgZngsIGZ5IC0gMS4wLCBmeiksDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9pc2VfZ3JhZChoYXNoKFggKyAxLCBZICsgMSwgWiksIGZ4IC0gMS4wLCBmeSAtIDEuMCwgZnopKSksDQoJICAgICAgICAgICAgICAgICAgICBub2lzZV9uZXJwKHYsIG5vaXNlX25lcnAodSwgbm9pc2VfZ3JhZChoYXNoKFgsIFksIFogKyAxKSwgZngsIGZ5LCBmeiAtIDEuMCksDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9pc2VfZ3JhZChoYXNoKFggKyAxLCBZLCBaICsgMSksIGZ4IC0gMS4wLCBmeSwgZnogLSAxLjApKSwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9pc2VfbmVycCh1LCBub2lzZV9ncmFkKGhhc2goWCwgWSArIDEsIFogKyAxKSwgZngsIGZ5IC0gMS4wLCBmeiAtIDEuMCksDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9pc2VfZ3JhZChoYXNoKFggKyAxLCBZICsgMSwgWiArIDEpLCBmeCAtIDEuMCwgZnkgLSAxLjAsIGZ6IC0gMS4wKSkpKTsNCglyZXR1cm4gbm9pc2Vfc2NhbGUzKHJlc3VsdCk7DQp9DQoNCmZsb2F0IG5vaXNlKHZlYzMgcCkNCnsNCglyZXR1cm4gMC41ICogbm9pc2VfcGVybGluKHAueCwgcC55LCBwLnopICsgMC41Ow0KfQ0KDQpmbG9hdCBzbm9pc2UodmVjMyBwKQ0Kew0KCXJldHVybiBub2lzZV9wZXJsaW4ocC54LCBwLnksIHAueik7DQp9DQoNCmZsb2F0IG5vaXNlX3R1cmJ1bGVuY2UodmVjMyBwLCBmbG9hdCBvY3RhdmVzLCBpbnQgaGFyZCkNCnsNCglmbG9hdCBmc2NhbGUgPSAxLjA7DQoJZmxvYXQgYW1wID0gMS4wOw0KCWZsb2F0IHN1bSA9IDAuMDsNCglpbnQgaSwgbjsNCglvY3RhdmVzID0gY2xhbXAob2N0YXZlcywgMC4wLCAxNi4wKTsNCgluID0gaW50KG9jdGF2ZXMpOw0KCWZvciAoaSA9IDA7IGkgPD0gbjsgaSsrKSB7DQoJCWZsb2F0IHQgPSBub2lzZShmc2NhbGUgKiBwKTsNCgkJaWYgKGhhcmQgIT0gMCkgew0KCQkJdCA9IGFicygyLjAgKiB0IC0gMS4wKTsNCgkJfQ0KCQlzdW0gKz0gdCAqIGFtcDsNCgkJYW1wICo9IDAuNTsNCgkJZnNjYWxlICo9IDIuMDsNCgl9DQoJZmxvYXQgcm1kID0gb2N0YXZlcyAtIGZsb29yKG9jdGF2ZXMpOw0KCWlmICAocm1kICE9IDAuMCkgew0KCQlmbG9hdCB0ID0gbm9pc2UoZnNjYWxlICogcCk7DQoJCWlmIChoYXJkICE9IDApIHsNCgkJCXQgPSBhYnMoMi4wICogdCAtIDEuMCk7DQoJCX0NCgkJZmxvYXQgc3VtMiA9IHN1bSArIHQgKiBhbXA7DQoJCXN1bSAqPSAoZmxvYXQoMSA8PCBuKSAvIGZsb2F0KCgxIDw8IChuICsgMSkpIC0gMSkpOw0KCQlzdW0yICo9IChmbG9hdCgxIDw8IChuICsgMSkpIC8gZmxvYXQoKDEgPDwgKG4gKyAyKSkgLSAxKSk7DQoJCXJldHVybiAoMS4wIC0gcm1kKSAqIHN1bSArIHJtZCAqIHN1bTI7DQoJfQ0KCWVsc2Ugew0KCQlzdW0gKj0gKGZsb2F0KDEgPDwgbikgLyBmbG9hdCgoMSA8PCAobiArIDEpKSAtIDEpKTsNCgkJcmV0dXJuIHN1bTsNCgl9DQp9DQojZW5kaWYgIC8vIEJJVF9PUEVSQVRJT05TDQoNCnZvaWQgbm9kZV90ZXhfbm9pc2UodmVjMyBjbywgZmxvYXQgc2NhbGUsIGZsb2F0IGRldGFpbCwgZmxvYXQgZGlzdG9ydGlvbiwgb3V0IHZlYzQgY29sb3IsIG91dCBmbG9hdCBmYWMpDQp7DQojaWZkZWYgQklUX09QRVJBVElPTlMNCgl2ZWMzIHAgPSBjbyAqIHNjYWxlOw0KCWludCBoYXJkID0gMDsNCglpZiAoZGlzdG9ydGlvbiAhPSAwLjApIHsNCgkJdmVjMyByLCBvZmZzZXQgPSB2ZWMzKDEzLjUsIDEzLjUsIDEzLjUpOw0KCQlyLnggPSBub2lzZShwICsgb2Zmc2V0KSAqIGRpc3RvcnRpb247DQoJCXIueSA9IG5vaXNlKHApICogZGlzdG9ydGlvbjsNCgkJci56ID0gbm9pc2UocCAtIG9mZnNldCkgKiBkaXN0b3J0aW9uOw0KCQlwICs9IHI7DQoJfQ0KDQoJZmFjID0gbm9pc2VfdHVyYnVsZW5jZShwLCBkZXRhaWwsIGhhcmQpOw0KCWNvbG9yID0gdmVjNChmYWMsDQoJICAgICAgICAgICAgIG5vaXNlX3R1cmJ1bGVuY2UodmVjMyhwLnksIHAueCwgcC56KSwgZGV0YWlsLCBoYXJkKSwNCgkgICAgICAgICAgICAgbm9pc2VfdHVyYnVsZW5jZSh2ZWMzKHAueSwgcC56LCBwLngpLCBkZXRhaWwsIGhhcmQpLA0KCSAgICAgICAgICAgICAxKTsNCiNlbHNlICAvLyBCSVRfT1BFUkFUSU9OUw0KCWNvbG9yID0gdmVjNCgxLjApOw0KCWZhYyA9IDEuMDsNCiNlbmRpZiAgLy8gQklUX09QRVJBVElPTlMNCn0NCg0KDQojaWZkZWYgQklUX09QRVJBVElPTlMNCg0KLyogTXVzZ3JhdmUgZkJtDQogKg0KICogSDogZnJhY3RhbCBpbmNyZW1lbnQgcGFyYW1ldGVyDQogKiBsYWN1bmFyaXR5OiBnYXAgYmV0d2VlbiBzdWNjZXNzaXZlIGZyZXF1ZW5jaWVzDQogKiBvY3RhdmVzOiBudW1iZXIgb2YgZnJlcXVlbmNpZXMgdmFyeWluZyB0aGUgZkJtDQogKg0KICogZnJvbSAiVGV4dHVyaW5nIGFuZCBNb2RlbGxpbmc6IEEgcHJvY2VkdXJhbCBhcHByb2FjaCINCiAqLw0KDQpmbG9hdCBub2lzZV9tdXNncmF2ZV9mQm0odmVjMyBwLCBmbG9hdCBILCBmbG9hdCBsYWN1bmFyaXR5LCBmbG9hdCBvY3RhdmVzKQ0Kew0KCWZsb2F0IHJtZDsNCglmbG9hdCB2YWx1ZSA9IDAuMDsNCglmbG9hdCBwd3IgPSAxLjA7DQoJZmxvYXQgcHdITCA9IHBvdyhsYWN1bmFyaXR5LCAtSCk7DQoJaW50IGk7DQoNCglmb3IgKGkgPSAwOyBpIDwgaW50KG9jdGF2ZXMpOyBpKyspIHsNCgkJdmFsdWUgKz0gc25vaXNlKHApICogcHdyOw0KCQlwd3IgKj0gcHdITDsNCgkJcCAqPSBsYWN1bmFyaXR5Ow0KCX0NCg0KCXJtZCA9IG9jdGF2ZXMgLSBmbG9vcihvY3RhdmVzKTsNCglpZiAocm1kICE9IDAuMCkNCgkJdmFsdWUgKz0gcm1kICogc25vaXNlKHApICogcHdyOw0KDQoJcmV0dXJuIHZhbHVlOw0KfQ0KDQovKiBNdXNncmF2ZSBNdWx0aWZyYWN0YWwNCiAqDQogKiBIOiBoaWdoZXN0IGZyYWN0YWwgZGltZW5zaW9uDQogKiBsYWN1bmFyaXR5OiBnYXAgYmV0d2VlbiBzdWNjZXNzaXZlIGZyZXF1ZW5jaWVzDQogKiBvY3RhdmVzOiBudW1iZXIgb2YgZnJlcXVlbmNpZXMgdmFyeWluZyB0aGUgZkJtDQogKi8NCg0KZmxvYXQgbm9pc2VfbXVzZ3JhdmVfbXVsdGlfZnJhY3RhbCh2ZWMzIHAsIGZsb2F0IEgsIGZsb2F0IGxhY3VuYXJpdHksIGZsb2F0IG9jdGF2ZXMpDQp7DQoJZmxvYXQgcm1kOw0KCWZsb2F0IHZhbHVlID0gMS4wOw0KCWZsb2F0IHB3ciA9IDEuMDsNCglmbG9hdCBwd0hMID0gcG93KGxhY3VuYXJpdHksIC1IKTsNCglpbnQgaTsNCg0KCWZvciAoaSA9IDA7IGkgPCBpbnQob2N0YXZlcyk7IGkrKykgew0KCQl2YWx1ZSAqPSAocHdyICogc25vaXNlKHApICsgMS4wKTsNCgkJcHdyICo9IHB3SEw7DQoJCXAgKj0gbGFjdW5hcml0eTsNCgl9DQoNCglybWQgPSBvY3RhdmVzIC0gZmxvb3Iob2N0YXZlcyk7DQoJaWYgKHJtZCAhPSAwLjApDQoJCXZhbHVlICo9IChybWQgKiBwd3IgKiBzbm9pc2UocCkgKyAxLjApOyAvKiBjb3JyZWN0PyAqLw0KDQoJcmV0dXJuIHZhbHVlOw0KfQ0KDQovKiBNdXNncmF2ZSBIZXRlcm9nZW5lb3VzIFRlcnJhaW4NCiAqDQogKiBIOiBmcmFjdGFsIGRpbWVuc2lvbiBvZiB0aGUgcm91Z2hlc3QgYXJlYQ0KICogbGFjdW5hcml0eTogZ2FwIGJldHdlZW4gc3VjY2Vzc2l2ZSBmcmVxdWVuY2llcw0KICogb2N0YXZlczogbnVtYmVyIG9mIGZyZXF1ZW5jaWVzIHZhcnlpbmcgdGhlIGZCbQ0KICogb2Zmc2V0OiByYWlzZXMgdGhlIHRlcnJhaW4gZnJvbSBgc2VhIGxldmVsJw0KICovDQoNCmZsb2F0IG5vaXNlX211c2dyYXZlX2hldGVyb190ZXJyYWluKHZlYzMgcCwgZmxvYXQgSCwgZmxvYXQgbGFjdW5hcml0eSwgZmxvYXQgb2N0YXZlcywgZmxvYXQgb2Zmc2V0KQ0Kew0KCWZsb2F0IHZhbHVlLCBpbmNyZW1lbnQsIHJtZDsNCglmbG9hdCBwd0hMID0gcG93KGxhY3VuYXJpdHksIC1IKTsNCglmbG9hdCBwd3IgPSBwd0hMOw0KCWludCBpOw0KDQoJLyogZmlyc3QgdW5zY2FsZWQgb2N0YXZlIG9mIGZ1bmN0aW9uOyBsYXRlciBvY3RhdmVzIGFyZSBzY2FsZWQgKi8NCgl2YWx1ZSA9IG9mZnNldCArIHNub2lzZShwKTsNCglwICo9IGxhY3VuYXJpdHk7DQoNCglmb3IgKGkgPSAxOyBpIDwgaW50KG9jdGF2ZXMpOyBpKyspIHsNCgkJaW5jcmVtZW50ID0gKHNub2lzZShwKSArIG9mZnNldCkgKiBwd3IgKiB2YWx1ZTsNCgkJdmFsdWUgKz0gaW5jcmVtZW50Ow0KCQlwd3IgKj0gcHdITDsNCgkJcCAqPSBsYWN1bmFyaXR5Ow0KCX0NCg0KCXJtZCA9IG9jdGF2ZXMgLSBmbG9vcihvY3RhdmVzKTsNCglpZiAocm1kICE9IDAuMCkgew0KCQlpbmNyZW1lbnQgPSAoc25vaXNlKHApICsgb2Zmc2V0KSAqIHB3ciAqIHZhbHVlOw0KCQl2YWx1ZSArPSBybWQgKiBpbmNyZW1lbnQ7DQoJfQ0KDQoJcmV0dXJuIHZhbHVlOw0KfQ0KDQovKiBIeWJyaWQgQWRkaXRpdmUvTXVsdGlwbGljYXRpdmUgTXVsdGlmcmFjdGFsIFRlcnJhaW4NCiAqDQogKiBIOiBmcmFjdGFsIGRpbWVuc2lvbiBvZiB0aGUgcm91Z2hlc3QgYXJlYQ0KICogbGFjdW5hcml0eTogZ2FwIGJldHdlZW4gc3VjY2Vzc2l2ZSBmcmVxdWVuY2llcw0KICogb2N0YXZlczogbnVtYmVyIG9mIGZyZXF1ZW5jaWVzIHZhcnlpbmcgdGhlIGZCbQ0KICogb2Zmc2V0OiByYWlzZXMgdGhlIHRlcnJhaW4gZnJvbSBgc2VhIGxldmVsJw0KICovDQoNCmZsb2F0IG5vaXNlX211c2dyYXZlX2h5YnJpZF9tdWx0aV9mcmFjdGFsKHZlYzMgcCwgZmxvYXQgSCwgZmxvYXQgbGFjdW5hcml0eSwgZmxvYXQgb2N0YXZlcywgZmxvYXQgb2Zmc2V0LCBmbG9hdCBnYWluKQ0Kew0KCWZsb2F0IHJlc3VsdCwgc2lnbmFsLCB3ZWlnaHQsIHJtZDsNCglmbG9hdCBwd0hMID0gcG93KGxhY3VuYXJpdHksIC1IKTsNCglmbG9hdCBwd3IgPSBwd0hMOw0KCWludCBpOw0KDQoJcmVzdWx0ID0gc25vaXNlKHApICsgb2Zmc2V0Ow0KCXdlaWdodCA9IGdhaW4gKiByZXN1bHQ7DQoJcCAqPSBsYWN1bmFyaXR5Ow0KDQoJZm9yIChpID0gMTsgKHdlaWdodCA+IDAuMDAxZikgJiYgKGkgPCBpbnQob2N0YXZlcykpOyBpKyspIHsNCgkJaWYgKHdlaWdodCA+IDEuMCkNCgkJCXdlaWdodCA9IDEuMDsNCg0KCQlzaWduYWwgPSAoc25vaXNlKHApICsgb2Zmc2V0KSAqIHB3cjsNCgkJcHdyICo9IHB3SEw7DQoJCXJlc3VsdCArPSB3ZWlnaHQgKiBzaWduYWw7DQoJCXdlaWdodCAqPSBnYWluICogc2lnbmFsOw0KCQlwICo9IGxhY3VuYXJpdHk7DQoJfQ0KDQoJcm1kID0gb2N0YXZlcyAtIGZsb29yKG9jdGF2ZXMpOw0KCWlmIChybWQgIT0gMC4wKQ0KCQlyZXN1bHQgKz0gcm1kICogKChzbm9pc2UocCkgKyBvZmZzZXQpICogcHdyKTsNCg0KCXJldHVybiByZXN1bHQ7DQp9DQoNCi8qIFJpZGdlZCBNdWx0aWZyYWN0YWwgVGVycmFpbg0KICoNCiAqIEg6IGZyYWN0YWwgZGltZW5zaW9uIG9mIHRoZSByb3VnaGVzdCBhcmVhDQogKiBsYWN1bmFyaXR5OiBnYXAgYmV0d2VlbiBzdWNjZXNzaXZlIGZyZXF1ZW5jaWVzDQogKiBvY3RhdmVzOiBudW1iZXIgb2YgZnJlcXVlbmNpZXMgdmFyeWluZyB0aGUgZkJtDQogKiBvZmZzZXQ6IHJhaXNlcyB0aGUgdGVycmFpbiBmcm9tIGBzZWEgbGV2ZWwnDQogKi8NCg0KZmxvYXQgbm9pc2VfbXVzZ3JhdmVfcmlkZ2VkX211bHRpX2ZyYWN0YWwodmVjMyBwLCBmbG9hdCBILCBmbG9hdCBsYWN1bmFyaXR5LCBmbG9hdCBvY3RhdmVzLCBmbG9hdCBvZmZzZXQsIGZsb2F0IGdhaW4pDQp7DQoJZmxvYXQgcmVzdWx0LCBzaWduYWwsIHdlaWdodDsNCglmbG9hdCBwd0hMID0gcG93KGxhY3VuYXJpdHksIC1IKTsNCglmbG9hdCBwd3IgPSBwd0hMOw0KCWludCBpOw0KDQoJc2lnbmFsID0gb2Zmc2V0IC0gYWJzKHNub2lzZShwKSk7DQoJc2lnbmFsICo9IHNpZ25hbDsNCglyZXN1bHQgPSBzaWduYWw7DQoJd2VpZ2h0ID0gMS4wOw0KDQoJZm9yIChpID0gMTsgaSA8IGludChvY3RhdmVzKTsgaSsrKSB7DQoJCXAgKj0gbGFjdW5hcml0eTsNCgkJd2VpZ2h0ID0gY2xhbXAoc2lnbmFsICogZ2FpbiwgMC4wLCAxLjApOw0KCQlzaWduYWwgPSBvZmZzZXQgLSBhYnMoc25vaXNlKHApKTsNCgkJc2lnbmFsICo9IHNpZ25hbDsNCgkJc2lnbmFsICo9IHdlaWdodDsNCgkJcmVzdWx0ICs9IHNpZ25hbCAqIHB3cjsNCgkJcHdyICo9IHB3SEw7DQoJfQ0KDQoJcmV0dXJuIHJlc3VsdDsNCn0NCg0KZmxvYXQgc3ZtX211c2dyYXZlKGludCB0eXBlLA0KICAgICAgICAgICAgICAgICAgIGZsb2F0IGRpbWVuc2lvbiwNCiAgICAgICAgICAgICAgICAgICBmbG9hdCBsYWN1bmFyaXR5LA0KICAgICAgICAgICAgICAgICAgIGZsb2F0IG9jdGF2ZXMsDQogICAgICAgICAgICAgICAgICAgZmxvYXQgb2Zmc2V0LA0KICAgICAgICAgICAgICAgICAgIGZsb2F0IGludGVuc2l0eSwNCiAgICAgICAgICAgICAgICAgICBmbG9hdCBnYWluLA0KICAgICAgICAgICAgICAgICAgIHZlYzMgcCkNCnsNCglpZiAodHlwZSA9PSAwIC8qTk9ERV9NVVNHUkFWRV9NVUxUSUZSQUNUQUwqLykNCgkJcmV0dXJuIGludGVuc2l0eSAqIG5vaXNlX211c2dyYXZlX211bHRpX2ZyYWN0YWwocCwgZGltZW5zaW9uLCBsYWN1bmFyaXR5LCBvY3RhdmVzKTsNCgllbHNlIGlmICh0eXBlID09IDEgLypOT0RFX01VU0dSQVZFX0ZCTSovKQ0KCQlyZXR1cm4gaW50ZW5zaXR5ICogbm9pc2VfbXVzZ3JhdmVfZkJtKHAsIGRpbWVuc2lvbiwgbGFjdW5hcml0eSwgb2N0YXZlcyk7DQoJZWxzZSBpZiAodHlwZSA9PSAyIC8qTk9ERV9NVVNHUkFWRV9IWUJSSURfTVVMVElGUkFDVEFMKi8pDQoJCXJldHVybiBpbnRlbnNpdHkgKiBub2lzZV9tdXNncmF2ZV9oeWJyaWRfbXVsdGlfZnJhY3RhbChwLCBkaW1lbnNpb24sIGxhY3VuYXJpdHksIG9jdGF2ZXMsIG9mZnNldCwgZ2Fpbik7DQoJZWxzZSBpZiAodHlwZSA9PSAzIC8qTk9ERV9NVVNHUkFWRV9SSURHRURfTVVMVElGUkFDVEFMKi8pDQoJCXJldHVybiBpbnRlbnNpdHkgKiBub2lzZV9tdXNncmF2ZV9yaWRnZWRfbXVsdGlfZnJhY3RhbChwLCBkaW1lbnNpb24sIGxhY3VuYXJpdHksIG9jdGF2ZXMsIG9mZnNldCwgZ2Fpbik7DQoJZWxzZSBpZiAodHlwZSA9PSA0IC8qTk9ERV9NVVNHUkFWRV9IRVRFUk9fVEVSUkFJTiovKQ0KCQlyZXR1cm4gaW50ZW5zaXR5ICogbm9pc2VfbXVzZ3JhdmVfaGV0ZXJvX3RlcnJhaW4ocCwgZGltZW5zaW9uLCBsYWN1bmFyaXR5LCBvY3RhdmVzLCBvZmZzZXQpOw0KCXJldHVybiAwLjA7DQp9DQojZW5kaWYgIC8vICNpZmRlZiBCSVRfT1BFUkFUSU9OUw0KDQp2b2lkIG5vZGVfdGV4X211c2dyYXZlKHZlYzMgY28sDQogICAgICAgICAgICAgICAgICAgICAgIGZsb2F0IHNjYWxlLA0KICAgICAgICAgICAgICAgICAgICAgICBmbG9hdCBkZXRhaWwsDQogICAgICAgICAgICAgICAgICAgICAgIGZsb2F0IGRpbWVuc2lvbiwNCiAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQgbGFjdW5hcml0eSwNCiAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQgb2Zmc2V0LA0KICAgICAgICAgICAgICAgICAgICAgICBmbG9hdCBnYWluLA0KICAgICAgICAgICAgICAgICAgICAgICBmbG9hdCB0eXBlLA0KICAgICAgICAgICAgICAgICAgICAgICBvdXQgdmVjNCBjb2xvciwNCiAgICAgICAgICAgICAgICAgICAgICAgb3V0IGZsb2F0IGZhYykNCnsNCiNpZmRlZiBCSVRfT1BFUkFUSU9OUw0KCWZhYyA9IHN2bV9tdXNncmF2ZShpbnQodHlwZSksDQoJICAgICAgICAgICAgICAgICAgIGRpbWVuc2lvbiwNCgkgICAgICAgICAgICAgICAgICAgbGFjdW5hcml0eSwNCgkgICAgICAgICAgICAgICAgICAgZGV0YWlsLA0KCSAgICAgICAgICAgICAgICAgICBvZmZzZXQsDQoJICAgICAgICAgICAgICAgICAgIDEuMCwNCgkgICAgICAgICAgICAgICAgICAgZ2FpbiwNCgkgICAgICAgICAgICAgICAgICAgY28gKiBzY2FsZSk7DQojZWxzZQ0KCWZhYyA9IDEuMDsNCiNlbmRpZg0KDQoJY29sb3IgPSB2ZWM0KGZhYywgZmFjLCBmYWMsIDEuMCk7DQp9DQoNCnZvaWQgbm9kZV90ZXhfc2t5KHZlYzMgY28sIG91dCB2ZWM0IGNvbG9yKQ0Kew0KCWNvbG9yID0gdmVjNCgxLjApOw0KfQ0KDQp2b2lkIG5vZGVfdGV4X3Zvcm9ub2kodmVjMyBjbywgZmxvYXQgc2NhbGUsIGZsb2F0IGNvbG9yaW5nLCBvdXQgdmVjNCBjb2xvciwgb3V0IGZsb2F0IGZhYykNCnsNCiNpZmRlZiBCSVRfT1BFUkFUSU9OUw0KCXZlYzMgcCA9IGNvICogc2NhbGU7DQoJaW50IHh4LCB5eSwgenosIHhpLCB5aSwgemk7DQoJZmxvYXQgZGFbNF07DQoJdmVjMyBwYVs0XTsNCg0KCXhpID0gZmxvb3JfdG9faW50KHBbMF0pOw0KCXlpID0gZmxvb3JfdG9faW50KHBbMV0pOw0KCXppID0gZmxvb3JfdG9faW50KHBbMl0pOw0KDQoJZGFbMF0gPSAxZSsxMDsNCglkYVsxXSA9IDFlKzEwOw0KCWRhWzJdID0gMWUrMTA7DQoJZGFbM10gPSAxZSsxMDsNCg0KCWZvciAoeHggPSB4aSAtIDE7IHh4IDw9IHhpICsgMTsgeHgrKykgew0KCQlmb3IgKHl5ID0geWkgLSAxOyB5eSA8PSB5aSArIDE7IHl5KyspIHsNCgkJCWZvciAoenogPSB6aSAtIDE7IHp6IDw9IHppICsgMTsgenorKykgew0KCQkJCXZlYzMgaXAgPSB2ZWMzKHh4LCB5eSwgenopOw0KCQkJCXZlYzMgdnAgPSBjZWxsbm9pc2VfY29sb3IoaXApOw0KCQkJCXZlYzMgcGQgPSBwIC0gKHZwICsgaXApOw0KCQkJCWZsb2F0IGQgPSBkb3QocGQsIHBkKTsNCgkJCQl2cCArPSB2ZWMzKHh4LCB5eSwgenopOw0KCQkJCWlmIChkIDwgZGFbMF0pIHsNCgkJCQkJZGFbM10gPSBkYVsyXTsNCgkJCQkJZGFbMl0gPSBkYVsxXTsNCgkJCQkJZGFbMV0gPSBkYVswXTsNCgkJCQkJZGFbMF0gPSBkOw0KCQkJCQlwYVszXSA9IHBhWzJdOw0KCQkJCQlwYVsyXSA9IHBhWzFdOw0KCQkJCQlwYVsxXSA9IHBhWzBdOw0KCQkJCQlwYVswXSA9IHZwOw0KCQkJCX0NCgkJCQllbHNlIGlmIChkIDwgZGFbMV0pIHsNCgkJCQkJZGFbM10gPSBkYVsyXTsNCgkJCQkJZGFbMl0gPSBkYVsxXTsNCgkJCQkJZGFbMV0gPSBkOw0KDQoJCQkJCXBhWzNdID0gcGFbMl07DQoJCQkJCXBhWzJdID0gcGFbMV07DQoJCQkJCXBhWzFdID0gdnA7DQoJCQkJfQ0KCQkJCWVsc2UgaWYgKGQgPCBkYVsyXSkgew0KCQkJCQlkYVszXSA9IGRhWzJdOw0KCQkJCQlkYVsyXSA9IGQ7DQoNCgkJCQkJcGFbM10gPSBwYVsyXTsNCgkJCQkJcGFbMl0gPSB2cDsNCgkJCQl9DQoJCQkJZWxzZSBpZiAoZCA8IGRhWzNdKSB7DQoJCQkJCWRhWzNdID0gZDsNCgkJCQkJcGFbM10gPSB2cDsNCgkJCQl9DQoJCQl9DQoJCX0NCgl9DQoNCglpZiAoY29sb3JpbmcgPT0gMC4wKSB7DQoJCWZhYyA9IGFicyhkYVswXSk7DQoJCWNvbG9yID0gdmVjNChmYWMsIGZhYywgZmFjLCAxKTsNCgl9DQoJZWxzZSB7DQoJCWNvbG9yID0gdmVjNChjZWxsbm9pc2VfY29sb3IocGFbMF0pLCAxKTsNCgkJZmFjID0gKGNvbG9yLnggKyBjb2xvci55ICsgY29sb3IueikgKiAoMS4wIC8gMy4wKTsNCgl9DQojZWxzZSAgLy8gQklUX09QRVJBVElPTlMNCgljb2xvciA9IHZlYzQoMS4wKTsNCglmYWMgPSAxLjA7DQojZW5kaWYgIC8vIEJJVF9PUEVSQVRJT05TDQp9DQoNCiNpZmRlZiBCSVRfT1BFUkFUSU9OUw0KZmxvYXQgY2FsY193YXZlKHZlYzMgcCwgZmxvYXQgZGlzdG9ydGlvbiwgZmxvYXQgZGV0YWlsLCBmbG9hdCBkZXRhaWxfc2NhbGUsIGludCB3YXZlX3R5cGUsIGludCB3YXZlX3Byb2ZpbGUpDQp7DQoJZmxvYXQgbjsNCg0KCWlmICh3YXZlX3R5cGUgPT0gMCkgLyogdHlwZSBiYW5kcyAqLw0KCQluID0gKHAueCArIHAueSArIHAueikgKiAxMC4wOw0KCWVsc2UgLyogdHlwZSByaW5ncyAqLw0KCQluID0gbGVuZ3RoKHApICogMjAuMDsNCg0KCWlmIChkaXN0b3J0aW9uICE9IDAuMCkNCgkJbiArPSBkaXN0b3J0aW9uICogbm9pc2VfdHVyYnVsZW5jZShwICogZGV0YWlsX3NjYWxlLCBkZXRhaWwsIDApOw0KDQoJaWYgKHdhdmVfcHJvZmlsZSA9PSAwKSB7IC8qIHByb2ZpbGUgc2luICovDQoJCXJldHVybiAwLjUgKyAwLjUgKiBzaW4obik7DQoJfQ0KCWVsc2UgeyAvKiBwcm9maWxlIHNhdyAqLw0KCQluIC89IDIuMCAqIE1fUEk7DQoJCW4gLT0gaW50KG4pOw0KCQlyZXR1cm4gKG4gPCAwLjApID8gbiArIDEuMCA6IG47DQoJfQ0KfQ0KI2VuZGlmICAvLyBCSVRfT1BFUkFUSU9OUw0KDQp2b2lkIG5vZGVfdGV4X3dhdmUoDQogICAgICAgIHZlYzMgY28sIGZsb2F0IHNjYWxlLCBmbG9hdCBkaXN0b3J0aW9uLCBmbG9hdCBkZXRhaWwsIGZsb2F0IGRldGFpbF9zY2FsZSwgZmxvYXQgd2F2ZV90eXBlLCBmbG9hdCB3YXZlX3Byb2ZpbGUsDQogICAgICAgIG91dCB2ZWM0IGNvbG9yLCBvdXQgZmxvYXQgZmFjKQ0Kew0KI2lmZGVmIEJJVF9PUEVSQVRJT05TDQoJZmxvYXQgZjsNCglmID0gY2FsY193YXZlKGNvICogc2NhbGUsIGRpc3RvcnRpb24sIGRldGFpbCwgZGV0YWlsX3NjYWxlLCBpbnQod2F2ZV90eXBlKSwgaW50KHdhdmVfcHJvZmlsZSkpOw0KDQoJY29sb3IgPSB2ZWM0KGYsIGYsIGYsIDEuMCk7DQoJZmFjID0gZjsNCiNlbHNlICAvLyBCSVRfT1BFUkFUSU9OUw0KCWNvbG9yID0gdmVjNCgxLjApOw0KCWZhYyA9IDE7DQojZW5kaWYgIC8vIEJJVF9PUEVSQVRJT05TDQp9DQoNCi8qIGxpZ2h0IHBhdGggKi8NCg0Kdm9pZCBub2RlX2xpZ2h0X3BhdGgoDQoJb3V0IGZsb2F0IGlzX2NhbWVyYV9yYXksDQoJb3V0IGZsb2F0IGlzX3NoYWRvd19yYXksDQoJb3V0IGZsb2F0IGlzX2RpZmZ1c2VfcmF5LA0KCW91dCBmbG9hdCBpc19nbG9zc3lfcmF5LA0KCW91dCBmbG9hdCBpc19zaW5ndWxhcl9yYXksDQoJb3V0IGZsb2F0IGlzX3JlZmxlY3Rpb25fcmF5LA0KCW91dCBmbG9hdCBpc190cmFuc21pc3Npb25fcmF5LA0KCW91dCBmbG9hdCByYXlfbGVuZ3RoLA0KCW91dCBmbG9hdCByYXlfZGVwdGgsDQoJb3V0IGZsb2F0IGRpZmZ1c2VfZGVwdGgsDQoJb3V0IGZsb2F0IGdsb3NzeV9kZXB0aCwNCglvdXQgZmxvYXQgdHJhbnNwYXJlbnRfZGVwdGgsDQoJb3V0IGZsb2F0IHRyYW5zbWlzc2lvbl9kZXB0aCkNCnsNCglpc19jYW1lcmFfcmF5ID0gMS4wOw0KCWlzX3NoYWRvd19yYXkgPSAwLjA7DQoJaXNfZGlmZnVzZV9yYXkgPSAwLjA7DQoJaXNfZ2xvc3N5X3JheSA9IDAuMDsNCglpc19zaW5ndWxhcl9yYXkgPSAwLjA7DQoJaXNfcmVmbGVjdGlvbl9yYXkgPSAwLjA7DQoJaXNfdHJhbnNtaXNzaW9uX3JheSA9IDAuMDsNCglyYXlfbGVuZ3RoID0gMS4wOw0KCXJheV9kZXB0aCA9IDEuMDsNCglkaWZmdXNlX2RlcHRoID0gMS4wOw0KCWdsb3NzeV9kZXB0aCA9IDEuMDsNCgl0cmFuc3BhcmVudF9kZXB0aCA9IDEuMDsNCgl0cmFuc21pc3Npb25fZGVwdGggPSAxLjA7DQp9DQoNCnZvaWQgbm9kZV9saWdodF9mYWxsb2ZmKGZsb2F0IHN0cmVuZ3RoLCBmbG9hdCB0c21vb3RoLCBvdXQgZmxvYXQgcXVhZHJhdGljLCBvdXQgZmxvYXQgbGluZWFyLCBvdXQgZmxvYXQgY29uc3RhbnQpDQp7DQoJcXVhZHJhdGljID0gc3RyZW5ndGg7DQoJbGluZWFyID0gc3RyZW5ndGg7DQoJY29uc3RhbnQgPSBzdHJlbmd0aDsNCn0NCg0Kdm9pZCBub2RlX29iamVjdF9pbmZvKG1hdDQgb2JtYXQsIHZlYzMgaW5mbywgb3V0IHZlYzMgbG9jYXRpb24sIG91dCBmbG9hdCBvYmplY3RfaW5kZXgsIG91dCBmbG9hdCBtYXRlcmlhbF9pbmRleCwgb3V0IGZsb2F0IHJhbmRvbSkNCnsNCglsb2NhdGlvbiA9IG9ibWF0WzNdLnh5ejsNCglvYmplY3RfaW5kZXggPSBpbmZvLng7DQoJbWF0ZXJpYWxfaW5kZXggPSBpbmZvLnk7DQoJcmFuZG9tID0gaW5mby56Ow0KfQ0KDQp2b2lkIG5vZGVfbm9ybWFsX21hcCh2ZWM0IHRhbmdlbnQsIHZlYzMgbm9ybWFsLCB2ZWMzIHRleG5vcm1hbCwgb3V0IHZlYzMgb3V0bm9ybWFsKQ0Kew0KCXZlYzMgQiA9IHRhbmdlbnQudyAqIGNyb3NzKG5vcm1hbCwgdGFuZ2VudC54eXopOw0KDQoJb3V0bm9ybWFsID0gdGV4bm9ybWFsLnggKiB0YW5nZW50Lnh5eiArIHRleG5vcm1hbC55ICogQiArIHRleG5vcm1hbC56ICogbm9ybWFsOw0KCW91dG5vcm1hbCA9IG5vcm1hbGl6ZShvdXRub3JtYWwpOw0KfQ0KDQp2b2lkIG5vZGVfYnVtcChmbG9hdCBzdHJlbmd0aCwgZmxvYXQgZGlzdCwgZmxvYXQgaGVpZ2h0LCB2ZWMzIE4sIHZlYzMgc3VyZl9wb3MsIGZsb2F0IGludmVydCwgb3V0IHZlYzMgcmVzdWx0KQ0Kew0KCWlmIChpbnZlcnQgIT0gMC4wKSB7DQoJCWRpc3QgKj0gLTEuMDsNCgl9DQoJdmVjMyBkUGR4ID0gZEZkeChzdXJmX3Bvcyk7DQoJdmVjMyBkUGR5ID0gZEZkeShzdXJmX3Bvcyk7DQoNCgkvKiBHZXQgc3VyZmFjZSB0YW5nZW50cyBmcm9tIG5vcm1hbC4gKi8NCgl2ZWMzIFJ4ID0gY3Jvc3MoZFBkeSwgTik7DQoJdmVjMyBSeSA9IGNyb3NzKE4sIGRQZHgpOw0KDQoJLyogQ29tcHV0ZSBzdXJmYWNlIGdyYWRpZW50IGFuZCBkZXRlcm1pbmFudC4gKi8NCglmbG9hdCBkZXQgPSBkb3QoZFBkeCwgUngpOw0KCWZsb2F0IGFic2RldCA9IGFicyhkZXQpOw0KDQoJZmxvYXQgZEhkeCA9IGRGZHgoaGVpZ2h0KTsNCglmbG9hdCBkSGR5ID0gZEZkeShoZWlnaHQpOw0KCXZlYzMgc3VyZmdyYWQgPSBkSGR4ICogUnggKyBkSGR5ICogUnk7DQoNCglzdHJlbmd0aCA9IG1heChzdHJlbmd0aCwgMC4wKTsNCg0KCXJlc3VsdCA9IG5vcm1hbGl6ZShhYnNkZXQgKiBOIC0gZGlzdCAqIHNpZ24oZGV0KSAqIHN1cmZncmFkKTsNCglyZXN1bHQgPSBub3JtYWxpemUoc3RyZW5ndGggKiByZXN1bHQgKyAoMS4wIC0gc3RyZW5ndGgpICogTik7DQp9DQoNCi8qIG91dHB1dCAqLw0KDQp2b2lkIG5vZGVfb3V0cHV0X21hdGVyaWFsKHZlYzQgc3VyZmFjZSwgdmVjNCB2b2x1bWUsIGZsb2F0IGRpc3BsYWNlbWVudCwgb3V0IHZlYzQgcmVzdWx0KQ0Kew0KCXJlc3VsdCA9IHN1cmZhY2U7DQp9DQoNCnZvaWQgbm9kZV9vdXRwdXRfd29ybGQodmVjNCBzdXJmYWNlLCB2ZWM0IHZvbHVtZSwgb3V0IHZlYzQgcmVzdWx0KQ0Kew0KCXJlc3VsdCA9IHN1cmZhY2U7DQp9DQoNCi8qICoqKioqKioqKioqKioqKioqKioqKiogbWF0Y2FwIHN0eWxlIHJlbmRlciAqKioqKioqKioqKioqKioqKioqKiAqLw0KDQp2b2lkIG1hdGVyaWFsX3ByZXZpZXdfbWF0Y2FwKHZlYzQgY29sb3IsIHNhbXBsZXIyRCBpbWEsIHZlYzQgTiwgdmVjNCBtYXNrLCBvdXQgdmVjNCByZXN1bHQpDQp7DQoJdmVjMyBub3JtYWw7DQoJdmVjMiB0ZXg7DQoJDQojaWZuZGVmIFVTRV9PUEVOU1VCRElWDQoJLyogcmVtYXAgdG8gMC4wIC0gMS4wIHJhbmdlLiBUaGlzIGlzIGRvbmUgYmVjYXVzZSBPcGVuR0wgMi4wIGNsYW1wcyBjb2xvcnMNCgkgKiBiZXR3ZWVuIHNoYWRlciBzdGFnZXMgYW5kIHdlIHdhbnQgdGhlIGZ1bGwgcmFuZ2Ugb2YgdGhlIG5vcm1hbCAqLw0KCW5vcm1hbCA9IHZlYzMoMi4wLCAyLjAsIDIuMCkgKiB2ZWMzKE4ueCwgTi55LCBOLnopIC0gdmVjMygxLjAsIDEuMCwgMS4wKTsNCglpZiAobm9ybWFsLnogPCAwLjApIHsNCgkJbm9ybWFsLnogPSAwLjA7DQoJfQ0KCW5vcm1hbCA9IG5vcm1hbGl6ZShub3JtYWwpOw0KI2Vsc2UNCglub3JtYWwgPSBpbnB0LnYubm9ybWFsOw0KCW1hc2sgPSB2ZWM0KDEuMCwgMS4wLCAxLjAsIDEuMCk7DQojZW5kaWYNCg0KCXRleC54ID0gMC41ICsgMC40OSAqIG5vcm1hbC54Ow0KCXRleC55ID0gMC41ICsgMC40OSAqIG5vcm1hbC55Ow0KCXJlc3VsdCA9IHRleHR1cmUyRChpbWEsIHRleCkgKiBtYXNrOw0KfQ0KdmFyeWluZyB2ZWMzIHZhcjA7CmNvbnN0IG1hdDQgY29uczQgPSBtYXQ0KDEuMDAwMDAwMDAwMDAwLCAwLjAwMDAwMDAwMDAwMCwgMC4wMDAwMDAwMDAwMDAsIDAuMDAwMDAwMDAwMDAwLCAwLjAwMDAwMDAwMDAwMCwgMS4wMDAwMDAwMDAwMDAsIDAuMDAwMDAwMDAwMDAwLCAwLjAwMDAwMDAwMDAwMCwgMC4wMDAwMDAwMDAwMDAsIDAuMDAwMDAwMDAwMDAwLCAxLjAwMDAwMDAwMDAwMCwgMC4wMDAwMDAwMDAwMDAsIDAuMDAwMDAwMDAwMDAwLCAwLjAwMDAwMDAwMDAwMCwgMC4wMDAwMDAwMDAwMDAsIDEuMDAwMDAwMDAwMDAwKTsKY29uc3QgdmVjMyBjb25zNSA9IHZlYzMoMC4wMDAwMDAwMDAwMDAsIDAuMDAwMDAwMDAwMDAwLCAwLjAwMDAwMDAwMDAwMCk7CmNvbnN0IHZlYzMgY29uczYgPSB2ZWMzKDEuMDAwMDAwMDAwMDAwLCAxLjAwMDAwMDAwMDAwMCwgMS4wMDAwMDAwMDAwMDApOwpjb25zdCBmbG9hdCBjb25zNyA9IGZsb2F0KDAuMDAwMDAwMDAwMDAwKTsKY29uc3QgZmxvYXQgY29uczggPSBmbG9hdCgwLjAwMDAwMDAwMDAwMCk7CmNvbnN0IGZsb2F0IGNvbnMxMSA9IGZsb2F0KDE1LjAwMDAwMDAwMDAwMCk7CmNvbnN0IGZsb2F0IGNvbnMxMiA9IGZsb2F0KDAuMTAwMDAwMDAxNDkwKTsKY29uc3QgZmxvYXQgY29uczEzID0gZmxvYXQoMTAuMDAwMDAwMDAwMDAwKTsKdW5pZm9ybSBtYXQ0IHVuZnZpZXdtYXQ7CmNvbnN0IHZlYzQgY29uczE5ID0gdmVjNCgwLjAwOTA1Nzc3MTQxNSwgMC4wMDkwNTc3NzE0MTUsIDAuMDA5MDU3NzcxNDE1LCAxLjAwMDAwMDAwMDAwMCk7CmNvbnN0IGZsb2F0IGNvbnMyMCA9IGZsb2F0KDAuMDAwMDAwMDAwMDAwKTsKdmFyeWluZyB2ZWMzIHZhcjE7CmNvbnN0IG1hdDQgY29uczI0ID0gbWF0NCgxLjAwMDAwMDAwMDAwMCwgMC4wMDAwMDAwMDAwMDAsIDAuMDAwMDAwMDAwMDAwLCAwLjAwMDAwMDAwMDAwMCwgMC4wMDAwMDAwMDAwMDAsIDEuMDAwMDAwMDAwMDAwLCAwLjAwMDAwMDAwMDAwMCwgMC4wMDAwMDAwMDAwMDAsIDAuMDAwMDAwMDAwMDAwLCAwLjAwMDAwMDAwMDAwMCwgMS4wMDAwMDAwMDAwMDAsIDAuMDAwMDAwMDAwMDAwLCAwLjAwMDAwMDAwMDAwMCwgMC4wMDAwMDAwMDAwMDAsIDAuMDAwMDAwMDAwMDAwLCAxLjAwMDAwMDAwMDAwMCk7CmNvbnN0IHZlYzMgY29uczI1ID0gdmVjMygwLjAwMDAwMDAwMDAwMCwgMC4wMDAwMDAwMDAwMDAsIDAuMDAwMDAwMDAwMDAwKTsKY29uc3QgdmVjMyBjb25zMjYgPSB2ZWMzKDEuMDAwMDAwMDAwMDAwLCAxLjAwMDAwMDAwMDAwMCwgMS4wMDAwMDAwMDAwMDApOwpjb25zdCBmbG9hdCBjb25zMjcgPSBmbG9hdCgwLjAwMDAwMDAwMDAwMCk7CmNvbnN0IGZsb2F0IGNvbnMyOCA9IGZsb2F0KDAuMDAwMDAwMDAwMDAwKTsKdW5pZm9ybSBzYW1wbGVyMkQgc2FtcDA7CmNvbnN0IGZsb2F0IGNvbnMzNyA9IGZsb2F0KDEwLjAwMDAwMDAwMDAwMCk7CnZhcnlpbmcgdmVjMyB2YXJub3JtYWw7CmNvbnN0IGZsb2F0IGNvbnM0MCA9IGZsb2F0KDAuNTAwMDAwMDAwMDAwKTsKY29uc3QgdmVjNCBjb25zNDUgPSB2ZWM0KDAuMDAwMDAwMDAwMDAwLCAwLjAwMDAwMDAwMDAwMCwgMC4wMDAwMDAwMDAwMDAsIDEuMDAwMDAwMDAwMDAwKTsKY29uc3QgZmxvYXQgY29uczQ2ID0gZmxvYXQoMC4wMDAwMDAwMDAwMDApOwoKdm9pZCBtYWluKCkKewoJdmVjMyBmYWNpbmdub3JtYWwgPSBnbF9Gcm9udEZhY2luZz8gdmFybm9ybWFsOiAtdmFybm9ybWFsOwoJdmVjMyB0bXAyOwoJdmVjMyB0bXA5OwoJdmVjNCB0bXAxNDsKCWZsb2F0IHRtcDE1OwoJdmVjMyB0bXAxODsKCXZlYzQgdG1wMjI7Cgl2ZWMzIHRtcDI5OwoJdmVjNCB0bXAzMjsKCWZsb2F0IHRtcDMzOwoJdmVjNCB0bXAzNTsKCXZlYzQgdG1wMzk7Cgl2ZWM0IHRtcDQzOwoJdmVjNCB0bXA0NzsKCXZlYzQgdG1wNDk7CgoJZ2VuZXJhdGVkX2Zyb21fb3Jjbyh2YXIwLCB0bXAyKTsKCW1hcHBpbmcodG1wMiwgY29uczQsIGNvbnM1LCBjb25zNiwgY29uczcsIGNvbnM4LCB0bXA5KTsKCW5vZGVfdGV4X25vaXNlKHRtcDksIGNvbnMxMSwgY29uczEyLCBjb25zMTMsIHRtcDE0LCB0bXAxNSk7CglkaXJlY3Rpb25fdHJhbnNmb3JtX200djModG1wMTQucmdiLCB1bmZ2aWV3bWF0LCB0bXAxOCk7Cglub2RlX2JzZGZfZGlmZnVzZShjb25zMTksIGNvbnMyMCwgdG1wMTgsIHRtcDIyKTsKCW1hcHBpbmcodmFyMSwgY29uczI0LCBjb25zMjUsIGNvbnMyNiwgY29uczI3LCBjb25zMjgsIHRtcDI5KTsKCW5vZGVfdGV4X2ltYWdlKHRtcDI5LCBzYW1wMCwgdG1wMzIsIHRtcDMzKTsKCXNyZ2JfdG9fbGluZWFycmdiKHRtcDMyLCB0bXAzNSk7Cglub2RlX2VtaXNzaW9uKHRtcDM1LCBjb25zMzcsIGZhY2luZ25vcm1hbCwgdG1wMzkpOwoJbm9kZV9taXhfc2hhZGVyKGNvbnM0MCwgdG1wMzksIHRtcDIyLCB0bXA0Myk7Cglub2RlX291dHB1dF9tYXRlcmlhbCh0bXA0MywgY29uczQ1LCBjb25zNDYsIHRtcDQ3KTsKCWxpbmVhcnJnYl90b19zcmdiKHRtcDQ3LCB0bXA0OSk7CgoJZ2xfRnJhZ0NvbG9yID0gdG1wNDk7Cn0K"
        },
        "shaders_CarpetVS": {
            "name": "CarpetVS",
            "type": 35633,
            "uri": "data:text/plain;base64,I3ZlcnNpb24gMTAwCgpwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKcHJlY2lzaW9uIG1lZGl1bXAgaW50OwoKYXR0cmlidXRlIHZlYzQgYmxfVmVydGV4OwphdHRyaWJ1dGUgdmVjMyBibF9Ob3JtYWw7CnVuaWZvcm0gbWF0NCBibF9Nb2RlbFZpZXdNYXRyaXg7CnVuaWZvcm0gbWF0NCBibF9Qcm9qZWN0aW9uTWF0cml4Owp1bmlmb3JtIG1hdDMgYmxfTm9ybWFsTWF0cml4OwphdHRyaWJ1dGUgdmVjMyBhdHQwOwp1bmlmb3JtIGludCBhdHQwX2luZm87CnZhcnlpbmcgdmVjMyB2YXIwOwoKYXR0cmlidXRlIHZlYzMgYXR0MTsKdW5pZm9ybSBpbnQgYXR0MV9pbmZvOwp2YXJ5aW5nIHZlYzMgdmFyMTsKCgoNCg0KdmFyeWluZyB2ZWMzIHZhcnBvc2l0aW9uOw0KdmFyeWluZyB2ZWMzIHZhcm5vcm1hbDsNCg0KDQoNCg0KLyogQ29sb3IsIGtlZXAgYXR0cmlidXRlIHN5bmMgd2l0aDogZ3B1X3NoYWRlcl92ZXJ0ZXhfd29ybGQuZ2xzbCAqLw0KDQpmbG9hdCBzcmdiX3RvX2xpbmVhcnJnYihmbG9hdCBjKQ0Kew0KCWlmIChjIDwgMC4wNDA0NSkNCgkJcmV0dXJuIChjIDwgMC4wKSA/IDAuMCA6IGMgKiAoMS4wIC8gMTIuOTIpOw0KCWVsc2UNCgkJcmV0dXJuIHBvdygoYyArIDAuMDU1KSAqICgxLjAgLyAxLjA1NSksIDIuNCk7DQp9DQoNCnZvaWQgc3JnYl90b19saW5lYXJyZ2IodmVjMyBjb2xfZnJvbSwgdmFyeWluZyB2ZWMzIGNvbF90bykNCnsNCgljb2xfdG8uciA9IHNyZ2JfdG9fbGluZWFycmdiKGNvbF9mcm9tLnIpOw0KCWNvbF90by5nID0gc3JnYl90b19saW5lYXJyZ2IoY29sX2Zyb20uZyk7DQoJY29sX3RvLmIgPSBzcmdiX3RvX2xpbmVhcnJnYihjb2xfZnJvbS5iKTsNCn0NCg0Kdm9pZCBzcmdiX3RvX2xpbmVhcnJnYih2ZWM0IGNvbF9mcm9tLCB2YXJ5aW5nIHZlYzQgY29sX3RvKQ0Kew0KCWNvbF90by5yID0gc3JnYl90b19saW5lYXJyZ2IoY29sX2Zyb20ucik7DQoJY29sX3RvLmcgPSBzcmdiX3RvX2xpbmVhcnJnYihjb2xfZnJvbS5nKTsNCgljb2xfdG8uYiA9IHNyZ2JfdG9fbGluZWFycmdiKGNvbF9mcm9tLmIpOw0KCWNvbF90by5hID0gY29sX2Zyb20uYTsNCn0NCg0KYm9vbCBpc19zcmdiKGludCBpbmZvKQ0Kew0KI2lmZGVmIFVTRV9ORVdfU0hBRElORw0KCXJldHVybiAoaW5mbyA9PSAxKT8gdHJ1ZTogZmFsc2U7DQojZWxzZQ0KCXJldHVybiBmYWxzZTsNCiNlbmRpZg0KfQ0KDQp2b2lkIHNldF92YXJfZnJvbV9hdHRyKGZsb2F0IGF0dHIsIGludCBpbmZvLCB2YXJ5aW5nIGZsb2F0IHZhcikNCnsNCgl2YXIgPSBhdHRyOw0KfQ0KDQp2b2lkIHNldF92YXJfZnJvbV9hdHRyKHZlYzIgYXR0ciwgaW50IGluZm8sIHZhcnlpbmcgdmVjMiB2YXIpDQp7DQoJdmFyID0gYXR0cjsNCn0NCg0Kdm9pZCBzZXRfdmFyX2Zyb21fYXR0cih2ZWMzIGF0dHIsIGludCBpbmZvLCB2YXJ5aW5nIHZlYzMgdmFyKQ0Kew0KCWlmIChpc19zcmdiKGluZm8pKSB7DQoJCXNyZ2JfdG9fbGluZWFycmdiKGF0dHIsIHZhcik7DQoJfQ0KCWVsc2Ugew0KCQl2YXIgPSBhdHRyOw0KCX0NCn0NCg0Kdm9pZCBzZXRfdmFyX2Zyb21fYXR0cih2ZWM0IGF0dHIsIGludCBpbmZvLCB2YXJ5aW5nIHZlYzQgdmFyKQ0Kew0KCWlmIChpc19zcmdiKGluZm8pKSB7DQoJCXNyZ2JfdG9fbGluZWFycmdiKGF0dHIsIHZhcik7DQoJfQ0KCWVsc2Ugew0KCQl2YXIgPSBhdHRyOw0KCX0NCn0NCg0KLyogZW5kIGNvbG9yIGNvZGUgKi8NCg0KDQp2b2lkIG1haW4oKQ0Kew0KDQoJdmVjNCBwb3NpdGlvbiA9IGJsX1ZlcnRleDsNCgl2ZWMzIG5vcm1hbCA9IGJsX05vcm1hbDsNCg0KDQoJdmVjNCBjbyA9IGJsX01vZGVsVmlld01hdHJpeCAqIHBvc2l0aW9uOw0KDQoJdmFycG9zaXRpb24gPSBjby54eXo7DQoJdmFybm9ybWFsID0gbm9ybWFsaXplKGJsX05vcm1hbE1hdHJpeCAqIG5vcm1hbCk7DQoJZ2xfUG9zaXRpb24gPSBibF9Qcm9qZWN0aW9uTWF0cml4ICogY287DQoNCiANCg0KDQoJc2V0X3Zhcl9mcm9tX2F0dHIoYXR0MCwgYXR0MF9pbmZvLCB2YXIwKTsKCglzZXRfdmFyX2Zyb21fYXR0cihhdHQxLCBhdHQxX2luZm8sIHZhcjEpOwoKfQo="
        },
        "shaders_ExteriorWallsFS": {
            "name": "ExteriorWallsFS",
            "type": 35632,
            "uri": "data:text/plain;base64,I3ZlcnNpb24gMTAwCiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzOiBlbmFibGUKCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1hdDQgYmxfUHJvamVjdGlvbk1hdHJpeDsKdW5pZm9ybSBtYXQ0IGJsX01vZGVsVmlld01hdHJpeDsKdW5pZm9ybSBtYXQ0IGJsX01vZGVsVmlld01hdHJpeEludmVyc2U7CnVuaWZvcm0gbWF0MyBibF9Ob3JtYWxNYXRyaXg7CnVuaWZvcm0gbWF0NCBibF9Qcm9qZWN0aW9uTWF0cml4SW52ZXJzZTsKLyogQ29udmVydGVycyAqLw0KDQpmbG9hdCBjb252ZXJ0X3JnYmFfdG9fZmxvYXQodmVjNCBjb2xvcikNCnsNCiNpZmRlZiBVU0VfTkVXX1NIQURJTkcNCglyZXR1cm4gY29sb3IuciAqIDAuMjEyNiArIGNvbG9yLmcgKiAwLjcxNTIgKyBjb2xvci5iICogMC4wNzIyOw0KI2Vsc2UNCglyZXR1cm4gKGNvbG9yLnIgKyBjb2xvci5nICsgY29sb3IuYikgLyAzLjA7DQojZW5kaWYNCn0NCg0KZmxvYXQgZXhwX2JsZW5kZXIoZmxvYXQgZikNCnsNCglyZXR1cm4gcG93KDIuNzE4MjgxODI4NDYsIGYpOw0KfQ0KDQpmbG9hdCBjb21wYXRpYmxlX3BvdyhmbG9hdCB4LCBmbG9hdCB5KQ0Kew0KCWlmICh5ID09IDAuMCkgLyogeF4wIC0+IDEsIGluY2x1ZGluZyAwXjAgKi8NCgkJcmV0dXJuIDEuMDsNCg0KCS8qIGdsc2wgcG93IGRvZXNuJ3QgYWNjZXB0IG5lZ2F0aXZlIHggKi8NCglpZiAoeCA8IDAuMCkgew0KCQlpZiAobW9kKC15LCAyLjApID09IDAuMCkNCgkJCXJldHVybiBwb3coLXgsIHkpOw0KCQllbHNlDQoJCQlyZXR1cm4gLXBvdygteCwgeSk7DQoJfQ0KCWVsc2UgaWYgKHggPT0gMC4wKQ0KCQlyZXR1cm4gMC4wOw0KDQoJcmV0dXJuIHBvdyh4LCB5KTsNCn0NCg0Kdm9pZCByZ2JfdG9faHN2KHZlYzQgcmdiLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmxvYXQgY21heCwgY21pbiwgaCwgcywgdiwgY2RlbHRhOw0KCXZlYzMgYzsNCg0KCWNtYXggPSBtYXgocmdiWzBdLCBtYXgocmdiWzFdLCByZ2JbMl0pKTsNCgljbWluID0gbWluKHJnYlswXSwgbWluKHJnYlsxXSwgcmdiWzJdKSk7DQoJY2RlbHRhID0gY21heCAtIGNtaW47DQoNCgl2ID0gY21heDsNCglpZiAoY21heCAhPSAwLjApDQoJCXMgPSBjZGVsdGEgLyBjbWF4Ow0KCWVsc2Ugew0KCQlzID0gMC4wOw0KCQloID0gMC4wOw0KCX0NCg0KCWlmIChzID09IDAuMCkgew0KCQloID0gMC4wOw0KCX0NCgllbHNlIHsNCgkJYyA9ICh2ZWMzKGNtYXgsIGNtYXgsIGNtYXgpIC0gcmdiLnh5eikgLyBjZGVsdGE7DQoNCgkJaWYgKHJnYi54ID09IGNtYXgpIGggPSBjWzJdIC0gY1sxXTsNCgkJZWxzZSBpZiAocmdiLnkgPT0gY21heCkgaCA9IDIuMCArIGNbMF0gLSAgY1syXTsNCgkJZWxzZSBoID0gNC4wICsgY1sxXSAtIGNbMF07DQoNCgkJaCAvPSA2LjA7DQoNCgkJaWYgKGggPCAwLjApDQoJCQloICs9IDEuMDsNCgl9DQoNCglvdXRjb2wgPSB2ZWM0KGgsIHMsIHYsIHJnYi53KTsNCn0NCg0Kdm9pZCBoc3ZfdG9fcmdiKHZlYzQgaHN2LCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmxvYXQgaSwgZiwgcCwgcSwgdCwgaCwgcywgdjsNCgl2ZWMzIHJnYjsNCg0KCWggPSBoc3ZbMF07DQoJcyA9IGhzdlsxXTsNCgl2ID0gaHN2WzJdOw0KDQoJaWYgKHMgPT0gMC4wKSB7DQoJCXJnYiA9IHZlYzModiwgdiwgdik7DQoJfQ0KCWVsc2Ugew0KCQlpZiAoaCA9PSAxLjApDQoJCQloID0gMC4wOw0KDQoJCWggKj0gNi4wOw0KCQlpID0gZmxvb3IoaCk7DQoJCWYgPSBoIC0gaTsNCgkJcmdiID0gdmVjMyhmLCBmLCBmKTsNCgkJcCA9IHYgKiAoMS4wIC0gcyk7DQoJCXEgPSB2ICogKDEuMCAtIChzICogZikpOw0KCQl0ID0gdiAqICgxLjAgLSAocyAqICgxLjAgLSBmKSkpOw0KDQoJCWlmIChpID09IDAuMCkgcmdiID0gdmVjMyh2LCB0LCBwKTsNCgkJZWxzZSBpZiAoaSA9PSAxLjApIHJnYiA9IHZlYzMocSwgdiwgcCk7DQoJCWVsc2UgaWYgKGkgPT0gMi4wKSByZ2IgPSB2ZWMzKHAsIHYsIHQpOw0KCQllbHNlIGlmIChpID09IDMuMCkgcmdiID0gdmVjMyhwLCBxLCB2KTsNCgkJZWxzZSBpZiAoaSA9PSA0LjApIHJnYiA9IHZlYzModCwgcCwgdik7DQoJCWVsc2UgcmdiID0gdmVjMyh2LCBwLCBxKTsNCgl9DQoNCglvdXRjb2wgPSB2ZWM0KHJnYiwgaHN2LncpOw0KfQ0KDQpmbG9hdCBzcmdiX3RvX2xpbmVhcnJnYihmbG9hdCBjKQ0Kew0KCWlmIChjIDwgMC4wNDA0NSkNCgkJcmV0dXJuIChjIDwgMC4wKSA/IDAuMCA6IGMgKiAoMS4wIC8gMTIuOTIpOw0KCWVsc2UNCgkJcmV0dXJuIHBvdygoYyArIDAuMDU1KSAqICgxLjAgLyAxLjA1NSksIDIuNCk7DQp9DQoNCmZsb2F0IGxpbmVhcnJnYl90b19zcmdiKGZsb2F0IGMpDQp7DQoJaWYgKGMgPCAwLjAwMzEzMDgpDQoJCXJldHVybiAoYyA8IDAuMCkgPyAwLjAgOiBjICogMTIuOTI7DQoJZWxzZQ0KCQlyZXR1cm4gMS4wNTUgKiBwb3coYywgMS4wIC8gMi40KSAtIDAuMDU1Ow0KfQ0KDQp2b2lkIHNyZ2JfdG9fbGluZWFycmdiKHZlYzQgY29sX2Zyb20sIG91dCB2ZWM0IGNvbF90bykNCnsNCgljb2xfdG8uciA9IHNyZ2JfdG9fbGluZWFycmdiKGNvbF9mcm9tLnIpOw0KCWNvbF90by5nID0gc3JnYl90b19saW5lYXJyZ2IoY29sX2Zyb20uZyk7DQoJY29sX3RvLmIgPSBzcmdiX3RvX2xpbmVhcnJnYihjb2xfZnJvbS5iKTsNCgljb2xfdG8uYSA9IGNvbF9mcm9tLmE7DQp9DQoNCnZvaWQgbGluZWFycmdiX3RvX3NyZ2IodmVjNCBjb2xfZnJvbSwgb3V0IHZlYzQgY29sX3RvKQ0Kew0KCWNvbF90by5yID0gbGluZWFycmdiX3RvX3NyZ2IoY29sX2Zyb20ucik7DQoJY29sX3RvLmcgPSBsaW5lYXJyZ2JfdG9fc3JnYihjb2xfZnJvbS5nKTsNCgljb2xfdG8uYiA9IGxpbmVhcnJnYl90b19zcmdiKGNvbF9mcm9tLmIpOw0KCWNvbF90by5hID0gY29sX2Zyb20uYTsNCn0NCg0Kdm9pZCBjb2xvcl90b19ub3JtYWwodmVjMyBjb2xvciwgb3V0IHZlYzMgbm9ybWFsKQ0Kew0KCW5vcm1hbC54ID0gIDIuMCAqICgoY29sb3IucikgLSAwLjUpOw0KCW5vcm1hbC55ID0gLTIuMCAqICgoY29sb3IuZykgLSAwLjUpOw0KCW5vcm1hbC56ID0gIDIuMCAqICgoY29sb3IuYikgLSAwLjUpOw0KfQ0KDQp2b2lkIGNvbG9yX3RvX25vcm1hbF9uZXdfc2hhZGluZyh2ZWMzIGNvbG9yLCBvdXQgdmVjMyBub3JtYWwpDQp7DQoJbm9ybWFsLnggPSAgMi4wICogKChjb2xvci5yKSAtIDAuNSk7DQoJbm9ybWFsLnkgPSAgMi4wICogKChjb2xvci5nKSAtIDAuNSk7DQoJbm9ybWFsLnogPSAgMi4wICogKChjb2xvci5iKSAtIDAuNSk7DQp9DQoNCnZvaWQgY29sb3JfdG9fYmxlbmRlcl9ub3JtYWxfbmV3X3NoYWRpbmcodmVjMyBjb2xvciwgb3V0IHZlYzMgbm9ybWFsKQ0Kew0KCW5vcm1hbC54ID0gIDIuMCAqICgoY29sb3IucikgLSAwLjUpOw0KCW5vcm1hbC55ID0gLTIuMCAqICgoY29sb3IuZykgLSAwLjUpOw0KCW5vcm1hbC56ID0gLTIuMCAqICgoY29sb3IuYikgLSAwLjUpOw0KfQ0KDQojZGVmaW5lIE1fUEkgMy4xNDE1OTI2NTM1ODk3OTMyMzg0Ng0KI2RlZmluZSBNXzFfUEkgMC4zMTgzMDk4ODYxODM3OTA2OQ0KDQovKioqKioqKioqKiogU0hBREVSIE5PREVTICoqKioqKioqKioqKioqKi8NCg0Kdm9pZCB2Y29sX2F0dHJpYnV0ZSh2ZWM0IGF0dHZjb2wsIG91dCB2ZWM0IHZjb2wpDQp7DQoJdmNvbCA9IHZlYzQoYXR0dmNvbC54LCBhdHR2Y29sLnksIGF0dHZjb2wueiwgMS4wKTsNCn0NCg0Kdm9pZCB1dl9hdHRyaWJ1dGUodmVjMiBhdHR1diwgb3V0IHZlYzMgdXYpDQp7DQoJdXYgPSB2ZWMzKGF0dHV2ICogMi4wIC0gdmVjMigxLjAsIDEuMCksIDAuMCk7DQp9DQoNCnZvaWQgZ2VvbSgNCiAgICAgICAgdmVjMyBjbywgdmVjMyBub3IsIG1hdDQgdmlld2ludm1hdCwgdmVjMyBhdHRvcmNvLCB2ZWMyIGF0dHV2LCB2ZWM0IGF0dHZjb2wsDQogICAgICAgIG91dCB2ZWMzIGdsb2JhbCwgb3V0IHZlYzMgbG9jYWwsIG91dCB2ZWMzIHZpZXcsIG91dCB2ZWMzIG9yY28sIG91dCB2ZWMzIHV2LA0KICAgICAgICBvdXQgdmVjMyBub3JtYWwsIG91dCB2ZWM0IHZjb2wsIG91dCBmbG9hdCB2Y29sX2FscGhhLCBvdXQgZmxvYXQgZnJvbnRiYWNrKQ0Kew0KCWxvY2FsID0gY287DQoJdmlldyA9IChibF9Qcm9qZWN0aW9uTWF0cml4WzNdWzNdID09IDAuMCkgPyBub3JtYWxpemUobG9jYWwpIDogdmVjMygwLjAsIDAuMCwgLTEuMCk7DQoJZ2xvYmFsID0gKHZpZXdpbnZtYXQgKiB2ZWM0KGxvY2FsLCAxLjApKS54eXo7DQoJb3JjbyA9IGF0dG9yY287DQoJdXZfYXR0cmlidXRlKGF0dHV2LCB1dik7DQoJbm9ybWFsID0gLW5vcm1hbGl6ZShub3IpOyAgIC8qIGJsZW5kZXIgcmVuZGVyIG5vcm1hbCBpcyBuZWdhdGVkICovDQoJdmNvbF9hdHRyaWJ1dGUoYXR0dmNvbCwgdmNvbCk7DQoJc3JnYl90b19saW5lYXJyZ2IodmNvbCwgdmNvbCk7DQoJdmNvbF9hbHBoYSA9IGF0dHZjb2wuYTsNCglmcm9udGJhY2sgPSAoZ2xfRnJvbnRGYWNpbmcpID8gMS4wIDogMC4wOw0KfQ0KDQp2b2lkIHBhcnRpY2xlX2luZm8oDQogICAgICAgIHZlYzQgc3Byb3BzLCB2ZWMzIGxvYywgdmVjMyB2ZWwsIHZlYzMgYXZlbCwNCiAgICAgICAgb3V0IGZsb2F0IGluZGV4LCBvdXQgZmxvYXQgYWdlLCBvdXQgZmxvYXQgbGlmZV90aW1lLCBvdXQgdmVjMyBsb2NhdGlvbiwNCiAgICAgICAgb3V0IGZsb2F0IHNpemUsIG91dCB2ZWMzIHZlbG9jaXR5LCBvdXQgdmVjMyBhbmd1bGFyX3ZlbG9jaXR5KQ0Kew0KCWluZGV4ID0gc3Byb3BzLng7DQoJYWdlID0gc3Byb3BzLnk7DQoJbGlmZV90aW1lID0gc3Byb3BzLno7DQoJc2l6ZSA9IHNwcm9wcy53Ow0KDQoJbG9jYXRpb24gPSBsb2M7DQoJdmVsb2NpdHkgPSB2ZWw7DQoJYW5ndWxhcl92ZWxvY2l0eSA9IGF2ZWw7DQp9DQoNCnZvaWQgdmVjdF9ub3JtYWxpemUodmVjMyB2aW4sIG91dCB2ZWMzIHZvdXQpDQp7DQoJdm91dCA9IG5vcm1hbGl6ZSh2aW4pOw0KfQ0KDQp2b2lkIGRpcmVjdGlvbl90cmFuc2Zvcm1fbTR2Myh2ZWMzIHZpbiwgbWF0NCBtYXQsIG91dCB2ZWMzIHZvdXQpDQp7DQoJdm91dCA9IChtYXQgKiB2ZWM0KHZpbiwgMC4wKSkueHl6Ow0KfQ0KDQp2b2lkIHBvaW50X3RyYW5zZm9ybV9tNHYzKHZlYzMgdmluLCBtYXQ0IG1hdCwgb3V0IHZlYzMgdm91dCkNCnsNCgl2b3V0ID0gKG1hdCAqIHZlYzQodmluLCAxLjApKS54eXo7DQp9DQoNCnZvaWQgcG9pbnRfdGV4Y29fcmVtYXBfc3F1YXJlKHZlYzMgdmluLCBvdXQgdmVjMyB2b3V0KQ0Kew0KCXZvdXQgPSB2ZWMzKHZpbiAtIHZlYzMoMC41LCAwLjUsIDAuNSkpICogMi4wOw0KfQ0KDQp2b2lkIHBvaW50X21hcF90b19zcGhlcmUodmVjMyB2aW4sIG91dCB2ZWMzIHZvdXQpDQp7DQoJZmxvYXQgbGVuID0gbGVuZ3RoKHZpbik7DQoJZmxvYXQgdiwgdTsNCglpZiAobGVuID4gMC4wKSB7DQoJCWlmICh2aW4ueCA9PSAwLjAgJiYgdmluLnkgPT0gMC4wKQ0KCQkJdSA9IDAuMDsNCgkJZWxzZQ0KCQkJdSA9ICgxLjAgLSBhdGFuKHZpbi54LCB2aW4ueSkgLyBNX1BJKSAvIDIuMDsNCg0KCQl2ID0gMS4wIC0gYWNvcyh2aW4ueiAvIGxlbikgLyBNX1BJOw0KCX0NCgllbHNlDQoJCXYgPSB1ID0gMC4wOw0KDQoJdm91dCA9IHZlYzModSwgdiwgMC4wKTsNCn0NCg0Kdm9pZCBwb2ludF9tYXBfdG9fdHViZSh2ZWMzIHZpbiwgb3V0IHZlYzMgdm91dCkNCnsNCglmbG9hdCB1LCB2Ow0KCXYgPSAodmluLnogKyAxLjApICogMC41Ow0KCWZsb2F0IGxlbiA9IHNxcnQodmluLnggKiB2aW4ueCArIHZpbi55ICogdmluWzFdKTsNCglpZiAobGVuID4gMC4wKQ0KCQl1ID0gKDEuMCAtIChhdGFuKHZpbi54IC8gbGVuLCB2aW4ueSAvIGxlbikgLyBNX1BJKSkgKiAwLjU7DQoJZWxzZQ0KCQl2ID0gdSA9IDAuMDsNCg0KCXZvdXQgPSB2ZWMzKHUsIHYsIDAuMCk7DQp9DQoNCnZvaWQgbWFwcGluZyh2ZWMzIHZlYywgbWF0NCBtYXQsIHZlYzMgbWludmVjLCB2ZWMzIG1heHZlYywgZmxvYXQgZG9taW4sIGZsb2F0IGRvbWF4LCBvdXQgdmVjMyBvdXR2ZWMpDQp7DQoJb3V0dmVjID0gKG1hdCAqIHZlYzQodmVjLCAxLjApKS54eXo7DQoJaWYgKGRvbWluID09IDEuMCkNCgkJb3V0dmVjID0gbWF4KG91dHZlYywgbWludmVjKTsNCglpZiAoZG9tYXggPT0gMS4wKQ0KCQlvdXR2ZWMgPSBtaW4ob3V0dmVjLCBtYXh2ZWMpOw0KfQ0KDQp2b2lkIGNhbWVyYSh2ZWMzIGNvLCBvdXQgdmVjMyBvdXR2aWV3LCBvdXQgZmxvYXQgb3V0ZGVwdGgsIG91dCBmbG9hdCBvdXRkaXN0KQ0Kew0KCW91dGRlcHRoID0gYWJzKGNvLnopOw0KCW91dGRpc3QgPSBsZW5ndGgoY28pOw0KCW91dHZpZXcgPSBub3JtYWxpemUoY28pOw0KfQ0KDQp2b2lkIGxhbXAoDQogICAgICAgIHZlYzQgY29sLCBmbG9hdCBlbmVyZ3ksIHZlYzMgbHYsIGZsb2F0IGRpc3QsIHZlYzMgc2hhZG93LCBmbG9hdCB2aXNpZmFjLA0KICAgICAgICBvdXQgdmVjNCBvdXRjb2wsIG91dCB2ZWMzIG91dGx2LCBvdXQgZmxvYXQgb3V0ZGlzdCwgb3V0IHZlYzQgb3V0c2hhZG93LCBvdXQgZmxvYXQgb3V0dmlzaWZhYykNCnsNCglvdXRjb2wgPSBjb2wgKiBlbmVyZ3k7DQoJb3V0bHYgPSBsdjsNCglvdXRkaXN0ID0gZGlzdDsNCglvdXRzaGFkb3cgPSB2ZWM0KHNoYWRvdywgMS4wKTsNCglvdXR2aXNpZmFjID0gdmlzaWZhYzsNCn0NCg0Kdm9pZCBtYXRoX2FkZChmbG9hdCB2YWwxLCBmbG9hdCB2YWwyLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9IHZhbDEgKyB2YWwyOw0KfQ0KDQp2b2lkIG1hdGhfc3VidHJhY3QoZmxvYXQgdmFsMSwgZmxvYXQgdmFsMiwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglvdXR2YWwgPSB2YWwxIC0gdmFsMjsNCn0NCg0Kdm9pZCBtYXRoX211bHRpcGx5KGZsb2F0IHZhbDEsIGZsb2F0IHZhbDIsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gdmFsMSAqIHZhbDI7DQp9DQoNCnZvaWQgbWF0aF9kaXZpZGUoZmxvYXQgdmFsMSwgZmxvYXQgdmFsMiwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglpZiAodmFsMiA9PSAwLjApDQoJCW91dHZhbCA9IDAuMDsNCgllbHNlDQoJCW91dHZhbCA9IHZhbDEgLyB2YWwyOw0KfQ0KDQp2b2lkIG1hdGhfc2luZShmbG9hdCB2YWwsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gc2luKHZhbCk7DQp9DQoNCnZvaWQgbWF0aF9jb3NpbmUoZmxvYXQgdmFsLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9IGNvcyh2YWwpOw0KfQ0KDQp2b2lkIG1hdGhfdGFuZ2VudChmbG9hdCB2YWwsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gdGFuKHZhbCk7DQp9DQoNCnZvaWQgbWF0aF9hc2luKGZsb2F0IHZhbCwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglpZiAodmFsIDw9IDEuMCAmJiB2YWwgPj0gLTEuMCkNCgkJb3V0dmFsID0gYXNpbih2YWwpOw0KCWVsc2UNCgkJb3V0dmFsID0gMC4wOw0KfQ0KDQp2b2lkIG1hdGhfYWNvcyhmbG9hdCB2YWwsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJaWYgKHZhbCA8PSAxLjAgJiYgdmFsID49IC0xLjApDQoJCW91dHZhbCA9IGFjb3ModmFsKTsNCgllbHNlDQoJCW91dHZhbCA9IDAuMDsNCn0NCg0Kdm9pZCBtYXRoX2F0YW4oZmxvYXQgdmFsLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9IGF0YW4odmFsKTsNCn0NCg0Kdm9pZCBtYXRoX3BvdyhmbG9hdCB2YWwxLCBmbG9hdCB2YWwyLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCWlmICh2YWwxID49IDAuMCkgew0KCQlvdXR2YWwgPSBjb21wYXRpYmxlX3Bvdyh2YWwxLCB2YWwyKTsNCgl9DQoJZWxzZSB7DQoJCWZsb2F0IHZhbDJfbW9kXzEgPSBtb2QoYWJzKHZhbDIpLCAxLjApOw0KDQoJCWlmICh2YWwyX21vZF8xID4gMC45OTkgfHwgdmFsMl9tb2RfMSA8IDAuMDAxKQ0KCQkJb3V0dmFsID0gY29tcGF0aWJsZV9wb3codmFsMSwgZmxvb3IodmFsMiArIDAuNSkpOw0KCQllbHNlDQoJCQlvdXR2YWwgPSAwLjA7DQoJfQ0KfQ0KDQp2b2lkIG1hdGhfbG9nKGZsb2F0IHZhbDEsIGZsb2F0IHZhbDIsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJaWYgKHZhbDEgPiAwLjAgICYmIHZhbDIgPiAwLjApDQoJCW91dHZhbCA9IGxvZzIodmFsMSkgLyBsb2cyKHZhbDIpOw0KCWVsc2UNCgkJb3V0dmFsID0gMC4wOw0KfQ0KDQp2b2lkIG1hdGhfbWF4KGZsb2F0IHZhbDEsIGZsb2F0IHZhbDIsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gbWF4KHZhbDEsIHZhbDIpOw0KfQ0KDQp2b2lkIG1hdGhfbWluKGZsb2F0IHZhbDEsIGZsb2F0IHZhbDIsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gbWluKHZhbDEsIHZhbDIpOw0KfQ0KDQp2b2lkIG1hdGhfcm91bmQoZmxvYXQgdmFsLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9IGZsb29yKHZhbCArIDAuNSk7DQp9DQoNCnZvaWQgbWF0aF9sZXNzX3RoYW4oZmxvYXQgdmFsMSwgZmxvYXQgdmFsMiwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglpZiAodmFsMSA8IHZhbDIpDQoJCW91dHZhbCA9IDEuMDsNCgllbHNlDQoJCW91dHZhbCA9IDAuMDsNCn0NCg0Kdm9pZCBtYXRoX2dyZWF0ZXJfdGhhbihmbG9hdCB2YWwxLCBmbG9hdCB2YWwyLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCWlmICh2YWwxID4gdmFsMikNCgkJb3V0dmFsID0gMS4wOw0KCWVsc2UNCgkJb3V0dmFsID0gMC4wOw0KfQ0KDQp2b2lkIG1hdGhfbW9kdWxvKGZsb2F0IHZhbDEsIGZsb2F0IHZhbDIsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJaWYgKHZhbDIgPT0gMC4wKQ0KCQlvdXR2YWwgPSAwLjA7DQoJZWxzZQ0KCQlvdXR2YWwgPSBtb2QodmFsMSwgdmFsMik7DQoNCgkvKiBjaGFuZ2Ugc2lnbiB0byBtYXRjaCBDIGNvbnZlbnRpb24sIG1vZCB2YXJ5aW5nIEdMU0wgd2lsbCB0YWtlIGFic29sdXRlIGZvciBuZWdhdGl2ZSBudW1iZXJzLA0KCSAqIHNlZSBodHRwczovL3d3dy5vcGVuZ2wub3JnL3Nkay9kb2NzL21hbi9odG1sL21vZC54aHRtbCAqLw0KCW91dHZhbCA9ICh2YWwxID4gMC4wKSA/IG91dHZhbCA6IG91dHZhbCAtIHZhbDI7DQp9DQoNCnZvaWQgbWF0aF9hYnMoZmxvYXQgdmFsMSwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglvdXR2YWwgPSBhYnModmFsMSk7DQp9DQoNCnZvaWQgc3F1ZWV6ZShmbG9hdCB2YWwsIGZsb2F0IHdpZHRoLCBmbG9hdCBjZW50ZXIsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gMS4wIC8gKDEuMCArIHBvdygyLjcxODI4MTgzLCAtKCh2YWwgLSBjZW50ZXIpICogd2lkdGgpKSk7DQp9DQoNCnZvaWQgdmVjX21hdGhfYWRkKHZlYzMgdjEsIHZlYzMgdjIsIG91dCB2ZWMzIG91dHZlYywgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglvdXR2ZWMgPSB2MSArIHYyOw0KCW91dHZhbCA9IChhYnMob3V0dmVjWzBdKSArIGFicyhvdXR2ZWNbMV0pICsgYWJzKG91dHZlY1syXSkpIC8gMy4wOw0KfQ0KDQp2b2lkIHZlY19tYXRoX3N1Yih2ZWMzIHYxLCB2ZWMzIHYyLCBvdXQgdmVjMyBvdXR2ZWMsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmVjID0gdjEgLSB2MjsNCglvdXR2YWwgPSAoYWJzKG91dHZlY1swXSkgKyBhYnMob3V0dmVjWzFdKSArIGFicyhvdXR2ZWNbMl0pKSAvIDMuMDsNCn0NCg0Kdm9pZCB2ZWNfbWF0aF9hdmVyYWdlKHZlYzMgdjEsIHZlYzMgdjIsIG91dCB2ZWMzIG91dHZlYywgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglvdXR2ZWMgPSB2MSArIHYyOw0KCW91dHZhbCA9IGxlbmd0aChvdXR2ZWMpOw0KCW91dHZlYyA9IG5vcm1hbGl6ZShvdXR2ZWMpOw0KfQ0Kdm9pZCB2ZWNfbWF0aF9taXgoZmxvYXQgc3RyZW5ndGgsIHZlYzMgdjEsIHZlYzMgdjIsIG91dCB2ZWMzIG91dHZlYykNCnsNCglvdXR2ZWMgPSBzdHJlbmd0aCAqIHYxICsgKDEgLSBzdHJlbmd0aCkgKiB2MjsNCn0NCg0Kdm9pZCB2ZWNfbWF0aF9kb3QodmVjMyB2MSwgdmVjMyB2Miwgb3V0IHZlYzMgb3V0dmVjLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZlYyA9IHZlYzMoMCwgMCwgMCk7DQoJb3V0dmFsID0gZG90KHYxLCB2Mik7DQp9DQoNCnZvaWQgdmVjX21hdGhfY3Jvc3ModmVjMyB2MSwgdmVjMyB2Miwgb3V0IHZlYzMgb3V0dmVjLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZlYyA9IGNyb3NzKHYxLCB2Mik7DQoJb3V0dmFsID0gbGVuZ3RoKG91dHZlYyk7DQoJb3V0dmVjIC89IG91dHZhbDsNCn0NCg0Kdm9pZCB2ZWNfbWF0aF9ub3JtYWxpemUodmVjMyB2LCBvdXQgdmVjMyBvdXR2ZWMsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gbGVuZ3RoKHYpOw0KCW91dHZlYyA9IG5vcm1hbGl6ZSh2KTsNCn0NCg0Kdm9pZCB2ZWNfbWF0aF9uZWdhdGUodmVjMyB2LCBvdXQgdmVjMyBvdXR2KQ0Kew0KCW91dHYgPSAtdjsNCn0NCg0Kdm9pZCBpbnZlcnRfeih2ZWMzIHYsIG91dCB2ZWMzIG91dHYpDQp7DQoJdi56ID0gLXYuejsNCglvdXR2ID0gdjsNCn0NCg0Kdm9pZCBub3JtYWwodmVjMyBkaXIsIHZlYzMgbm9yLCBvdXQgdmVjMyBvdXRub3IsIG91dCBmbG9hdCBvdXRkb3QpDQp7DQoJb3V0bm9yID0gbm9yOw0KCW91dGRvdCA9IC1kb3QoZGlyLCBub3IpOw0KfQ0KDQp2b2lkIG5vcm1hbF9uZXdfc2hhZGluZyh2ZWMzIGRpciwgdmVjMyBub3IsIG91dCB2ZWMzIG91dG5vciwgb3V0IGZsb2F0IG91dGRvdCkNCnsNCglvdXRub3IgPSBub3JtYWxpemUobm9yKTsNCglvdXRkb3QgPSBkb3Qobm9ybWFsaXplKGRpciksIG5vcik7DQp9DQoNCnZvaWQgY3VydmVzX3ZlYyhmbG9hdCBmYWMsIHZlYzMgdmVjLCBzYW1wbGVyMkQgY3VydmVtYXAsIG91dCB2ZWMzIG91dHZlYykNCnsNCglvdXR2ZWMueCA9IHRleHR1cmUyRChjdXJ2ZW1hcCwgdmVjMigodmVjLnggKyAxLjApICogMC41LCAwLjApKS54Ow0KCW91dHZlYy55ID0gdGV4dHVyZTJEKGN1cnZlbWFwLCB2ZWMyKCh2ZWMueSArIDEuMCkgKiAwLjUsIDAuMCkpLnk7DQoJb3V0dmVjLnogPSB0ZXh0dXJlMkQoY3VydmVtYXAsIHZlYzIoKHZlYy56ICsgMS4wKSAqIDAuNSwgMC4wKSkuejsNCg0KCWlmIChmYWMgIT0gMS4wKQ0KCQlvdXR2ZWMgPSAob3V0dmVjICogZmFjKSArICh2ZWMgKiAoMS4wIC0gZmFjKSk7DQoNCn0NCg0Kdm9pZCBjdXJ2ZXNfcmdiKGZsb2F0IGZhYywgdmVjNCBjb2wsIHNhbXBsZXIyRCBjdXJ2ZW1hcCwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCW91dGNvbC5yID0gdGV4dHVyZTJEKGN1cnZlbWFwLCB2ZWMyKHRleHR1cmUyRChjdXJ2ZW1hcCwgdmVjMihjb2wuciwgMC4wKSkuYSwgMC4wKSkucjsNCglvdXRjb2wuZyA9IHRleHR1cmUyRChjdXJ2ZW1hcCwgdmVjMih0ZXh0dXJlMkQoY3VydmVtYXAsIHZlYzIoY29sLmcsIDAuMCkpLmEsIDAuMCkpLmc7DQoJb3V0Y29sLmIgPSB0ZXh0dXJlMkQoY3VydmVtYXAsIHZlYzIodGV4dHVyZTJEKGN1cnZlbWFwLCB2ZWMyKGNvbC5iLCAwLjApKS5hLCAwLjApKS5iOw0KDQoJaWYgKGZhYyAhPSAxLjApDQoJCW91dGNvbCA9IChvdXRjb2wgKiBmYWMpICsgKGNvbCAqICgxLjAgLSBmYWMpKTsNCg0KCW91dGNvbC5hID0gY29sLmE7DQp9DQoNCnZvaWQgc2V0X3ZhbHVlKGZsb2F0IHZhbCwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglvdXR2YWwgPSB2YWw7DQp9DQoNCnZvaWQgc2V0X3JnYih2ZWMzIGNvbCwgb3V0IHZlYzMgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IGNvbDsNCn0NCg0Kdm9pZCBzZXRfcmdiYSh2ZWM0IGNvbCwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IGNvbDsNCn0NCg0Kdm9pZCBzZXRfdmFsdWVfemVybyhvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9IDAuMDsNCn0NCg0Kdm9pZCBzZXRfdmFsdWVfb25lKG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gMS4wOw0KfQ0KDQp2b2lkIHNldF9yZ2JfemVybyhvdXQgdmVjMyBvdXR2YWwpDQp7DQoJb3V0dmFsID0gdmVjMygwLjApOw0KfQ0KDQp2b2lkIHNldF9yZ2Jfb25lKG91dCB2ZWMzIG91dHZhbCkNCnsNCglvdXR2YWwgPSB2ZWMzKDEuMCk7DQp9DQoNCnZvaWQgc2V0X3JnYmFfemVybyhvdXQgdmVjNCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gdmVjNCgwLjApOw0KfQ0KDQp2b2lkIHNldF9yZ2JhX29uZShvdXQgdmVjNCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gdmVjNCgxLjApOw0KfQ0KDQp2b2lkIGJyaWdodG5lc3NfY29udHJhc3QodmVjNCBjb2wsIGZsb2F0IGJyaWdodG5lc3MsIGZsb2F0IGNvbnRyYXN0LCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmxvYXQgYSA9IDEuMCArIGNvbnRyYXN0Ow0KCWZsb2F0IGIgPSBicmlnaHRuZXNzIC0gY29udHJhc3QgKiAwLjU7DQoNCglvdXRjb2wuciA9IG1heChhICogY29sLnIgKyBiLCAwLjApOw0KCW91dGNvbC5nID0gbWF4KGEgKiBjb2wuZyArIGIsIDAuMCk7DQoJb3V0Y29sLmIgPSBtYXgoYSAqIGNvbC5iICsgYiwgMC4wKTsNCglvdXRjb2wuYSA9IGNvbC5hOw0KfQ0KDQp2b2lkIG1peF9ibGVuZChmbG9hdCBmYWMsIHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmFjID0gY2xhbXAoZmFjLCAwLjAsIDEuMCk7DQoJb3V0Y29sID0gbWl4KGNvbDEsIGNvbDIsIGZhYyk7DQoJb3V0Y29sLmEgPSBjb2wxLmE7DQp9DQoNCnZvaWQgbWl4X2FkZChmbG9hdCBmYWMsIHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmFjID0gY2xhbXAoZmFjLCAwLjAsIDEuMCk7DQoJb3V0Y29sID0gbWl4KGNvbDEsIGNvbDEgKyBjb2wyLCBmYWMpOw0KCW91dGNvbC5hID0gY29sMS5hOw0KfQ0KDQp2b2lkIG1peF9tdWx0KGZsb2F0IGZhYywgdmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglmYWMgPSBjbGFtcChmYWMsIDAuMCwgMS4wKTsNCglvdXRjb2wgPSBtaXgoY29sMSwgY29sMSAqIGNvbDIsIGZhYyk7DQoJb3V0Y29sLmEgPSBjb2wxLmE7DQp9DQoNCnZvaWQgbWl4X3NjcmVlbihmbG9hdCBmYWMsIHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmFjID0gY2xhbXAoZmFjLCAwLjAsIDEuMCk7DQoJZmxvYXQgZmFjbSA9IDEuMCAtIGZhYzsNCg0KCW91dGNvbCA9IHZlYzQoMS4wKSAtICh2ZWM0KGZhY20pICsgZmFjICogKHZlYzQoMS4wKSAtIGNvbDIpKSAqICh2ZWM0KDEuMCkgLSBjb2wxKTsNCglvdXRjb2wuYSA9IGNvbDEuYTsNCn0NCg0Kdm9pZCBtaXhfb3ZlcmxheShmbG9hdCBmYWMsIHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmFjID0gY2xhbXAoZmFjLCAwLjAsIDEuMCk7DQoJZmxvYXQgZmFjbSA9IDEuMCAtIGZhYzsNCg0KCW91dGNvbCA9IGNvbDE7DQoNCglpZiAob3V0Y29sLnIgPCAwLjUpDQoJCW91dGNvbC5yICo9IGZhY20gKyAyLjAgKiBmYWMgKiBjb2wyLnI7DQoJZWxzZQ0KCQlvdXRjb2wuciA9IDEuMCAtIChmYWNtICsgMi4wICogZmFjICogKDEuMCAtIGNvbDIucikpICogKDEuMCAtIG91dGNvbC5yKTsNCg0KCWlmIChvdXRjb2wuZyA8IDAuNSkNCgkJb3V0Y29sLmcgKj0gZmFjbSArIDIuMCAqIGZhYyAqIGNvbDIuZzsNCgllbHNlDQoJCW91dGNvbC5nID0gMS4wIC0gKGZhY20gKyAyLjAgKiBmYWMgKiAoMS4wIC0gY29sMi5nKSkgKiAoMS4wIC0gb3V0Y29sLmcpOw0KDQoJaWYgKG91dGNvbC5iIDwgMC41KQ0KCQlvdXRjb2wuYiAqPSBmYWNtICsgMi4wICogZmFjICogY29sMi5iOw0KCWVsc2UNCgkJb3V0Y29sLmIgPSAxLjAgLSAoZmFjbSArIDIuMCAqIGZhYyAqICgxLjAgLSBjb2wyLmIpKSAqICgxLjAgLSBvdXRjb2wuYik7DQp9DQoNCnZvaWQgbWl4X3N1YihmbG9hdCBmYWMsIHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmFjID0gY2xhbXAoZmFjLCAwLjAsIDEuMCk7DQoJb3V0Y29sID0gbWl4KGNvbDEsIGNvbDEgLSBjb2wyLCBmYWMpOw0KCW91dGNvbC5hID0gY29sMS5hOw0KfQ0KDQp2b2lkIG1peF9kaXYoZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KCWZsb2F0IGZhY20gPSAxLjAgLSBmYWM7DQoNCglvdXRjb2wgPSBjb2wxOw0KDQoJaWYgKGNvbDIuciAhPSAwLjApIG91dGNvbC5yID0gZmFjbSAqIG91dGNvbC5yICsgZmFjICogb3V0Y29sLnIgLyBjb2wyLnI7DQoJaWYgKGNvbDIuZyAhPSAwLjApIG91dGNvbC5nID0gZmFjbSAqIG91dGNvbC5nICsgZmFjICogb3V0Y29sLmcgLyBjb2wyLmc7DQoJaWYgKGNvbDIuYiAhPSAwLjApIG91dGNvbC5iID0gZmFjbSAqIG91dGNvbC5iICsgZmFjICogb3V0Y29sLmIgLyBjb2wyLmI7DQp9DQoNCnZvaWQgbWl4X2RpZmYoZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KCW91dGNvbCA9IG1peChjb2wxLCBhYnMoY29sMSAtIGNvbDIpLCBmYWMpOw0KCW91dGNvbC5hID0gY29sMS5hOw0KfQ0KDQp2b2lkIG1peF9kYXJrKGZsb2F0IGZhYywgdmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglmYWMgPSBjbGFtcChmYWMsIDAuMCwgMS4wKTsNCglvdXRjb2wucmdiID0gbWluKGNvbDEucmdiLCBjb2wyLnJnYiAqIGZhYyk7DQoJb3V0Y29sLmEgPSBjb2wxLmE7DQp9DQoNCnZvaWQgbWl4X2xpZ2h0KGZsb2F0IGZhYywgdmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglmYWMgPSBjbGFtcChmYWMsIDAuMCwgMS4wKTsNCglvdXRjb2wucmdiID0gbWF4KGNvbDEucmdiLCBjb2wyLnJnYiAqIGZhYyk7DQoJb3V0Y29sLmEgPSBjb2wxLmE7DQp9DQoNCnZvaWQgbWl4X2RvZGdlKGZsb2F0IGZhYywgdmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglmYWMgPSBjbGFtcChmYWMsIDAuMCwgMS4wKTsNCglvdXRjb2wgPSBjb2wxOw0KDQoJaWYgKG91dGNvbC5yICE9IDAuMCkgew0KCQlmbG9hdCB0bXAgPSAxLjAgLSBmYWMgKiBjb2wyLnI7DQoJCWlmICh0bXAgPD0gMC4wKQ0KCQkJb3V0Y29sLnIgPSAxLjA7DQoJCWVsc2UgaWYgKCh0bXAgPSBvdXRjb2wuciAvIHRtcCkgPiAxLjApDQoJCQlvdXRjb2wuciA9IDEuMDsNCgkJZWxzZQ0KCQkJb3V0Y29sLnIgPSB0bXA7DQoJfQ0KCWlmIChvdXRjb2wuZyAhPSAwLjApIHsNCgkJZmxvYXQgdG1wID0gMS4wIC0gZmFjICogY29sMi5nOw0KCQlpZiAodG1wIDw9IDAuMCkNCgkJCW91dGNvbC5nID0gMS4wOw0KCQllbHNlIGlmICgodG1wID0gb3V0Y29sLmcgLyB0bXApID4gMS4wKQ0KCQkJb3V0Y29sLmcgPSAxLjA7DQoJCWVsc2UNCgkJCW91dGNvbC5nID0gdG1wOw0KCX0NCglpZiAob3V0Y29sLmIgIT0gMC4wKSB7DQoJCWZsb2F0IHRtcCA9IDEuMCAtIGZhYyAqIGNvbDIuYjsNCgkJaWYgKHRtcCA8PSAwLjApDQoJCQlvdXRjb2wuYiA9IDEuMDsNCgkJZWxzZSBpZiAoKHRtcCA9IG91dGNvbC5iIC8gdG1wKSA+IDEuMCkNCgkJCW91dGNvbC5iID0gMS4wOw0KCQllbHNlDQoJCQlvdXRjb2wuYiA9IHRtcDsNCgl9DQp9DQoNCnZvaWQgbWl4X2J1cm4oZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KCWZsb2F0IHRtcCwgZmFjbSA9IDEuMCAtIGZhYzsNCg0KCW91dGNvbCA9IGNvbDE7DQoNCgl0bXAgPSBmYWNtICsgZmFjICogY29sMi5yOw0KCWlmICh0bXAgPD0gMC4wKQ0KCQlvdXRjb2wuciA9IDAuMDsNCgllbHNlIGlmICgodG1wID0gKDEuMCAtICgxLjAgLSBvdXRjb2wucikgLyB0bXApKSA8IDAuMCkNCgkJb3V0Y29sLnIgPSAwLjA7DQoJZWxzZSBpZiAodG1wID4gMS4wKQ0KCQlvdXRjb2wuciA9IDEuMDsNCgllbHNlDQoJCW91dGNvbC5yID0gdG1wOw0KDQoJdG1wID0gZmFjbSArIGZhYyAqIGNvbDIuZzsNCglpZiAodG1wIDw9IDAuMCkNCgkJb3V0Y29sLmcgPSAwLjA7DQoJZWxzZSBpZiAoKHRtcCA9ICgxLjAgLSAoMS4wIC0gb3V0Y29sLmcpIC8gdG1wKSkgPCAwLjApDQoJCW91dGNvbC5nID0gMC4wOw0KCWVsc2UgaWYgKHRtcCA+IDEuMCkNCgkJb3V0Y29sLmcgPSAxLjA7DQoJZWxzZQ0KCQlvdXRjb2wuZyA9IHRtcDsNCg0KCXRtcCA9IGZhY20gKyBmYWMgKiBjb2wyLmI7DQoJaWYgKHRtcCA8PSAwLjApDQoJCW91dGNvbC5iID0gMC4wOw0KCWVsc2UgaWYgKCh0bXAgPSAoMS4wIC0gKDEuMCAtIG91dGNvbC5iKSAvIHRtcCkpIDwgMC4wKQ0KCQlvdXRjb2wuYiA9IDAuMDsNCgllbHNlIGlmICh0bXAgPiAxLjApDQoJCW91dGNvbC5iID0gMS4wOw0KCWVsc2UNCgkJb3V0Y29sLmIgPSB0bXA7DQp9DQoNCnZvaWQgbWl4X2h1ZShmbG9hdCBmYWMsIHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmFjID0gY2xhbXAoZmFjLCAwLjAsIDEuMCk7DQoJZmxvYXQgZmFjbSA9IDEuMCAtIGZhYzsNCg0KCW91dGNvbCA9IGNvbDE7DQoNCgl2ZWM0IGhzdiwgaHN2MiwgdG1wOw0KCXJnYl90b19oc3YoY29sMiwgaHN2Mik7DQoNCglpZiAoaHN2Mi55ICE9IDAuMCkgew0KCQlyZ2JfdG9faHN2KG91dGNvbCwgaHN2KTsNCgkJaHN2LnggPSBoc3YyLng7DQoJCWhzdl90b19yZ2IoaHN2LCB0bXApOw0KDQoJCW91dGNvbCA9IG1peChvdXRjb2wsIHRtcCwgZmFjKTsNCgkJb3V0Y29sLmEgPSBjb2wxLmE7DQoJfQ0KfQ0KDQp2b2lkIG1peF9zYXQoZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KCWZsb2F0IGZhY20gPSAxLjAgLSBmYWM7DQoNCglvdXRjb2wgPSBjb2wxOw0KDQoJdmVjNCBoc3YsIGhzdjI7DQoJcmdiX3RvX2hzdihvdXRjb2wsIGhzdik7DQoNCglpZiAoaHN2LnkgIT0gMC4wKSB7DQoJCXJnYl90b19oc3YoY29sMiwgaHN2Mik7DQoNCgkJaHN2LnkgPSBmYWNtICogaHN2LnkgKyBmYWMgKiBoc3YyLnk7DQoJCWhzdl90b19yZ2IoaHN2LCBvdXRjb2wpOw0KCX0NCn0NCg0Kdm9pZCBtaXhfdmFsKGZsb2F0IGZhYywgdmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglmYWMgPSBjbGFtcChmYWMsIDAuMCwgMS4wKTsNCglmbG9hdCBmYWNtID0gMS4wIC0gZmFjOw0KDQoJdmVjNCBoc3YsIGhzdjI7DQoJcmdiX3RvX2hzdihjb2wxLCBoc3YpOw0KCXJnYl90b19oc3YoY29sMiwgaHN2Mik7DQoNCgloc3YueiA9IGZhY20gKiBoc3YueiArIGZhYyAqIGhzdjIuejsNCgloc3ZfdG9fcmdiKGhzdiwgb3V0Y29sKTsNCn0NCg0Kdm9pZCBtaXhfY29sb3IoZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KCWZsb2F0IGZhY20gPSAxLjAgLSBmYWM7DQoNCglvdXRjb2wgPSBjb2wxOw0KDQoJdmVjNCBoc3YsIGhzdjIsIHRtcDsNCglyZ2JfdG9faHN2KGNvbDIsIGhzdjIpOw0KDQoJaWYgKGhzdjIueSAhPSAwLjApIHsNCgkJcmdiX3RvX2hzdihvdXRjb2wsIGhzdik7DQoJCWhzdi54ID0gaHN2Mi54Ow0KCQloc3YueSA9IGhzdjIueTsNCgkJaHN2X3RvX3JnYihoc3YsIHRtcCk7DQoNCgkJb3V0Y29sID0gbWl4KG91dGNvbCwgdG1wLCBmYWMpOw0KCQlvdXRjb2wuYSA9IGNvbDEuYTsNCgl9DQp9DQoNCnZvaWQgbWl4X3NvZnQoZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KCWZsb2F0IGZhY20gPSAxLjAgLSBmYWM7DQoNCgl2ZWM0IG9uZSA9IHZlYzQoMS4wKTsNCgl2ZWM0IHNjciA9IG9uZSAtIChvbmUgLSBjb2wyKSAqIChvbmUgLSBjb2wxKTsNCglvdXRjb2wgPSBmYWNtICogY29sMSArIGZhYyAqICgob25lIC0gY29sMSkgKiBjb2wyICogY29sMSArIGNvbDEgKiBzY3IpOw0KfQ0KDQp2b2lkIG1peF9saW5lYXIoZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KDQoJb3V0Y29sID0gY29sMSArIGZhYyAqICgyLjAgKiAoY29sMiAtIHZlYzQoMC41KSkpOw0KfQ0KDQp2b2lkIHZhbHRvcmdiKGZsb2F0IGZhYywgc2FtcGxlcjJEIGNvbG9ybWFwLCBvdXQgdmVjNCBvdXRjb2wsIG91dCBmbG9hdCBvdXRhbHBoYSkNCnsNCglvdXRjb2wgPSB0ZXh0dXJlMkQoY29sb3JtYXAsIHZlYzIoZmFjLCAwLjApKTsNCglvdXRhbHBoYSA9IG91dGNvbC5hOw0KfQ0KDQp2b2lkIHJnYnRvYncodmVjNCBjb2xvciwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCiNpZmRlZiBVU0VfTkVXX1NIQURJTkcNCglvdXR2YWwgPSBjb2xvci5yICogMC4yMTI2ICsgY29sb3IuZyAqIDAuNzE1MiArIGNvbG9yLmIgKiAwLjA3MjI7DQojZWxzZQ0KCW91dHZhbCA9IGNvbG9yLnIgKiAwLjM1ICsgY29sb3IuZyAqIDAuNDUgKyBjb2xvci5iICogMC4yOyAvKiBrZWVwIHRoZXNlIGZhY3RvcnMgdmFyeWluZyBzeW5jIHdpdGggdGV4dHVyZS5oOlJHQlRPQlcgKi8NCiNlbmRpZg0KfQ0KDQp2b2lkIGludmVydChmbG9hdCBmYWMsIHZlYzQgY29sLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJb3V0Y29sLnh5eiA9IG1peChjb2wueHl6LCB2ZWMzKDEuMCwgMS4wLCAxLjApIC0gY29sLnh5eiwgZmFjKTsNCglvdXRjb2wudyA9IGNvbC53Ow0KfQ0KDQp2b2lkIGNsYW1wX3ZlYzModmVjMyB2ZWMsIHZlYzMgbWluLCB2ZWMzIG1heCwgb3V0IHZlYzMgb3V0X3ZlYykNCnsNCglvdXRfdmVjID0gY2xhbXAodmVjLCBtaW4sIG1heCk7DQp9DQoNCnZvaWQgY2xhbXBfdmFsKGZsb2F0IHZhbHVlLCBmbG9hdCBtaW4sIGZsb2F0IG1heCwgb3V0IGZsb2F0IG91dF92YWx1ZSkNCnsNCglvdXRfdmFsdWUgPSBjbGFtcCh2YWx1ZSwgbWluLCBtYXgpOw0KfQ0KDQp2b2lkIGh1ZV9zYXQoZmxvYXQgaHVlLCBmbG9hdCBzYXQsIGZsb2F0IHZhbHVlLCBmbG9hdCBmYWMsIHZlYzQgY29sLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJdmVjNCBoc3Y7DQoNCglyZ2JfdG9faHN2KGNvbCwgaHN2KTsNCg0KCWhzdlswXSArPSAoaHVlIC0gMC41KTsNCglpZiAoaHN2WzBdID4gMS4wKSBoc3ZbMF0gLT0gMS4wOyBlbHNlIGlmIChoc3ZbMF0gPCAwLjApIGhzdlswXSArPSAxLjA7DQoJaHN2WzFdICo9IHNhdDsNCglpZiAoaHN2WzFdID4gMS4wKSBoc3ZbMV0gPSAxLjA7IGVsc2UgaWYgKGhzdlsxXSA8IDAuMCkgaHN2WzFdID0gMC4wOw0KCWhzdlsyXSAqPSB2YWx1ZTsNCglpZiAoaHN2WzJdID4gMS4wKSBoc3ZbMl0gPSAxLjA7IGVsc2UgaWYgKGhzdlsyXSA8IDAuMCkgaHN2WzJdID0gMC4wOw0KDQoJaHN2X3RvX3JnYihoc3YsIG91dGNvbCk7DQoNCglvdXRjb2wgPSBtaXgoY29sLCBvdXRjb2wsIGZhYyk7DQp9DQoNCnZvaWQgc2VwYXJhdGVfcmdiKHZlYzQgY29sLCBvdXQgZmxvYXQgciwgb3V0IGZsb2F0IGcsIG91dCBmbG9hdCBiKQ0Kew0KCXIgPSBjb2wucjsNCglnID0gY29sLmc7DQoJYiA9IGNvbC5iOw0KfQ0KDQp2b2lkIGNvbWJpbmVfcmdiKGZsb2F0IHIsIGZsb2F0IGcsIGZsb2F0IGIsIG91dCB2ZWM0IGNvbCkNCnsNCgljb2wgPSB2ZWM0KHIsIGcsIGIsIDEuMCk7DQp9DQoNCnZvaWQgc2VwYXJhdGVfeHl6KHZlYzMgdmVjLCBvdXQgZmxvYXQgeCwgb3V0IGZsb2F0IHksIG91dCBmbG9hdCB6KQ0Kew0KCXggPSB2ZWMucjsNCgl5ID0gdmVjLmc7DQoJeiA9IHZlYy5iOw0KfQ0KDQp2b2lkIGNvbWJpbmVfeHl6KGZsb2F0IHgsIGZsb2F0IHksIGZsb2F0IHosIG91dCB2ZWMzIHZlYykNCnsNCgl2ZWMgPSB2ZWMzKHgsIHksIHopOw0KfQ0KDQp2b2lkIHNlcGFyYXRlX2hzdih2ZWM0IGNvbCwgb3V0IGZsb2F0IGgsIG91dCBmbG9hdCBzLCBvdXQgZmxvYXQgdikNCnsNCgl2ZWM0IGhzdjsNCg0KCXJnYl90b19oc3YoY29sLCBoc3YpOw0KCWggPSBoc3ZbMF07DQoJcyA9IGhzdlsxXTsNCgl2ID0gaHN2WzJdOw0KfQ0KDQp2b2lkIGNvbWJpbmVfaHN2KGZsb2F0IGgsIGZsb2F0IHMsIGZsb2F0IHYsIG91dCB2ZWM0IGNvbCkNCnsNCgloc3ZfdG9fcmdiKHZlYzQoaCwgcywgdiwgMS4wKSwgY29sKTsNCn0NCg0Kdm9pZCBvdXRwdXRfbm9kZSh2ZWM0IHJnYiwgZmxvYXQgYWxwaGEsIG91dCB2ZWM0IG91dHJnYikNCnsNCglvdXRyZ2IgPSB2ZWM0KHJnYi5yZ2IsIGFscGhhKTsNCn0NCg0KLyoqKioqKioqKioqIFRFWFRVUkVTICoqKioqKioqKioqKioqKi8NCg0Kdm9pZCB0ZXh0dXJlX2ZsaXBfYmxlbmQodmVjMyB2ZWMsIG91dCB2ZWMzIG91dHZlYykNCnsNCglvdXR2ZWMgPSB2ZWMueXh6Ow0KfQ0KDQp2b2lkIHRleHR1cmVfYmxlbmRfbGluKHZlYzMgdmVjLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9ICgxLjAgKyB2ZWMueCkgLyAyLjA7DQp9DQoNCnZvaWQgdGV4dHVyZV9ibGVuZF9xdWFkKHZlYzMgdmVjLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9IG1heCgoMS4wICsgdmVjLngpIC8gMi4wLCAwLjApOw0KCW91dHZhbCAqPSBvdXR2YWw7DQp9DQoNCnZvaWQgdGV4dHVyZV93b29kX3Npbih2ZWMzIHZlYywgb3V0IGZsb2F0IHZhbHVlLCBvdXQgdmVjNCBjb2xvciwgb3V0IHZlYzMgbm9ybWFsKQ0Kew0KCWZsb2F0IGEgPSBzcXJ0KHZlYy54ICogdmVjLnggKyB2ZWMueSAqIHZlYy55ICsgdmVjLnogKiB2ZWMueikgKiAyMC4wOw0KCWZsb2F0IHdpID0gMC41ICsgMC41ICogc2luKGEpOw0KDQoJdmFsdWUgPSB3aTsNCgljb2xvciA9IHZlYzQod2ksIHdpLCB3aSwgMS4wKTsNCglub3JtYWwgPSB2ZWMzKDAuMCwgMC4wLCAwLjApOw0KfQ0KDQp2b2lkIHRleHR1cmVfaW1hZ2UodmVjMyB2ZWMsIHNhbXBsZXIyRCBpbWEsIG91dCBmbG9hdCB2YWx1ZSwgb3V0IHZlYzQgY29sb3IsIG91dCB2ZWMzIG5vcm1hbCkNCnsNCgljb2xvciA9IHRleHR1cmUyRChpbWEsICh2ZWMueHkgKyB2ZWMyKDEuMCwgMS4wKSkgKiAwLjUpOw0KCXZhbHVlID0gY29sb3IuYTsNCg0KCW5vcm1hbC54ID0gMi4wICogKGNvbG9yLnIgLSAwLjUpOw0KCW5vcm1hbC55ID0gMi4wICogKDAuNSAtIGNvbG9yLmcpOw0KCW5vcm1hbC56ID0gMi4wICogKGNvbG9yLmIgLSAwLjUpOw0KfQ0KDQovKioqKioqKioqKioqKiBNVEVYICoqKioqKioqKioqKioqKioqLw0KDQp2b2lkIHRleGNvX29yY28odmVjMyBhdHRvcmNvLCBvdXQgdmVjMyBvcmNvKQ0Kew0KCW9yY28gPSBhdHRvcmNvOw0KfQ0KDQp2b2lkIHRleGNvX3V2KHZlYzIgYXR0dXYsIG91dCB2ZWMzIHV2KQ0Kew0KCS8qIGRpc2FibGVkIGZvciBub3csIHdvcmtzIHRvZ2V0aGVyIHdpdGggbGVhdmluZyBvdXQgbXRleF8yZF9tYXBwaW5nDQoJICAgdXYgPSB2ZWMzKGF0dHV2KjIuMCAtIHZlYzIoMS4wLCAxLjApLCAwLjApOyAqLw0KCXV2ID0gdmVjMyhhdHR1diwgMC4wKTsNCn0NCg0Kdm9pZCB0ZXhjb19ub3JtKHZlYzMgbm9ybWFsLCBvdXQgdmVjMyBvdXRub3JtYWwpDQp7DQoJLyogY29ycmVzcG9uZHMgdG8gc2hpLT5vcm4sIHdoaWNoIGlzIG5lZ2F0ZWQgc28gY2FuY2Vscw0KCSAgIG91dCBibGVuZGVyIG5vcm1hbCBuZWdhdGlvbiAqLw0KCW91dG5vcm1hbCA9IG5vcm1hbGl6ZShub3JtYWwpOw0KfQ0KDQp2b2lkIHRleGNvX3RhbmdlbnQodmVjNCB0YW5nZW50LCBvdXQgdmVjMyBvdXR0YW5nZW50KQ0Kew0KCW91dHRhbmdlbnQgPSBub3JtYWxpemUodGFuZ2VudC54eXopOw0KfQ0KDQp2b2lkIHRleGNvX2dsb2JhbChtYXQ0IHZpZXdpbnZtYXQsIHZlYzMgY28sIG91dCB2ZWMzIGdsb2JhbCkNCnsNCglnbG9iYWwgPSAodmlld2ludm1hdCAqIHZlYzQoY28sIDEuMCkpLnh5ejsNCn0NCg0Kdm9pZCB0ZXhjb19vYmplY3QobWF0NCB2aWV3aW52bWF0LCBtYXQ0IG9iaW52bWF0LCB2ZWMzIGNvLCBvdXQgdmVjMyBvYmplY3QpDQp7DQoJb2JqZWN0ID0gKG9iaW52bWF0ICogKHZpZXdpbnZtYXQgKiB2ZWM0KGNvLCAxLjApKSkueHl6Ow0KfQ0KDQp2b2lkIHRleGNvX3JlZmwodmVjMyB2biwgdmVjMyB2aWV3LCBvdXQgdmVjMyByZWYpDQp7DQoJcmVmID0gdmlldyAtIDIuMCAqIGRvdCh2biwgdmlldykgKiB2bjsNCn0NCg0Kdm9pZCBzaGFkZV9ub3JtKHZlYzMgbm9ybWFsLCBvdXQgdmVjMyBvdXRub3JtYWwpDQp7DQoJLyogYmxlbmRlciByZW5kZXIgbm9ybWFsIGlzIG5lZ2F0ZWQgKi8NCglvdXRub3JtYWwgPSAtbm9ybWFsaXplKG5vcm1hbCk7DQp9DQoNCnZvaWQgbXRleF9taXJyb3IodmVjMyB0Y29sLCB2ZWM0IHJlZmNvbCwgZmxvYXQgdGluLCBmbG9hdCBjb2xtaXJmYWMsIG91dCB2ZWM0IG91dHJlZmNvbCkNCnsNCglvdXRyZWZjb2wgPSBtaXgocmVmY29sLCB2ZWM0KDEuMCwgdGNvbCksIHRpbiAqIGNvbG1pcmZhYyk7DQp9DQoNCnZvaWQgbXRleF9yZ2JfYmxlbmQodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCglmbG9hdCBmYWNtOw0KDQoJZmFjdCAqPSBmYWNnOw0KCWZhY20gPSAxLjAgLSBmYWN0Ow0KDQoJaW5jb2wgPSBmYWN0ICogdGV4Y29sICsgZmFjbSAqIG91dGNvbDsNCn0NCg0Kdm9pZCBtdGV4X3JnYl9tdWwodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCglmbG9hdCBmYWNtOw0KDQoJZmFjdCAqPSBmYWNnOw0KCWZhY20gPSAxLjAgLSBmYWN0Ow0KDQoJaW5jb2wgPSAoZmFjbSArIGZhY3QgKiB0ZXhjb2wpICogb3V0Y29sOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX3NjcmVlbih2ZWMzIG91dGNvbCwgdmVjMyB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCB2ZWMzIGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoNCglmYWN0ICo9IGZhY2c7DQoJZmFjbSA9IDEuMCAtIGZhY3Q7DQoNCglpbmNvbCA9IHZlYzMoMS4wKSAtICh2ZWMzKGZhY20pICsgZmFjdCAqICh2ZWMzKDEuMCkgLSB0ZXhjb2wpKSAqICh2ZWMzKDEuMCkgLSBvdXRjb2wpOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX292ZXJsYXkodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCglmbG9hdCBmYWNtOw0KDQoJZmFjdCAqPSBmYWNnOw0KCWZhY20gPSAxLjAgLSBmYWN0Ow0KDQoJaWYgKG91dGNvbC5yIDwgMC41KQ0KCQlpbmNvbC5yID0gb3V0Y29sLnIgKiAoZmFjbSArIDIuMCAqIGZhY3QgKiB0ZXhjb2wucik7DQoJZWxzZQ0KCQlpbmNvbC5yID0gMS4wIC0gKGZhY20gKyAyLjAgKiBmYWN0ICogKDEuMCAtIHRleGNvbC5yKSkgKiAoMS4wIC0gb3V0Y29sLnIpOw0KDQoJaWYgKG91dGNvbC5nIDwgMC41KQ0KCQlpbmNvbC5nID0gb3V0Y29sLmcgKiAoZmFjbSArIDIuMCAqIGZhY3QgKiB0ZXhjb2wuZyk7DQoJZWxzZQ0KCQlpbmNvbC5nID0gMS4wIC0gKGZhY20gKyAyLjAgKiBmYWN0ICogKDEuMCAtIHRleGNvbC5nKSkgKiAoMS4wIC0gb3V0Y29sLmcpOw0KDQoJaWYgKG91dGNvbC5iIDwgMC41KQ0KCQlpbmNvbC5iID0gb3V0Y29sLmIgKiAoZmFjbSArIDIuMCAqIGZhY3QgKiB0ZXhjb2wuYik7DQoJZWxzZQ0KCQlpbmNvbC5iID0gMS4wIC0gKGZhY20gKyAyLjAgKiBmYWN0ICogKDEuMCAtIHRleGNvbC5iKSkgKiAoMS4wIC0gb3V0Y29sLmIpOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX3N1Yih2ZWMzIG91dGNvbCwgdmVjMyB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCB2ZWMzIGluY29sKQ0Kew0KCWluY29sID0gLWZhY3QgKiBmYWNnICogdGV4Y29sICsgb3V0Y29sOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX2FkZCh2ZWMzIG91dGNvbCwgdmVjMyB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCB2ZWMzIGluY29sKQ0Kew0KCWluY29sID0gZmFjdCAqIGZhY2cgKiB0ZXhjb2wgKyBvdXRjb2w7DQp9DQoNCnZvaWQgbXRleF9yZ2JfZGl2KHZlYzMgb3V0Y29sLCB2ZWMzIHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IHZlYzMgaW5jb2wpDQp7DQoJZmxvYXQgZmFjbTsNCg0KCWZhY3QgKj0gZmFjZzsNCglmYWNtID0gMS4wIC0gZmFjdDsNCg0KCWlmICh0ZXhjb2wuciAhPSAwLjApIGluY29sLnIgPSBmYWNtICogb3V0Y29sLnIgKyBmYWN0ICogb3V0Y29sLnIgLyB0ZXhjb2wucjsNCglpZiAodGV4Y29sLmcgIT0gMC4wKSBpbmNvbC5nID0gZmFjbSAqIG91dGNvbC5nICsgZmFjdCAqIG91dGNvbC5nIC8gdGV4Y29sLmc7DQoJaWYgKHRleGNvbC5iICE9IDAuMCkgaW5jb2wuYiA9IGZhY20gKiBvdXRjb2wuYiArIGZhY3QgKiBvdXRjb2wuYiAvIHRleGNvbC5iOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX2RpZmYodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCglmbG9hdCBmYWNtOw0KDQoJZmFjdCAqPSBmYWNnOw0KCWZhY20gPSAxLjAgLSBmYWN0Ow0KDQoJaW5jb2wgPSBmYWNtICogb3V0Y29sICsgZmFjdCAqIGFicyh0ZXhjb2wgLSBvdXRjb2wpOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX2RhcmsodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCglmbG9hdCBmYWNtLCBjb2w7DQoNCglmYWN0ICo9IGZhY2c7DQoJZmFjbSA9IDEuMCAtIGZhY3Q7DQoNCglpbmNvbC5yID0gbWluKG91dGNvbC5yLCB0ZXhjb2wucikgKiBmYWN0ICsgb3V0Y29sLnIgKiBmYWNtOw0KCWluY29sLmcgPSBtaW4ob3V0Y29sLmcsIHRleGNvbC5nKSAqIGZhY3QgKyBvdXRjb2wuZyAqIGZhY207DQoJaW5jb2wuYiA9IG1pbihvdXRjb2wuYiwgdGV4Y29sLmIpICogZmFjdCArIG91dGNvbC5iICogZmFjbTsNCn0NCg0Kdm9pZCBtdGV4X3JnYl9saWdodCh2ZWMzIG91dGNvbCwgdmVjMyB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCB2ZWMzIGluY29sKQ0Kew0KCWZsb2F0IGZhY20sIGNvbDsNCg0KCWZhY3QgKj0gZmFjZzsNCg0KCWNvbCA9IGZhY3QgKiB0ZXhjb2wucjsNCglpZiAoY29sID4gb3V0Y29sLnIpIGluY29sLnIgPSBjb2w7IGVsc2UgaW5jb2wuciA9IG91dGNvbC5yOw0KCWNvbCA9IGZhY3QgKiB0ZXhjb2wuZzsNCglpZiAoY29sID4gb3V0Y29sLmcpIGluY29sLmcgPSBjb2w7IGVsc2UgaW5jb2wuZyA9IG91dGNvbC5nOw0KCWNvbCA9IGZhY3QgKiB0ZXhjb2wuYjsNCglpZiAoY29sID4gb3V0Y29sLmIpIGluY29sLmIgPSBjb2w7IGVsc2UgaW5jb2wuYiA9IG91dGNvbC5iOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX2h1ZSh2ZWMzIG91dGNvbCwgdmVjMyB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCB2ZWMzIGluY29sKQ0Kew0KCXZlYzQgY29sOw0KDQoJbWl4X2h1ZShmYWN0ICogZmFjZywgdmVjNChvdXRjb2wsIDEuMCksIHZlYzQodGV4Y29sLCAxLjApLCBjb2wpOw0KCWluY29sLnJnYiA9IGNvbC5yZ2I7DQp9DQoNCnZvaWQgbXRleF9yZ2Jfc2F0KHZlYzMgb3V0Y29sLCB2ZWMzIHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IHZlYzMgaW5jb2wpDQp7DQoJdmVjNCBjb2w7DQoNCgltaXhfc2F0KGZhY3QgKiBmYWNnLCB2ZWM0KG91dGNvbCwgMS4wKSwgdmVjNCh0ZXhjb2wsIDEuMCksIGNvbCk7DQoJaW5jb2wucmdiID0gY29sLnJnYjsNCn0NCg0Kdm9pZCBtdGV4X3JnYl92YWwodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCgl2ZWM0IGNvbDsNCg0KCW1peF92YWwoZmFjdCAqIGZhY2csIHZlYzQob3V0Y29sLCAxLjApLCB2ZWM0KHRleGNvbCwgMS4wKSwgY29sKTsNCglpbmNvbC5yZ2IgPSBjb2wucmdiOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX2NvbG9yKHZlYzMgb3V0Y29sLCB2ZWMzIHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IHZlYzMgaW5jb2wpDQp7DQoJdmVjNCBjb2w7DQoNCgltaXhfY29sb3IoZmFjdCAqIGZhY2csIHZlYzQob3V0Y29sLCAxLjApLCB2ZWM0KHRleGNvbCwgMS4wKSwgY29sKTsNCglpbmNvbC5yZ2IgPSBjb2wucmdiOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX3NvZnQodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCgl2ZWM0IGNvbDsNCg0KCW1peF9zb2Z0KGZhY3QgKiBmYWNnLCB2ZWM0KG91dGNvbCwgMS4wKSwgdmVjNCh0ZXhjb2wsIDEuMCksIGNvbCk7DQoJaW5jb2wucmdiID0gY29sLnJnYjsNCn0NCg0Kdm9pZCBtdGV4X3JnYl9saW5lYXIodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCglmYWN0ICo9IGZhY2c7DQoNCglpZiAodGV4Y29sLnIgPiAwLjUpDQoJCWluY29sLnIgPSBvdXRjb2wuciArIGZhY3QgKiAoMi4wICogKHRleGNvbC5yIC0gMC41KSk7DQoJZWxzZQ0KCQlpbmNvbC5yID0gb3V0Y29sLnIgKyBmYWN0ICogKDIuMCAqICh0ZXhjb2wucikgLSAxLjApOw0KDQoJaWYgKHRleGNvbC5nID4gMC41KQ0KCQlpbmNvbC5nID0gb3V0Y29sLmcgKyBmYWN0ICogKDIuMCAqICh0ZXhjb2wuZyAtIDAuNSkpOw0KCWVsc2UNCgkJaW5jb2wuZyA9IG91dGNvbC5nICsgZmFjdCAqICgyLjAgKiAodGV4Y29sLmcpIC0gMS4wKTsNCg0KCWlmICh0ZXhjb2wuYiA+IDAuNSkNCgkJaW5jb2wuYiA9IG91dGNvbC5iICsgZmFjdCAqICgyLjAgKiAodGV4Y29sLmIgLSAwLjUpKTsNCgllbHNlDQoJCWluY29sLmIgPSBvdXRjb2wuYiArIGZhY3QgKiAoMi4wICogKHRleGNvbC5iKSAtIDEuMCk7DQp9DQoNCnZvaWQgbXRleF92YWx1ZV92YXJzKGlub3V0IGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCBmbG9hdCBmYWNtKQ0Kew0KCWZhY3QgKj0gYWJzKGZhY2cpOw0KCWZhY20gPSAxLjAgLSBmYWN0Ow0KDQoJaWYgKGZhY2cgPCAwLjApIHsNCgkJZmxvYXQgdG1wID0gZmFjdDsNCgkJZmFjdCA9IGZhY207DQoJCWZhY20gPSB0bXA7DQoJfQ0KfQ0KDQp2b2lkIG10ZXhfdmFsdWVfYmxlbmQoZmxvYXQgb3V0Y29sLCBmbG9hdCB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCBmbG9hdCBpbmNvbCkNCnsNCglmbG9hdCBmYWNtOw0KCW10ZXhfdmFsdWVfdmFycyhmYWN0LCBmYWNnLCBmYWNtKTsNCg0KCWluY29sID0gZmFjdCAqIHRleGNvbCArIGZhY20gKiBvdXRjb2w7DQp9DQoNCnZvaWQgbXRleF92YWx1ZV9tdWwoZmxvYXQgb3V0Y29sLCBmbG9hdCB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCBmbG9hdCBpbmNvbCkNCnsNCglmbG9hdCBmYWNtOw0KCW10ZXhfdmFsdWVfdmFycyhmYWN0LCBmYWNnLCBmYWNtKTsNCg0KCWZhY20gPSAxLjAgLSBmYWNnOw0KCWluY29sID0gKGZhY20gKyBmYWN0ICogdGV4Y29sKSAqIG91dGNvbDsNCn0NCg0Kdm9pZCBtdGV4X3ZhbHVlX3NjcmVlbihmbG9hdCBvdXRjb2wsIGZsb2F0IHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IGZsb2F0IGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoJbXRleF92YWx1ZV92YXJzKGZhY3QsIGZhY2csIGZhY20pOw0KDQoJZmFjbSA9IDEuMCAtIGZhY2c7DQoJaW5jb2wgPSAxLjAgLSAoZmFjbSArIGZhY3QgKiAoMS4wIC0gdGV4Y29sKSkgKiAoMS4wIC0gb3V0Y29sKTsNCn0NCg0Kdm9pZCBtdGV4X3ZhbHVlX3N1YihmbG9hdCBvdXRjb2wsIGZsb2F0IHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IGZsb2F0IGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoJbXRleF92YWx1ZV92YXJzKGZhY3QsIGZhY2csIGZhY20pOw0KDQoJZmFjdCA9IC1mYWN0Ow0KCWluY29sID0gZmFjdCAqIHRleGNvbCArIG91dGNvbDsNCn0NCg0Kdm9pZCBtdGV4X3ZhbHVlX2FkZChmbG9hdCBvdXRjb2wsIGZsb2F0IHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IGZsb2F0IGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoJbXRleF92YWx1ZV92YXJzKGZhY3QsIGZhY2csIGZhY20pOw0KDQoJZmFjdCA9IGZhY3Q7DQoJaW5jb2wgPSBmYWN0ICogdGV4Y29sICsgb3V0Y29sOw0KfQ0KDQp2b2lkIG10ZXhfdmFsdWVfZGl2KGZsb2F0IG91dGNvbCwgZmxvYXQgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgZmxvYXQgaW5jb2wpDQp7DQoJZmxvYXQgZmFjbTsNCgltdGV4X3ZhbHVlX3ZhcnMoZmFjdCwgZmFjZywgZmFjbSk7DQoNCglpZiAodGV4Y29sICE9IDAuMCkNCgkJaW5jb2wgPSBmYWNtICogb3V0Y29sICsgZmFjdCAqIG91dGNvbCAvIHRleGNvbDsNCgllbHNlDQoJCWluY29sID0gMC4wOw0KfQ0KDQp2b2lkIG10ZXhfdmFsdWVfZGlmZihmbG9hdCBvdXRjb2wsIGZsb2F0IHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IGZsb2F0IGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoJbXRleF92YWx1ZV92YXJzKGZhY3QsIGZhY2csIGZhY20pOw0KDQoJaW5jb2wgPSBmYWNtICogb3V0Y29sICsgZmFjdCAqIGFicyh0ZXhjb2wgLSBvdXRjb2wpOw0KfQ0KDQp2b2lkIG10ZXhfdmFsdWVfZGFyayhmbG9hdCBvdXRjb2wsIGZsb2F0IHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IGZsb2F0IGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoJbXRleF92YWx1ZV92YXJzKGZhY3QsIGZhY2csIGZhY20pOw0KDQoJaW5jb2wgPSBmYWNtICogb3V0Y29sICsgZmFjdCAqIG1pbihvdXRjb2wsIHRleGNvbCk7DQp9DQoNCnZvaWQgbXRleF92YWx1ZV9saWdodChmbG9hdCBvdXRjb2wsIGZsb2F0IHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IGZsb2F0IGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoJbXRleF92YWx1ZV92YXJzKGZhY3QsIGZhY2csIGZhY20pOw0KDQoJZmxvYXQgY29sID0gZmFjdCAqIHRleGNvbDsNCglpZiAoY29sID4gb3V0Y29sKSBpbmNvbCA9IGNvbDsgZWxzZSBpbmNvbCA9IG91dGNvbDsNCn0NCg0Kdm9pZCBtdGV4X3ZhbHVlX2NsYW1wX3Bvc2l0aXZlKGZsb2F0IGZhYywgb3V0IGZsb2F0IG91dGZhYykNCnsNCglvdXRmYWMgPSBtYXgoZmFjLCAwLjApOw0KfQ0KDQp2b2lkIG10ZXhfdmFsdWVfY2xhbXAoZmxvYXQgZmFjLCBvdXQgZmxvYXQgb3V0ZmFjKQ0Kew0KCW91dGZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KfQ0KDQp2b2lkIG10ZXhfaGFyX2RpdmlkZShmbG9hdCBoYXIsIG91dCBmbG9hdCBvdXRoYXIpDQp7DQoJb3V0aGFyID0gaGFyIC8gMTI4LjA7DQp9DQoNCnZvaWQgbXRleF9oYXJfbXVsdGlwbHlfY2xhbXAoZmxvYXQgaGFyLCBvdXQgZmxvYXQgb3V0aGFyKQ0Kew0KCWhhciAqPSAxMjguMDsNCg0KCWlmIChoYXIgPCAxLjApIG91dGhhciA9IDEuMDsNCgllbHNlIGlmIChoYXIgPiA1MTEuMCkgb3V0aGFyID0gNTExLjA7DQoJZWxzZSBvdXRoYXIgPSBoYXI7DQp9DQoNCnZvaWQgbXRleF9hbHBoYV9mcm9tX2NvbCh2ZWM0IGNvbCwgb3V0IGZsb2F0IGFscGhhKQ0Kew0KCWFscGhhID0gY29sLmE7DQp9DQoNCnZvaWQgbXRleF9hbHBoYV90b19jb2wodmVjNCBjb2wsIGZsb2F0IGFscGhhLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJb3V0Y29sID0gdmVjNChjb2wucmdiLCBhbHBoYSk7DQp9DQoNCnZvaWQgbXRleF9hbHBoYV9tdWx0aXBseV92YWx1ZSh2ZWM0IGNvbCwgZmxvYXQgdmFsdWUsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglvdXRjb2wgPSB2ZWM0KGNvbC5yZ2IsIGNvbC5hICogdmFsdWUpOw0KfQ0KDQp2b2lkIG10ZXhfcmdidG9pbnQodmVjNCByZ2IsIG91dCBmbG9hdCBpbnRlbnNpdHkpDQp7DQoJaW50ZW5zaXR5ID0gZG90KHZlYzMoMC4zNSwgMC40NSwgMC4yKSwgcmdiLnJnYik7DQp9DQoNCnZvaWQgbXRleF92YWx1ZV9pbnZlcnQoZmxvYXQgaW52YWx1ZSwgb3V0IGZsb2F0IG91dHZhbHVlKQ0Kew0KCW91dHZhbHVlID0gMS4wIC0gaW52YWx1ZTsNCn0NCg0Kdm9pZCBtdGV4X3JnYl9pbnZlcnQodmVjNCBpbnJnYiwgb3V0IHZlYzQgb3V0cmdiKQ0Kew0KCW91dHJnYiA9IHZlYzQodmVjMygxLjApIC0gaW5yZ2IucmdiLCBpbnJnYi5hKTsNCn0NCg0Kdm9pZCBtdGV4X3ZhbHVlX3N0ZW5jaWwoZmxvYXQgc3RlbmNpbCwgZmxvYXQgaW50ZW5zaXR5LCBvdXQgZmxvYXQgb3V0c3RlbmNpbCwgb3V0IGZsb2F0IG91dGludGVuc2l0eSkNCnsNCglmbG9hdCBmYWN0ID0gaW50ZW5zaXR5Ow0KCW91dGludGVuc2l0eSA9IGludGVuc2l0eSAqIHN0ZW5jaWw7DQoJb3V0c3RlbmNpbCA9IHN0ZW5jaWwgKiBmYWN0Ow0KfQ0KDQp2b2lkIG10ZXhfcmdiX3N0ZW5jaWwoZmxvYXQgc3RlbmNpbCwgdmVjNCByZ2IsIG91dCBmbG9hdCBvdXRzdGVuY2lsLCBvdXQgdmVjNCBvdXRyZ2IpDQp7DQoJZmxvYXQgZmFjdCA9IHJnYi5hOw0KCW91dHJnYiA9IHZlYzQocmdiLnJnYiwgcmdiLmEgKiBzdGVuY2lsKTsNCglvdXRzdGVuY2lsID0gc3RlbmNpbCAqIGZhY3Q7DQp9DQoNCnZvaWQgbXRleF9tYXBwaW5nX29mcyh2ZWMzIHRleGNvLCB2ZWMzIG9mcywgb3V0IHZlYzMgb3V0dGV4Y28pDQp7DQoJb3V0dGV4Y28gPSB0ZXhjbyArIG9mczsNCn0NCg0Kdm9pZCBtdGV4X21hcHBpbmdfc2l6ZSh2ZWMzIHRleGNvLCB2ZWMzIHNpemUsIG91dCB2ZWMzIG91dHRleGNvKQ0Kew0KCW91dHRleGNvID0gc2l6ZSAqIHRleGNvOw0KfQ0KDQp2b2lkIG10ZXhfMmRfbWFwcGluZyh2ZWMzIHZlYywgb3V0IHZlYzMgb3V0dmVjKQ0Kew0KCW91dHZlYyA9IHZlYzModmVjLnh5ICogMC41ICsgdmVjMigwLjUpLCB2ZWMueik7DQp9DQoNCnZlYzMgbXRleF8yZF9tYXBwaW5nKHZlYzMgdmVjKQ0Kew0KCXJldHVybiB2ZWMzKHZlYy54eSAqIDAuNSArIHZlYzIoMC41KSwgdmVjLnopOw0KfQ0KDQp2b2lkIG10ZXhfY3ViZV9tYXAodmVjMyBjbywgc2FtcGxlckN1YmUgaW1hLCBvdXQgZmxvYXQgdmFsdWUsIG91dCB2ZWM0IGNvbG9yKQ0Kew0KCWNvbG9yID0gdGV4dHVyZUN1YmUoaW1hLCBjbyk7DQoJdmFsdWUgPSAxLjA7DQp9DQoNCnZvaWQgbXRleF9jdWJlX21hcF9yZWZsX2Zyb21fcmVmbGRpcigNCiAgICAgICAgc2FtcGxlckN1YmUgaW1hLCB2ZWMzIHJlZmxlY3RlZGRpcmVjdGlvbiwgb3V0IGZsb2F0IHZhbHVlLCBvdXQgdmVjNCBjb2xvcikNCnsNCiAgICAgICAgY29sb3IgPSB0ZXh0dXJlQ3ViZShpbWEsIHJlZmxlY3RlZGRpcmVjdGlvbik7DQogICAgICAgIHZhbHVlID0gY29sb3IuYTsNCn0NCg0Kdm9pZCBtdGV4X2N1YmVfbWFwX3JlZmwoDQogICAgICAgIHNhbXBsZXJDdWJlIGltYSwgdmVjMyB2cCwgdmVjMyB2biwgbWF0NCB2aWV3bWF0cml4aW52ZXJzZSwgbWF0NCB2aWV3bWF0cml4LA0KICAgICAgICBvdXQgZmxvYXQgdmFsdWUsIG91dCB2ZWM0IGNvbG9yKQ0Kew0KCXZlYzMgdmlld2RpcmVjdGlvbiA9IHZlYzModmlld21hdHJpeGludmVyc2UgKiB2ZWM0KHZwLCAwLjApKTsNCgl2ZWMzIG5vcm1hbGRpcmVjdGlvbiA9IG5vcm1hbGl6ZSh2ZWMzKHZlYzQodm4sIDAuMCkgKiB2aWV3bWF0cml4KSk7DQoJdmVjMyByZWZsZWN0ZWRkaXJlY3Rpb24gPSByZWZsZWN0KHZpZXdkaXJlY3Rpb24sIG5vcm1hbGRpcmVjdGlvbik7DQoJY29sb3IgPSB0ZXh0dXJlQ3ViZShpbWEsIHJlZmxlY3RlZGRpcmVjdGlvbik7DQoJdmFsdWUgPSAxLjA7DQp9DQoNCnZvaWQgbXRleF9pbWFnZSh2ZWMzIHRleGNvLCBzYW1wbGVyMkQgaW1hLCBvdXQgZmxvYXQgdmFsdWUsIG91dCB2ZWM0IGNvbG9yKQ0Kew0KCWNvbG9yID0gdGV4dHVyZTJEKGltYSwgdGV4Y28ueHkpOw0KCXZhbHVlID0gMS4wOw0KfQ0KDQp2b2lkIG10ZXhfbm9ybWFsKHZlYzMgdGV4Y28sIHNhbXBsZXIyRCBpbWEsIG91dCB2ZWMzIG5vcm1hbCkNCnsNCgkvLyBUaGUgaW52ZXJ0IG9mIHRoZSByZWQgY2hhbm5lbCBpcyB0byBtYWtlDQoJLy8gdGhlIG5vcm1hbCBtYXAgY29tcGxpYW50IHdpdGggdGhlIG91dHNpZGUgd29ybGQuDQoJLy8gSXQgbmVlZHMgdG8gYmUgZG9uZSBiZWNhdXNlIHZhcnlpbmcgQmxlbmRlcg0KCS8vIHRoZSBub3JtYWwgdXNlZCBwb2ludHMgaW53YXJkLg0KCS8vIFNob3VsZCB0aGlzIGV2ZXIgY2hhbmdlIHRoaXMgbmVnYXRlIG11c3QgYmUgcmVtb3ZlZC4NCgl2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKGltYSwgdGV4Y28ueHkpOw0KCW5vcm1hbCA9IDIuMCAqICh2ZWMzKC1jb2xvci5yLCBjb2xvci5nLCBjb2xvci5iKSAtIHZlYzMoLTAuNSwgMC41LCAwLjUpKTsNCn0NCg0Kdm9pZCBtdGV4X2J1bXBfbm9ybWFsc19pbml0KHZlYzMgdk4sIG91dCB2ZWMzIHZOb3JnLCBvdXQgdmVjMyB2TmFjYywgb3V0IGZsb2F0IGZQcmV2TWFnbml0dWRlKQ0Kew0KCXZOb3JnID0gdk47DQoJdk5hY2MgPSB2TjsNCglmUHJldk1hZ25pdHVkZSA9IDEuMDsNCn0NCg0KLyoqIGhlbHBlciBtZXRob2QgdG8gZXh0cmFjdCB0aGUgdXBwZXIgbGVmdCAzeDMgbWF0cml4IGZyb20gYSA0eDQgbWF0cml4ICovDQptYXQzIHRvX21hdDMobWF0NCBtNCkNCnsNCgltYXQzIG0zOw0KCW0zWzBdID0gbTRbMF0ueHl6Ow0KCW0zWzFdID0gbTRbMV0ueHl6Ow0KCW0zWzJdID0gbTRbMl0ueHl6Ow0KCXJldHVybiBtMzsNCn0NCg0Kdm9pZCBtdGV4X2J1bXBfaW5pdF9vYmpzcGFjZSgNCiAgICAgICAgdmVjMyBzdXJmX3BvcywgdmVjMyBzdXJmX25vcm0sDQogICAgICAgIG1hdDQgbVZpZXcsIG1hdDQgbVZpZXdJbnYsIG1hdDQgbU9iaiwgbWF0NCBtT2JqSW52LA0KICAgICAgICBmbG9hdCBmUHJldk1hZ25pdHVkZV9pbiwgdmVjMyB2TmFjY19pbiwNCiAgICAgICAgb3V0IGZsb2F0IGZQcmV2TWFnbml0dWRlX291dCwgb3V0IHZlYzMgdk5hY2Nfb3V0LA0KICAgICAgICBvdXQgdmVjMyB2UjEsIG91dCB2ZWMzIHZSMiwgb3V0IGZsb2F0IGZEZXQpDQp7DQoJbWF0MyBvYmoydmlldyA9IHRvX21hdDMoYmxfTW9kZWxWaWV3TWF0cml4KTsNCgltYXQzIHZpZXcyb2JqID0gdG9fbWF0MyhibF9Nb2RlbFZpZXdNYXRyaXhJbnZlcnNlKTsNCg0KCXZlYzMgdlNpZ21hUyA9IHZpZXcyb2JqICogZEZkeChzdXJmX3Bvcyk7DQoJdmVjMyB2U2lnbWFUID0gdmlldzJvYmogKiBkRmR5KHN1cmZfcG9zKTsNCgl2ZWMzIHZOID0gbm9ybWFsaXplKHN1cmZfbm9ybSAqIG9iajJ2aWV3KTsNCg0KCXZSMSA9IGNyb3NzKHZTaWdtYVQsIHZOKTsNCgl2UjIgPSBjcm9zcyh2TiwgdlNpZ21hUyk7DQoJZkRldCA9IGRvdCh2U2lnbWFTLCB2UjEpOw0KDQoJLyogcHJldHJhbnNmb3JtIHZOYWNjICh2YXJ5aW5nIG10ZXhfYnVtcF9hcHBseSkgdXNpbmcgdGhlIGludmVyc2UgdHJhbnNwb3NlZCAqLw0KCXZSMSA9IHZSMSAqIHZpZXcyb2JqOw0KCXZSMiA9IHZSMiAqIHZpZXcyb2JqOw0KCXZOID0gdk4gKiB2aWV3Mm9iajsNCg0KCWZsb2F0IGZNYWduaXR1ZGUgPSBhYnMoZkRldCkgKiBsZW5ndGgodk4pOw0KCXZOYWNjX291dCA9IHZOYWNjX2luICogKGZNYWduaXR1ZGUgLyBmUHJldk1hZ25pdHVkZV9pbik7DQoJZlByZXZNYWduaXR1ZGVfb3V0ID0gZk1hZ25pdHVkZTsNCn0NCg0Kdm9pZCBtdGV4X2J1bXBfaW5pdF90ZXh0dXJlc3BhY2UoDQogICAgICAgIHZlYzMgc3VyZl9wb3MsIHZlYzMgc3VyZl9ub3JtLA0KICAgICAgICBmbG9hdCBmUHJldk1hZ25pdHVkZV9pbiwgdmVjMyB2TmFjY19pbiwNCiAgICAgICAgb3V0IGZsb2F0IGZQcmV2TWFnbml0dWRlX291dCwgb3V0IHZlYzMgdk5hY2Nfb3V0LA0KICAgICAgICBvdXQgdmVjMyB2UjEsIG91dCB2ZWMzIHZSMiwgb3V0IGZsb2F0IGZEZXQpDQp7DQoJdmVjMyB2U2lnbWFTID0gZEZkeChzdXJmX3Bvcyk7DQoJdmVjMyB2U2lnbWFUID0gZEZkeShzdXJmX3Bvcyk7DQoJdmVjMyB2TiA9IHN1cmZfbm9ybTsgLyogbm9ybWFsaXplZCBpbnRlcnBvbGF0ZWQgdmVydGV4IG5vcm1hbCAqLw0KDQoJdlIxID0gbm9ybWFsaXplKGNyb3NzKHZTaWdtYVQsIHZOKSk7DQoJdlIyID0gbm9ybWFsaXplKGNyb3NzKHZOLCB2U2lnbWFTKSk7DQoJZkRldCA9IHNpZ24oZG90KHZTaWdtYVMsIHZSMSkpOw0KDQoJZmxvYXQgZk1hZ25pdHVkZSA9IGFicyhmRGV0KTsNCgl2TmFjY19vdXQgPSB2TmFjY19pbiAqIChmTWFnbml0dWRlIC8gZlByZXZNYWduaXR1ZGVfaW4pOw0KCWZQcmV2TWFnbml0dWRlX291dCA9IGZNYWduaXR1ZGU7DQp9DQoNCnZvaWQgbXRleF9idW1wX2luaXRfdmlld3NwYWNlKA0KICAgICAgICB2ZWMzIHN1cmZfcG9zLCB2ZWMzIHN1cmZfbm9ybSwNCiAgICAgICAgZmxvYXQgZlByZXZNYWduaXR1ZGVfaW4sIHZlYzMgdk5hY2NfaW4sDQogICAgICAgIG91dCBmbG9hdCBmUHJldk1hZ25pdHVkZV9vdXQsIG91dCB2ZWMzIHZOYWNjX291dCwNCiAgICAgICAgb3V0IHZlYzMgdlIxLCBvdXQgdmVjMyB2UjIsIG91dCBmbG9hdCBmRGV0KQ0Kew0KCXZlYzMgdlNpZ21hUyA9IGRGZHgoc3VyZl9wb3MpOw0KCXZlYzMgdlNpZ21hVCA9IGRGZHkoc3VyZl9wb3MpOw0KCXZlYzMgdk4gPSBzdXJmX25vcm07IC8qIG5vcm1hbGl6ZWQgaW50ZXJwb2xhdGVkIHZlcnRleCBub3JtYWwgKi8NCg0KCXZSMSA9IGNyb3NzKHZTaWdtYVQsIHZOKTsNCgl2UjIgPSBjcm9zcyh2TiwgdlNpZ21hUyk7DQoJZkRldCA9IGRvdCh2U2lnbWFTLCB2UjEpOw0KDQoJZmxvYXQgZk1hZ25pdHVkZSA9IGFicyhmRGV0KTsNCgl2TmFjY19vdXQgPSB2TmFjY19pbiAqIChmTWFnbml0dWRlIC8gZlByZXZNYWduaXR1ZGVfaW4pOw0KCWZQcmV2TWFnbml0dWRlX291dCA9IGZNYWduaXR1ZGU7DQp9DQoNCnZvaWQgbXRleF9idW1wX3RhcDMoDQogICAgICAgIHZlYzMgdGV4Y28sIHNhbXBsZXIyRCBpbWEsIGZsb2F0IGhTY2FsZSwNCiAgICAgICAgb3V0IGZsb2F0IGRCcywgb3V0IGZsb2F0IGRCdCkNCnsNCgl2ZWMyIFNUbGwgPSB0ZXhjby54eTsNCgl2ZWMyIFNUbHIgPSB0ZXhjby54eSArIGRGZHgodGV4Y28ueHkpOw0KCXZlYzIgU1R1bCA9IHRleGNvLnh5ICsgZEZkeSh0ZXhjby54eSk7DQoNCglmbG9hdCBIbGwsIEhsciwgSHVsOw0KCXJnYnRvYncodGV4dHVyZTJEKGltYSwgU1RsbCksIEhsbCk7DQoJcmdidG9idyh0ZXh0dXJlMkQoaW1hLCBTVGxyKSwgSGxyKTsNCglyZ2J0b2J3KHRleHR1cmUyRChpbWEsIFNUdWwpLCBIdWwpOw0KDQoJZEJzID0gaFNjYWxlICogKEhsciAtIEhsbCk7DQoJZEJ0ID0gaFNjYWxlICogKEh1bCAtIEhsbCk7DQp9DQoNCiNpZmRlZiBCVU1QX0JJQ1VCSUMNCg0Kdm9pZCBtdGV4X2J1bXBfYmljdWJpYygNCiAgICAgICAgdmVjMyB0ZXhjbywgc2FtcGxlcjJEIGltYSwgZmxvYXQgaFNjYWxlLA0KICAgICAgICBvdXQgZmxvYXQgZEJzLCBvdXQgZmxvYXQgZEJ0ICkNCnsNCglmbG9hdCBIbDsNCglmbG9hdCBIcjsNCglmbG9hdCBIZDsNCglmbG9hdCBIdTsNCg0KCXZlYzIgVGV4RHggPSBkRmR4KHRleGNvLnh5KTsNCgl2ZWMyIFRleER5ID0gZEZkeSh0ZXhjby54eSk7DQoNCgl2ZWMyIFNUbCA9IHRleGNvLnh5IC0gMC41ICogVGV4RHg7DQoJdmVjMiBTVHIgPSB0ZXhjby54eSArIDAuNSAqIFRleER4Ow0KCXZlYzIgU1RkID0gdGV4Y28ueHkgLSAwLjUgKiBUZXhEeTsNCgl2ZWMyIFNUdSA9IHRleGNvLnh5ICsgMC41ICogVGV4RHk7DQoNCglyZ2J0b2J3KHRleHR1cmUyRChpbWEsIFNUbCksIEhsKTsNCglyZ2J0b2J3KHRleHR1cmUyRChpbWEsIFNUciksIEhyKTsNCglyZ2J0b2J3KHRleHR1cmUyRChpbWEsIFNUZCksIEhkKTsNCglyZ2J0b2J3KHRleHR1cmUyRChpbWEsIFNUdSksIEh1KTsNCg0KCXZlYzIgZEhkeHkgPSB2ZWMyKEhyIC0gSGwsIEh1IC0gSGQpOw0KCWZsb2F0IGZCbGVuZCA9IGNsYW1wKDEuMCAtIHRleHR1cmVRdWVyeUxPRChpbWEsIHRleGNvLnh5KS54LCAwLjAsIDEuMCk7DQoJaWYgKGZCbGVuZCAhPSAwLjApIHsNCgkJLy8gdGhlIGRlcml2YXRpdmUgb2YgdGhlIGJpY3ViaWMgc2FtcGxpbmcgb2YgbGV2ZWwgMA0KCQlpdmVjMiB2RGltOw0KCQl2RGltID0gdGV4dHVyZVNpemUoaW1hLCAwKTsNCg0KCQkvLyB0YWtpbmcgdGhlIGZyYWN0IHBhcnQgb2YgdGhlIHRleHR1cmUgY29vcmRpbmF0ZSBpcyBhIGhhcmRjb2RlZCB3cmFwIG1vZGUuDQoJCS8vIHRoaXMgaXMgYWNjZXB0YWJsZSBhcyB0ZXh0dXJlcyB1c2Ugd3JhcCBtb2RlIGV4Y2x1c2l2ZWx5IHZhcnlpbmcgM0QgdmlldyBlbHNld2hlcmUgdmFyeWluZyBibGVuZGVyLg0KCQkvLyB0aGlzIGlzIGRvbmUgc28gdGhhdCB3ZSBjYW4gc3RpbGwgZ2V0IGEgdmFsaWQgdGV4ZWwgd2l0aCB1dnMgb3V0c2lkZSB0aGUgMCwxIHJhbmdlDQoJCS8vIGJ5IHRleGVsRmV0Y2ggYmVsb3csIGFzIGNvb3JkaW5hdGVzIGFyZSBjbGFtcGVkIHdoZW4gdXNpbmcgdGhpcyBmdW5jdGlvbi4NCgkJdmVjMiBmVGV4TG9jID0gdkRpbSAqIGZyYWN0KHRleGNvLnh5KSAtIHZlYzIoMC41LCAwLjUpOw0KCQlpdmVjMiBpVGV4TG9jID0gaXZlYzIoZmxvb3IoZlRleExvYykpOw0KCQl2ZWMyIHQgPSBjbGFtcChmVGV4TG9jIC0gaVRleExvYywgMC4wLCAxLjApOyAgICAgICAgLy8gc2F0IGp1c3QgdG8gYmUgcGVkYW50aWMNCg0KLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiAqIFRoaXMgYmxvY2sgd2lsbCByZXBsYWNlIHRoZSBvbmUgYmVsb3cgd2hlbiBvbmUgY2hhbm5lbCB0ZXh0dXJlcyBhcmUgcHJvcGVybHkgc3VwcG9ydGVkLiAqDQogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KCQl2ZWM0IHZTYW1wbGVzVUwgPSB0ZXh0dXJlR2F0aGVyKGltYSwgKGlUZXhMb2MraXZlYzIoLTEsLTEpICsgdmVjMigwLjUsMC41KSkvdkRpbSk7DQoJCXZlYzQgdlNhbXBsZXNVUiA9IHRleHR1cmVHYXRoZXIoaW1hLCAoaVRleExvYytpdmVjMigxLC0xKSArIHZlYzIoMC41LDAuNSkpL3ZEaW0pOw0KCQl2ZWM0IHZTYW1wbGVzTEwgPSB0ZXh0dXJlR2F0aGVyKGltYSwgKGlUZXhMb2MraXZlYzIoLTEsMSkgKyB2ZWMyKDAuNSwwLjUpKS92RGltKTsNCgkJdmVjNCB2U2FtcGxlc0xSID0gdGV4dHVyZUdhdGhlcihpbWEsIChpVGV4TG9jK2l2ZWMyKDEsMSkgKyB2ZWMyKDAuNSwwLjUpKS92RGltKTsNCg0KCQltYXQ0IEggPSBtYXQ0KHZTYW1wbGVzVUwudywgdlNhbXBsZXNVTC54LCB2U2FtcGxlc0xMLncsIHZTYW1wbGVzTEwueCwNCgkJICAgICAgICAgICAgdlNhbXBsZXNVTC56LCB2U2FtcGxlc1VMLnksIHZTYW1wbGVzTEwueiwgdlNhbXBsZXNMTC55LA0KCQkgICAgICAgICAgICB2U2FtcGxlc1VSLncsIHZTYW1wbGVzVVIueCwgdlNhbXBsZXNMUi53LCB2U2FtcGxlc0xSLngsDQoJCSAgICAgICAgICAgIHZTYW1wbGVzVVIueiwgdlNhbXBsZXNVUi55LCB2U2FtcGxlc0xSLnosIHZTYW1wbGVzTFIueSk7DQogKi8NCgkJaXZlYzIgaVRleExvY01vZCA9IGlUZXhMb2MgKyBpdmVjMigtMSwgLTEpOw0KDQoJCW1hdDQgSDsNCg0KCQlmb3IgKGludCBpID0gMDsgaSA8IDQ7IGkrKykgew0KCQkJZm9yIChpbnQgaiA9IDA7IGogPCA0OyBqKyspIHsNCgkJCQlpdmVjMiBpVGV4VG1wID0gaVRleExvY01vZCArIGl2ZWMyKGksIGopOw0KDQoJCQkJLy8gd3JhcCB0ZXh0dXJlIGNvb3JkaW5hdGVzIG1hbnVhbGx5IGZvciB0ZXhlbEZldGNoIHRvIHdvcmsgb24gdXZzIG9pdHNpZGUgdGhlIDAsMSByYW5nZS4NCgkJCQkvLyB0aGlzIGlzIGd1YXJhbnRlZWQgdG8gd29yayBzaW5jZSB3ZSB0YWtlIHRoZSBmcmFjdGlvbmFsIHBhcnQgb2YgdGhlIHV2IGFib3ZlLg0KCQkJCWlUZXhUbXAueCA9IChpVGV4VG1wLnggPCAwKSA/IGlUZXhUbXAueCArIHZEaW0ueCA6ICgoaVRleFRtcC54ID49IHZEaW0ueCkgPyBpVGV4VG1wLnggLSB2RGltLnggOiBpVGV4VG1wLngpOw0KCQkJCWlUZXhUbXAueSA9IChpVGV4VG1wLnkgPCAwKSA/IGlUZXhUbXAueSArIHZEaW0ueSA6ICgoaVRleFRtcC55ID49IHZEaW0ueSkgPyBpVGV4VG1wLnkgLSB2RGltLnkgOiBpVGV4VG1wLnkpOw0KDQoJCQkJcmdidG9idyh0ZXhlbEZldGNoKGltYSwgaVRleFRtcCwgMCksIEhbaV1bal0pOw0KCQkJfQ0KCQl9DQoNCgkJZmxvYXQgeCA9IHQueCwgeSA9IHQueTsNCgkJZmxvYXQgeDIgPSB4ICogeCwgeDMgPSB4MiAqIHgsIHkyID0geSAqIHksIHkzID0geTIgKiB5Ow0KDQoJCXZlYzQgWCAgPSB2ZWM0KC0wLjUgKiAoeDMgKyB4KSArIHgyLCAgICAxLjUgKiB4MyAtIDIuNSAqIHgyICsgMSwgLTEuNSAqIHgzICsgMiAqIHgyICsgMC41ICogeCwgMC41ICogKHgzIC0geDIpKTsNCgkJdmVjNCBZICA9IHZlYzQoLTAuNSAqICh5MyArIHkpICsgeTIsICAgIDEuNSAqIHkzIC0gMi41ICogeTIgKyAxLCAtMS41ICogeTMgKyAyICogeTIgKyAwLjUgKiB5LCAwLjUgKiAoeTMgLSB5MikpOw0KCQl2ZWM0IGRYID0gdmVjNCgtMS41ICogeDIgKyAyICogeCAtIDAuNSwgNC41ICogeDIgLSA1ICogeCwgICAgICAgIC00LjUgKiB4MiArIDQgKiB4ICsgMC41LCAgICAgIDEuNSAqIHgyIC0geCk7DQoJCXZlYzQgZFkgPSB2ZWM0KC0xLjUgKiB5MiArIDIgKiB5IC0gMC41LCA0LjUgKiB5MiAtIDUgKiB5LCAgICAgICAgLTQuNSAqIHkyICsgNCAqIHkgKyAwLjUsICAgICAgMS41ICogeTIgLSB5KTsNCg0KCQkvLyBjb21wbGV0ZSBkZXJpdmF0aXZlIHZhcnlpbmcgbm9ybWFsaXplZCBjb29yZGluYXRlcyAobXVsIGJ5IHZEaW0pDQoJCXZlYzIgZEhkU1QgPSB2RGltICogdmVjMihkb3QoWSwgSCAqIGRYKSwgZG90KGRZLCBIICogWCkpOw0KDQoJCS8vIHRyYW5zZm9ybSBkZXJpdmF0aXZlIHRvIHNjcmVlbi1zcGFjZQ0KCQl2ZWMyIGRIZHh5X2JpY3ViaWMgPSB2ZWMyKGRIZFNULnggKiBUZXhEeC54ICsgZEhkU1QueSAqIFRleER4LnksDQoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgZEhkU1QueCAqIFRleER5LnggKyBkSGRTVC55ICogVGV4RHkueSk7DQoNCgkJLy8gYmxlbmQgYmV0d2VlbiB0aGUgdHdvDQoJCWRIZHh5ID0gZEhkeHkgKiAoMSAtIGZCbGVuZCkgKyBkSGR4eV9iaWN1YmljICogZkJsZW5kOw0KCX0NCg0KCWRCcyA9IGhTY2FsZSAqIGRIZHh5Lng7DQoJZEJ0ID0gaFNjYWxlICogZEhkeHkueTsNCn0NCg0KI2VuZGlmDQoNCnZvaWQgbXRleF9idW1wX3RhcDUoDQogICAgICAgIHZlYzMgdGV4Y28sIHNhbXBsZXIyRCBpbWEsIGZsb2F0IGhTY2FsZSwNCiAgICAgICAgb3V0IGZsb2F0IGRCcywgb3V0IGZsb2F0IGRCdCkNCnsNCgl2ZWMyIFRleER4ID0gZEZkeCh0ZXhjby54eSk7DQoJdmVjMiBUZXhEeSA9IGRGZHkodGV4Y28ueHkpOw0KDQoJdmVjMiBTVGMgPSB0ZXhjby54eTsNCgl2ZWMyIFNUbCA9IHRleGNvLnh5IC0gMC41ICogVGV4RHg7DQoJdmVjMiBTVHIgPSB0ZXhjby54eSArIDAuNSAqIFRleER4Ow0KCXZlYzIgU1RkID0gdGV4Y28ueHkgLSAwLjUgKiBUZXhEeTsNCgl2ZWMyIFNUdSA9IHRleGNvLnh5ICsgMC41ICogVGV4RHk7DQoNCglmbG9hdCBIYywgSGwsIEhyLCBIZCwgSHU7DQoJcmdidG9idyh0ZXh0dXJlMkQoaW1hLCBTVGMpLCBIYyk7DQoJcmdidG9idyh0ZXh0dXJlMkQoaW1hLCBTVGwpLCBIbCk7DQoJcmdidG9idyh0ZXh0dXJlMkQoaW1hLCBTVHIpLCBIcik7DQoJcmdidG9idyh0ZXh0dXJlMkQoaW1hLCBTVGQpLCBIZCk7DQoJcmdidG9idyh0ZXh0dXJlMkQoaW1hLCBTVHUpLCBIdSk7DQoNCglkQnMgPSBoU2NhbGUgKiAoSHIgLSBIbCk7DQoJZEJ0ID0gaFNjYWxlICogKEh1IC0gSGQpOw0KfQ0KDQp2b2lkIG10ZXhfYnVtcF9kZXJpdigNCiAgICAgICAgdmVjMyB0ZXhjbywgc2FtcGxlcjJEIGltYSwgZmxvYXQgaW1hX3gsIGZsb2F0IGltYV95LCBmbG9hdCBoU2NhbGUsDQogICAgICAgIG91dCBmbG9hdCBkQnMsIG91dCBmbG9hdCBkQnQpDQp7DQoJZmxvYXQgcyA9IDEuMDsgICAgICAvLyBuZWdhdGUgdGhpcyBpZiBmbGlwcGVkIHRleHR1cmUgY29vcmRpbmF0ZQ0KCXZlYzIgVGV4RHggPSBkRmR4KHRleGNvLnh5KTsNCgl2ZWMyIFRleER5ID0gZEZkeSh0ZXhjby54eSk7DQoNCgkvLyB0aGlzIHZhcmlhbnQgdXNpbmcgYSBkZXJpdmF0aXZlIG1hcCBpcyBkZXNjcmliZWQgaGVyZQ0KCS8vIGh0dHA6Ly9tbWlra2Vsc2VuM2QuYmxvZ3Nwb3QuY29tLzIwMTEvMDcvZGVyaXZhdGl2ZS1tYXBzLmh0bWwNCgl2ZWMyIGRpbSA9IHZlYzIoaW1hX3gsIGltYV95KTsNCgl2ZWMyIGRCZHV2ID0gaFNjYWxlICogZGltICogKDIuMCAqIHRleHR1cmUyRChpbWEsIHRleGNvLnh5KS54eSAtIDEuMCk7DQoNCglkQnMgPSBkQmR1di54ICogVGV4RHgueCArIHMgKiBkQmR1di55ICogVGV4RHgueTsNCglkQnQgPSBkQmR1di54ICogVGV4RHkueCArIHMgKiBkQmR1di55ICogVGV4RHkueTsNCn0NCg0Kdm9pZCBtdGV4X2J1bXBfYXBwbHkoDQogICAgICAgIGZsb2F0IGZEZXQsIGZsb2F0IGRCcywgZmxvYXQgZEJ0LCB2ZWMzIHZSMSwgdmVjMyB2UjIsIHZlYzMgdk5hY2NfaW4sDQogICAgICAgIG91dCB2ZWMzIHZOYWNjX291dCwgb3V0IHZlYzMgcGVydHVyYmVkX25vcm0pDQp7DQoJdmVjMyB2U3VyZkdyYWQgPSBzaWduKGZEZXQpICogKGRCcyAqIHZSMSArIGRCdCAqIHZSMik7DQoNCgl2TmFjY19vdXQgPSB2TmFjY19pbiAtIHZTdXJmR3JhZDsNCglwZXJ0dXJiZWRfbm9ybSA9IG5vcm1hbGl6ZSh2TmFjY19vdXQpOw0KfQ0KDQp2b2lkIG10ZXhfYnVtcF9hcHBseV90ZXhzcGFjZSgNCiAgICAgICAgZmxvYXQgZkRldCwgZmxvYXQgZEJzLCBmbG9hdCBkQnQsIHZlYzMgdlIxLCB2ZWMzIHZSMiwNCiAgICAgICAgc2FtcGxlcjJEIGltYSwgdmVjMyB0ZXhjbywgZmxvYXQgaW1hX3gsIGZsb2F0IGltYV95LCB2ZWMzIHZOYWNjX2luLA0KICAgICAgICBvdXQgdmVjMyB2TmFjY19vdXQsIG91dCB2ZWMzIHBlcnR1cmJlZF9ub3JtKQ0Kew0KCXZlYzIgVGV4RHggPSBkRmR4KHRleGNvLnh5KTsNCgl2ZWMyIFRleER5ID0gZEZkeSh0ZXhjby54eSk7DQoNCgl2ZWMzIHZTdXJmR3JhZCA9IHNpZ24oZkRldCkgKiAoDQoJICAgICAgICBkQnMgLyBsZW5ndGgodmVjMihpbWFfeCAqIFRleER4LngsIGltYV95ICogVGV4RHgueSkpICogdlIxICsNCgkgICAgICAgIGRCdCAvIGxlbmd0aCh2ZWMyKGltYV94ICogVGV4RHkueCwgaW1hX3kgKiBUZXhEeS55KSkgKiB2UjIpOw0KDQoJdk5hY2Nfb3V0ID0gdk5hY2NfaW4gLSB2U3VyZkdyYWQ7DQoJcGVydHVyYmVkX25vcm0gPSBub3JtYWxpemUodk5hY2Nfb3V0KTsNCn0NCg0Kdm9pZCBtdGV4X25lZ2F0ZV90ZXhub3JtYWwodmVjMyBub3JtYWwsIG91dCB2ZWMzIG91dG5vcm1hbCkNCnsNCglvdXRub3JtYWwgPSB2ZWMzKC1ub3JtYWwueCwgLW5vcm1hbC55LCBub3JtYWwueik7DQp9DQoNCnZvaWQgbXRleF9uc3BhY2VfdGFuZ2VudCh2ZWM0IHRhbmdlbnQsIHZlYzMgbm9ybWFsLCB2ZWMzIHRleG5vcm1hbCwgb3V0IHZlYzMgb3V0bm9ybWFsKQ0Kew0KCXZlYzMgQiA9IHRhbmdlbnQudyAqIGNyb3NzKG5vcm1hbCwgdGFuZ2VudC54eXopOw0KDQoJb3V0bm9ybWFsID0gdGV4bm9ybWFsLnggKiB0YW5nZW50Lnh5eiArIHRleG5vcm1hbC55ICogQiArIHRleG5vcm1hbC56ICogbm9ybWFsOw0KCW91dG5vcm1hbCA9IG5vcm1hbGl6ZShvdXRub3JtYWwpOw0KfQ0KDQp2b2lkIG10ZXhfbnNwYWNlX3dvcmxkKG1hdDQgdmlld21hdCwgdmVjMyB0ZXhub3JtYWwsIG91dCB2ZWMzIG91dG5vcm1hbCkNCnsNCglvdXRub3JtYWwgPSBub3JtYWxpemUoKHZpZXdtYXQgKiB2ZWM0KHRleG5vcm1hbCwgMC4wKSkueHl6KTsNCn0NCg0Kdm9pZCBtdGV4X25zcGFjZV9vYmplY3QodmVjMyB0ZXhub3JtYWwsIG91dCB2ZWMzIG91dG5vcm1hbCkNCnsNCglvdXRub3JtYWwgPSBub3JtYWxpemUoYmxfTm9ybWFsTWF0cml4ICogdGV4bm9ybWFsKTsNCn0NCg0Kdm9pZCBtdGV4X2JsZW5kX25vcm1hbChmbG9hdCBub3JmYWMsIHZlYzMgbm9ybWFsLCB2ZWMzIG5ld25vcm1hbCwgb3V0IHZlYzMgb3V0bm9ybWFsKQ0Kew0KCW91dG5vcm1hbCA9ICgxLjAgLSBub3JmYWMpICogbm9ybWFsICsgbm9yZmFjICogbmV3bm9ybWFsOw0KCW91dG5vcm1hbCA9IG5vcm1hbGl6ZShvdXRub3JtYWwpOw0KfQ0KDQovKioqKioqKiBNQVRFUklBTCAqKioqKioqKiovDQoNCnZvaWQgbGFtcF92aXNpYmlsaXR5X3N1bl9oZW1pKHZlYzMgbGFtcHZlYywgb3V0IHZlYzMgbHYsIG91dCBmbG9hdCBkaXN0LCBvdXQgZmxvYXQgdmlzaWZhYykNCnsNCglsdiA9IGxhbXB2ZWM7DQoJZGlzdCA9IDEuMDsNCgl2aXNpZmFjID0gMS4wOw0KfQ0KDQp2b2lkIGxhbXBfdmlzaWJpbGl0eV9vdGhlcih2ZWMzIGNvLCB2ZWMzIGxhbXBjbywgb3V0IHZlYzMgbHYsIG91dCBmbG9hdCBkaXN0LCBvdXQgZmxvYXQgdmlzaWZhYykNCnsNCglsdiA9IGNvIC0gbGFtcGNvOw0KCWRpc3QgPSBsZW5ndGgobHYpOw0KCWx2ID0gbm9ybWFsaXplKGx2KTsNCgl2aXNpZmFjID0gMS4wOw0KfQ0KDQp2b2lkIGxhbXBfZmFsbG9mZl9pbnZsaW5lYXIoZmxvYXQgbGFtcGRpc3QsIGZsb2F0IGRpc3QsIG91dCBmbG9hdCB2aXNpZmFjKQ0Kew0KCXZpc2lmYWMgPSBsYW1wZGlzdCAvIChsYW1wZGlzdCArIGRpc3QpOw0KfQ0KDQp2b2lkIGxhbXBfZmFsbG9mZl9pbnZzcXVhcmUoZmxvYXQgbGFtcGRpc3QsIGZsb2F0IGRpc3QsIG91dCBmbG9hdCB2aXNpZmFjKQ0Kew0KCXZpc2lmYWMgPSBsYW1wZGlzdCAvIChsYW1wZGlzdCArIGRpc3QgKiBkaXN0KTsNCn0NCg0Kdm9pZCBsYW1wX2ZhbGxvZmZfc2xpZGVycyhmbG9hdCBsYW1wZGlzdCwgZmxvYXQgbGQxLCBmbG9hdCBsZDIsIGZsb2F0IGRpc3QsIG91dCBmbG9hdCB2aXNpZmFjKQ0Kew0KCWZsb2F0IGxhbXBkaXN0a3cgPSBsYW1wZGlzdCAqIGxhbXBkaXN0Ow0KDQoJdmlzaWZhYyA9IGxhbXBkaXN0IC8gKGxhbXBkaXN0ICsgbGQxICogZGlzdCk7DQoJdmlzaWZhYyAqPSBsYW1wZGlzdGt3IC8gKGxhbXBkaXN0a3cgKyBsZDIgKiBkaXN0ICogZGlzdCk7DQp9DQoNCnZvaWQgbGFtcF9mYWxsb2ZmX2ludmNvZWZmaWNpZW50cyhmbG9hdCBjb2VmZl9jb25zdCwgZmxvYXQgY29lZmZfbGluLCBmbG9hdCBjb2VmZl9xdWFkLCBmbG9hdCBkaXN0LCBvdXQgZmxvYXQgdmlzaWZhYykNCnsNCgl2ZWMzIGNvZWZmID0gdmVjMyhjb2VmZl9jb25zdCwgY29lZmZfbGluLCBjb2VmZl9xdWFkKTsNCgl2ZWMzIGRfY29lZmYgPSB2ZWMzKDEuMCwgZGlzdCwgZGlzdCAqIGRpc3QpOw0KCWZsb2F0IHZpc2lmYWNfciA9IGRvdChjb2VmZiwgZF9jb2VmZik7DQoJaWYgKHZpc2lmYWNfciA+IDAuMCkNCgkJdmlzaWZhYyA9IDEuMCAvIHZpc2lmYWNfcjsNCgllbHNlDQoJCXZpc2lmYWMgPSAwLjA7DQp9DQoNCnZvaWQgbGFtcF9mYWxsb2ZmX2N1cnZlKGZsb2F0IGxhbXBkaXN0LCBzYW1wbGVyMkQgY3VydmVtYXAsIGZsb2F0IGRpc3QsIG91dCBmbG9hdCB2aXNpZmFjKQ0Kew0KCXZpc2lmYWMgPSB0ZXh0dXJlMkQoY3VydmVtYXAsIHZlYzIoZGlzdCAvIGxhbXBkaXN0LCAwLjApKS54Ow0KfQ0KDQp2b2lkIGxhbXBfdmlzaWJpbGl0eV9zcGhlcmUoZmxvYXQgbGFtcGRpc3QsIGZsb2F0IGRpc3QsIGZsb2F0IHZpc2lmYWMsIG91dCBmbG9hdCBvdXR2aXNpZmFjKQ0Kew0KCWZsb2F0IHQgPSBsYW1wZGlzdCAtIGRpc3Q7DQoNCglvdXR2aXNpZmFjID0gdmlzaWZhYyAqIG1heCh0LCAwLjApIC8gbGFtcGRpc3Q7DQp9DQoNCnZvaWQgbGFtcF92aXNpYmlsaXR5X3Nwb3Rfc3F1YXJlKHZlYzMgbGFtcHZlYywgbWF0NCBsYW1waW1hdCwgdmVjMiBzY2FsZSwgdmVjMyBsdiwgb3V0IGZsb2F0IGlucHIpDQp7DQoJaWYgKGRvdChsdiwgbGFtcHZlYykgPiAwLjApIHsNCgkJdmVjMyBsdnJvdCA9IChsYW1waW1hdCAqIHZlYzQobHYsIDAuMCkpLnh5ejsNCgkJLyogd2l0aG91dCBjbGV2ZXIgbm9uLXVuaWZvcm0gc2NhbGUsIHdlIGNvdWxkIGRvOiAqLw0KCQkvLyBmbG9hdCB4ID0gbWF4KGFicyhsdnJvdC54IC8gbHZyb3QueiksIGFicyhsdnJvdC55IC8gbHZyb3QueikpOw0KCQlmbG9hdCB4ID0gbWF4KGFicygobHZyb3QueCAvIHNjYWxlLngpIC8gbHZyb3QueiksIGFicygobHZyb3QueSAvIHNjYWxlLnkpIC8gbHZyb3QueikpOw0KDQoJCWlucHIgPSAxLjAgLyBzcXJ0KDEuMCArIHggKiB4KTsNCgl9DQoJZWxzZQ0KCQlpbnByID0gMC4wOw0KfQ0KDQp2b2lkIGxhbXBfdmlzaWJpbGl0eV9zcG90X2NpcmNsZSh2ZWMzIGxhbXB2ZWMsIG1hdDQgbGFtcGltYXQsIHZlYzIgc2NhbGUsIHZlYzMgbHYsIG91dCBmbG9hdCBpbnByKQ0Kew0KCS8qIHdpdGhvdXQgY2xldmVyIG5vbi11bmlmb3JtIHNjYWxlLCB3ZSBjb3VsZCBkbzogKi8NCgkvLyBpbnByID0gZG90KGx2LCBsYW1wdmVjKTsNCglpZiAoZG90KGx2LCBsYW1wdmVjKSA+IDAuMCkgew0KCQl2ZWMzIGx2cm90ID0gKGxhbXBpbWF0ICogdmVjNChsdiwgMC4wKSkueHl6Ow0KCQlmbG9hdCB4ID0gYWJzKGx2cm90LnggLyBsdnJvdC56KTsNCgkJZmxvYXQgeSA9IGFicyhsdnJvdC55IC8gbHZyb3Queik7DQoNCgkJZmxvYXQgZWxsaXBzZSA9IGFicygoeCAqIHgpIC8gKHNjYWxlLnggKiBzY2FsZS54KSArICh5ICogeSkgLyAoc2NhbGUueSAqIHNjYWxlLnkpKTsNCg0KCQlpbnByID0gMS4wIC8gc3FydCgxLjAgKyBlbGxpcHNlKTsNCgl9DQoJZWxzZQ0KCQlpbnByID0gMC4wOw0KfQ0KDQp2b2lkIGxhbXBfdmlzaWJpbGl0eV9zcG90KGZsb2F0IHNwb3RzaSwgZmxvYXQgc3BvdGJsLCBmbG9hdCBpbnByLCBmbG9hdCB2aXNpZmFjLCBvdXQgZmxvYXQgb3V0dmlzaWZhYykNCnsNCglmbG9hdCB0ID0gc3BvdHNpOw0KDQoJaWYgKGlucHIgPD0gdCkgew0KCQlvdXR2aXNpZmFjID0gMC4wOw0KCX0NCgllbHNlIHsNCgkJdCA9IGlucHIgLSB0Ow0KDQoJCS8qIHNvZnQgYXJlYSAqLw0KCQlpZiAoc3BvdGJsICE9IDAuMCkNCgkJCWlucHIgKj0gc21vb3Roc3RlcCgwLjAsIDEuMCwgdCAvIHNwb3RibCk7DQoNCgkJb3V0dmlzaWZhYyA9IHZpc2lmYWMgKiBpbnByOw0KCX0NCn0NCg0Kdm9pZCBsYW1wX3Zpc2liaWxpdHlfY2xhbXAoZmxvYXQgdmlzaWZhYywgb3V0IGZsb2F0IG91dHZpc2lmYWMpDQp7DQoJb3V0dmlzaWZhYyA9ICh2aXNpZmFjIDwgMC4wMDEpID8gMC4wIDogdmlzaWZhYzsNCn0NCg0Kdm9pZCB3b3JsZF9wYXBlcl92aWV3KHZlYzMgdmVjLCBvdXQgdmVjMyBvdXR2ZWMpDQp7DQoJdmVjMyBudmVjID0gbm9ybWFsaXplKHZlYyk7DQoJb3V0dmVjID0gKGJsX1Byb2plY3Rpb25NYXRyaXhbM11bM10gPT0gMC4wKSA/IHZlYzMobnZlYy54LCAwLjAsIG52ZWMueSkgOiB2ZWMzKDAuMCwgMC4wLCAtMS4wKTsNCn0NCg0Kdm9pZCB3b3JsZF96ZW5fbWFwcGluZyh2ZWMzIHZpZXcsIGZsb2F0IHplbnVwLCBmbG9hdCB6ZW5kb3duLCBvdXQgZmxvYXQgemVuZmFjKQ0Kew0KCWlmICh2aWV3LnogPj0gMC4wKQ0KCQl6ZW5mYWMgPSB6ZW51cDsNCgllbHNlDQoJCXplbmZhYyA9IHplbmRvd247DQp9DQoNCnZvaWQgd29ybGRfYmxlbmRfcGFwZXJfcmVhbCh2ZWMzIHZlYywgb3V0IGZsb2F0IGJsZW5kKQ0Kew0KCWJsZW5kID0gYWJzKHZlYy55KTsNCn0NCg0Kdm9pZCB3b3JsZF9ibGVuZF9wYXBlcih2ZWMzIHZlYywgb3V0IGZsb2F0IGJsZW5kKQ0Kew0KCWJsZW5kID0gKHZlYy55ICsgMS4wKSAqIDAuNTsNCn0NCg0Kdm9pZCB3b3JsZF9ibGVuZF9yZWFsKHZlYzMgdmVjLCBvdXQgZmxvYXQgYmxlbmQpDQp7DQoJYmxlbmQgPSBhYnMobm9ybWFsaXplKHZlYykueik7DQp9DQoNCnZvaWQgd29ybGRfYmxlbmQodmVjMyB2ZWMsIG91dCBmbG9hdCBibGVuZCkNCnsNCglibGVuZCA9IChub3JtYWxpemUodmVjKS56ICsgMS4wKSAqIDAuNTsNCn0NCg0Kdm9pZCBzaGFkZV92aWV3KHZlYzMgY28sIG91dCB2ZWMzIHZpZXcpDQp7DQoJLyogaGFuZGxlIHBlcnNwZWN0aXZlL29ydGhvZ3JhcGhpYyAqLw0KCXZpZXcgPSAoYmxfUHJvamVjdGlvbk1hdHJpeFszXVszXSA9PSAwLjApID8gbm9ybWFsaXplKGNvKSA6IHZlYzMoMC4wLCAwLjAsIC0xLjApOw0KfQ0KDQp2b2lkIHNoYWRlX3RhbmdlbnRfdih2ZWMzIGx2LCB2ZWMzIHRhbmcsIG91dCB2ZWMzIHZuKQ0Kew0KCXZlYzMgYyA9IGNyb3NzKGx2LCB0YW5nKTsNCgl2ZWMzIHZub3IgPSBjcm9zcyhjLCB0YW5nKTsNCg0KCXZuID0gLW5vcm1hbGl6ZSh2bm9yKTsNCn0NCg0Kdm9pZCBzaGFkZV9pbnAodmVjMyB2biwgdmVjMyBsdiwgb3V0IGZsb2F0IGlucCkNCnsNCglpbnAgPSBkb3Qodm4sIGx2KTsNCn0NCg0Kdm9pZCBzaGFkZV9pc19ub19kaWZmdXNlKG91dCBmbG9hdCBpcykNCnsNCglpcyA9IDAuMDsNCn0NCg0Kdm9pZCBzaGFkZV9pc19oZW1pKGZsb2F0IGlucCwgb3V0IGZsb2F0IGlzKQ0Kew0KCWlzID0gMC41ICogaW5wICsgMC41Ow0KfQ0KDQpmbG9hdCBhcmVhX2xhbXBfZW5lcmd5KG1hdDQgYXJlYSwgdmVjMyBjbywgdmVjMyB2bikNCnsNCgl2ZWMzIHZlY1s0XSwgY1s0XTsNCglmbG9hdCByYWRbNF0sIGZhYzsNCg0KCXZlY1swXSA9IG5vcm1hbGl6ZShjbyAtIGFyZWFbMF0ueHl6KTsNCgl2ZWNbMV0gPSBub3JtYWxpemUoY28gLSBhcmVhWzFdLnh5eik7DQoJdmVjWzJdID0gbm9ybWFsaXplKGNvIC0gYXJlYVsyXS54eXopOw0KCXZlY1szXSA9IG5vcm1hbGl6ZShjbyAtIGFyZWFbM10ueHl6KTsNCg0KCWNbMF0gPSBub3JtYWxpemUoY3Jvc3ModmVjWzBdLCB2ZWNbMV0pKTsNCgljWzFdID0gbm9ybWFsaXplKGNyb3NzKHZlY1sxXSwgdmVjWzJdKSk7DQoJY1syXSA9IG5vcm1hbGl6ZShjcm9zcyh2ZWNbMl0sIHZlY1szXSkpOw0KCWNbM10gPSBub3JtYWxpemUoY3Jvc3ModmVjWzNdLCB2ZWNbMF0pKTsNCg0KCXJhZFswXSA9IGFjb3MoZG90KHZlY1swXSwgdmVjWzFdKSk7DQoJcmFkWzFdID0gYWNvcyhkb3QodmVjWzFdLCB2ZWNbMl0pKTsNCglyYWRbMl0gPSBhY29zKGRvdCh2ZWNbMl0sIHZlY1szXSkpOw0KCXJhZFszXSA9IGFjb3MoZG90KHZlY1szXSwgdmVjWzBdKSk7DQoNCglmYWMgPSAgcmFkWzBdICogZG90KHZuLCBjWzBdKTsNCglmYWMgKz0gcmFkWzFdICogZG90KHZuLCBjWzFdKTsNCglmYWMgKz0gcmFkWzJdICogZG90KHZuLCBjWzJdKTsNCglmYWMgKz0gcmFkWzNdICogZG90KHZuLCBjWzNdKTsNCg0KCXJldHVybiBtYXgoZmFjLCAwLjApOw0KfQ0KDQp2b2lkIHNoYWRlX2lucF9hcmVhKA0KICAgICAgICB2ZWMzIHBvc2l0aW9uLCB2ZWMzIGxhbXBjbywgdmVjMyBsYW1wdmVjLCB2ZWMzIHZuLCBtYXQ0IGFyZWEsIGZsb2F0IGFyZWFzaXplLCBmbG9hdCBrLA0KICAgICAgICBvdXQgZmxvYXQgaW5wKQ0Kew0KCXZlYzMgY28gPSBwb3NpdGlvbjsNCgl2ZWMzIHZlYyA9IGNvIC0gbGFtcGNvOw0KDQoJaWYgKGRvdCh2ZWMsIGxhbXB2ZWMpIDwgMC4wKSB7DQoJCWlucCA9IDAuMDsNCgl9DQoJZWxzZSB7DQoJCWZsb2F0IGludGVucyA9IGFyZWFfbGFtcF9lbmVyZ3koYXJlYSwgY28sIHZuKTsNCg0KCQlpbnAgPSBwb3coaW50ZW5zICogYXJlYXNpemUsIGspOw0KCX0NCn0NCg0Kdm9pZCBzaGFkZV9kaWZmdXNlX29yZW5fbmF5ZXIoZmxvYXQgbmwsIHZlYzMgbiwgdmVjMyBsLCB2ZWMzIHYsIGZsb2F0IHJvdWdoLCBvdXQgZmxvYXQgaXMpDQp7DQoJdmVjMyBoID0gbm9ybWFsaXplKHYgKyBsKTsNCglmbG9hdCBuaCA9IG1heChkb3QobiwgaCksIDAuMCk7DQoJZmxvYXQgbnYgPSBtYXgoZG90KG4sIHYpLCAwLjApOw0KCWZsb2F0IHJlYWxubCA9IGRvdChuLCBsKTsNCg0KCWlmIChyZWFsbmwgPCAwLjApIHsNCgkJaXMgPSAwLjA7DQoJfQ0KCWVsc2UgaWYgKG5sIDwgMC4wKSB7DQoJCWlzID0gMC4wOw0KCX0NCgllbHNlIHsNCgkJZmxvYXQgdmggPSBtYXgoZG90KHYsIGgpLCAwLjApOw0KCQlmbG9hdCBMaXRfQSA9IGFjb3MocmVhbG5sKTsNCgkJZmxvYXQgVmlld19BID0gYWNvcyhudik7DQoNCgkJdmVjMyBMaXRfQiA9IG5vcm1hbGl6ZShsIC0gcmVhbG5sICogbik7DQoJCXZlYzMgVmlld19CID0gbm9ybWFsaXplKHYgLSBudiAqIG4pOw0KDQoJCWZsb2F0IHQgPSBtYXgoZG90KExpdF9CLCBWaWV3X0IpLCAwLjApOw0KDQoJCWZsb2F0IGEsIGI7DQoNCgkJaWYgKExpdF9BID4gVmlld19BKSB7DQoJCQlhID0gTGl0X0E7DQoJCQliID0gVmlld19BOw0KCQl9DQoJCWVsc2Ugew0KCQkJYSA9IFZpZXdfQTsNCgkJCWIgPSBMaXRfQTsNCgkJfQ0KDQoJCWZsb2F0IEEgPSAxLjAgLSAoMC41ICogKChyb3VnaCAqIHJvdWdoKSAvICgocm91Z2ggKiByb3VnaCkgKyAwLjMzKSkpOw0KCQlmbG9hdCBCID0gMC40NSAqICgocm91Z2ggKiByb3VnaCkgLyAoKHJvdWdoICogcm91Z2gpICsgMC4wOSkpOw0KDQoJCWIgKj0gMC45NTsNCgkJaXMgPSBubCAqIChBICsgKEIgKiB0ICogc2luKGEpICogdGFuKGIpKSk7DQoJfQ0KfQ0KDQp2b2lkIHNoYWRlX2RpZmZ1c2VfdG9vbih2ZWMzIG4sIHZlYzMgbCwgdmVjMyB2LCBmbG9hdCBzaXplLCBmbG9hdCB0c21vb3RoLCBvdXQgZmxvYXQgaXMpDQp7DQoJZmxvYXQgcnNsdCA9IGRvdChuLCBsKTsNCglmbG9hdCBhbmcgPSBhY29zKHJzbHQpOw0KDQoJaWYgKGFuZyA8IHNpemUpIGlzID0gMS4wOw0KCWVsc2UgaWYgKGFuZyA+IChzaXplICsgdHNtb290aCkgfHwgdHNtb290aCA9PSAwLjApIGlzID0gMC4wOw0KCWVsc2UgaXMgPSAxLjAgLSAoKGFuZyAtIHNpemUpIC8gdHNtb290aCk7DQp9DQoNCnZvaWQgc2hhZGVfZGlmZnVzZV9taW5uYWVydChmbG9hdCBubCwgdmVjMyBuLCB2ZWMzIHYsIGZsb2F0IGRhcmtuZXNzLCBvdXQgZmxvYXQgaXMpDQp7DQoJaWYgKG5sIDw9IDAuMCkgew0KCQlpcyA9IDAuMDsNCgl9DQoJZWxzZSB7DQoJCWZsb2F0IG52ID0gbWF4KGRvdChuLCB2KSwgMC4wKTsNCg0KCQlpZiAoZGFya25lc3MgPD0gMS4wKQ0KCQkJaXMgPSBubCAqIHBvdyhtYXgobnYgKiBubCwgMC4xKSwgZGFya25lc3MgLSAxLjApOw0KCQllbHNlDQoJCQlpcyA9IG5sICogcG93KDEuMDAwMSAtIG52LCBkYXJrbmVzcyAtIDEuMCk7DQoJfQ0KfQ0KDQpmbG9hdCBmcmVzbmVsX2ZhYyh2ZWMzIHZpZXcsIHZlYzMgdm4sIGZsb2F0IGdyYWQsIGZsb2F0IGZhYykNCnsNCglmbG9hdCB0MSwgdDI7DQoJZmxvYXQgZmZhYzsNCg0KCWlmIChmYWMgPT0gMC4wKSB7DQoJCWZmYWMgPSAxLjA7DQoJfQ0KCWVsc2Ugew0KCQl0MSA9IGRvdCh2aWV3LCB2bik7DQoJCWlmICh0MSA+IDAuMCkgdDIgPSAxLjAgKyB0MTsNCgkJZWxzZSB0MiA9IDEuMCAtIHQxOw0KDQoJCXQyID0gZ3JhZCArICgxLjAgLSBncmFkKSAqIHBvdyh0MiwgZmFjKTsNCg0KCQlpZiAodDIgPCAwLjApIGZmYWMgPSAwLjA7DQoJCWVsc2UgaWYgKHQyID4gMS4wKSBmZmFjID0gMS4wOw0KCQllbHNlIGZmYWMgPSB0MjsNCgl9DQoNCglyZXR1cm4gZmZhYzsNCn0NCg0Kdm9pZCBzaGFkZV9kaWZmdXNlX2ZyZXNuZWwodmVjMyB2biwgdmVjMyBsdiwgdmVjMyB2aWV3LCBmbG9hdCBmYWNfaSwgZmxvYXQgZmFjLCBvdXQgZmxvYXQgaXMpDQp7DQoJaXMgPSBmcmVzbmVsX2ZhYyhsdiwgdm4sIGZhY19pLCBmYWMpOw0KfQ0KDQp2b2lkIHNoYWRlX2N1YmljKGZsb2F0IGlzLCBvdXQgZmxvYXQgb3V0aXMpDQp7DQoJaWYgKGlzID4gMC4wICYmIGlzIDwgMS4wKQ0KCQlvdXRpcyA9IHNtb290aHN0ZXAoMC4wLCAxLjAsIGlzKTsNCgllbHNlDQoJCW91dGlzID0gaXM7DQp9DQoNCnZvaWQgc2hhZGVfdmlzaWZhYyhmbG9hdCBpLCBmbG9hdCB2aXNpZmFjLCBmbG9hdCByZWZsLCBvdXQgZmxvYXQgb3V0aSkNCnsNCgkvKmlmIChpID4gMC4wKSovDQoJb3V0aSA9IG1heChpICogdmlzaWZhYyAqIHJlZmwsIDAuMCk7DQoJLyplbHNlDQoJICAgIG91dGkgPSBpOyovDQp9DQoNCnZvaWQgc2hhZGVfdGFuZ2VudF92X3NwZWModmVjMyB0YW5nLCBvdXQgdmVjMyB2bikNCnsNCgl2biA9IHRhbmc7DQp9DQoNCnZvaWQgc2hhZGVfYWRkX3RvX2RpZmZ1c2UoZmxvYXQgaSwgdmVjMyBsYW1wY29sLCB2ZWMzIGNvbCwgb3V0IHZlYzMgb3V0Y29sKQ0Kew0KCWlmIChpID4gMC4wKQ0KCQlvdXRjb2wgPSBpICogbGFtcGNvbCAqIGNvbDsNCgllbHNlDQoJCW91dGNvbCA9IHZlYzMoMC4wLCAwLjAsIDAuMCk7DQp9DQoNCnZvaWQgc2hhZGVfaGVtaV9zcGVjKHZlYzMgdm4sIHZlYzMgbHYsIHZlYzMgdmlldywgZmxvYXQgc3BlYywgZmxvYXQgaGFyZCwgZmxvYXQgdmlzaWZhYywgb3V0IGZsb2F0IHQpDQp7DQoJbHYgKz0gdmlldzsNCglsdiA9IG5vcm1hbGl6ZShsdik7DQoNCgl0ID0gZG90KHZuLCBsdik7DQoJdCA9IDAuNSAqIHQgKyAwLjU7DQoNCgl0ID0gdmlzaWZhYyAqIHNwZWMgKiBwb3codCwgaGFyZCk7DQp9DQoNCnZvaWQgc2hhZGVfcGhvbmdfc3BlYyh2ZWMzIG4sIHZlYzMgbCwgdmVjMyB2LCBmbG9hdCBoYXJkLCBvdXQgZmxvYXQgc3BlY2ZhYykNCnsNCgl2ZWMzIGggPSBub3JtYWxpemUobCArIHYpOw0KCWZsb2F0IHJzbHQgPSBtYXgoZG90KGgsIG4pLCAwLjApOw0KDQoJc3BlY2ZhYyA9IHBvdyhyc2x0LCBoYXJkKTsNCn0NCg0Kdm9pZCBzaGFkZV9jb29rdG9ycl9zcGVjKHZlYzMgbiwgdmVjMyBsLCB2ZWMzIHYsIGZsb2F0IGhhcmQsIG91dCBmbG9hdCBzcGVjZmFjKQ0Kew0KCXZlYzMgaCA9IG5vcm1hbGl6ZSh2ICsgbCk7DQoJZmxvYXQgbmggPSBkb3QobiwgaCk7DQoNCglpZiAobmggPCAwLjApIHsNCgkJc3BlY2ZhYyA9IDAuMDsNCgl9DQoJZWxzZSB7DQoJCWZsb2F0IG52ID0gbWF4KGRvdChuLCB2KSwgMC4wKTsNCgkJZmxvYXQgaSA9IHBvdyhuaCwgaGFyZCk7DQoNCgkJaSA9IGkgLyAoMC4xICsgbnYpOw0KCQlzcGVjZmFjID0gaTsNCgl9DQp9DQoNCnZvaWQgc2hhZGVfYmxpbm5fc3BlYyh2ZWMzIG4sIHZlYzMgbCwgdmVjMyB2LCBmbG9hdCByZWZyYWMsIGZsb2F0IHNwZWNfcG93ZXIsIG91dCBmbG9hdCBzcGVjZmFjKQ0Kew0KCWlmIChyZWZyYWMgPCAxLjApIHsNCgkJc3BlY2ZhYyA9IDAuMDsNCgl9DQoJZWxzZSBpZiAoc3BlY19wb3dlciA9PSAwLjApIHsNCgkJc3BlY2ZhYyA9IDAuMDsNCgl9DQoJZWxzZSB7DQoJCWlmIChzcGVjX3Bvd2VyIDwgMTAwLjApDQoJCQlzcGVjX3Bvd2VyID0gc3FydCgxLjAgLyBzcGVjX3Bvd2VyKTsNCgkJZWxzZQ0KCQkJc3BlY19wb3dlciA9IDEwLjAgLyBzcGVjX3Bvd2VyOw0KDQoJCXZlYzMgaCA9IG5vcm1hbGl6ZSh2ICsgbCk7DQoJCWZsb2F0IG5oID0gZG90KG4sIGgpOw0KCQlpZiAobmggPCAwLjApIHsNCgkJCXNwZWNmYWMgPSAwLjA7DQoJCX0NCgkJZWxzZSB7DQoJCQlmbG9hdCBudiA9IG1heChkb3QobiwgdiksIDAuMDEpOw0KCQkJZmxvYXQgbmwgPSBkb3QobiwgbCk7DQoJCQlpZiAobmwgPD0gMC4wMSkgew0KCQkJCXNwZWNmYWMgPSAwLjA7DQoJCQl9DQoJCQllbHNlIHsNCgkJCQlmbG9hdCB2aCA9IG1heChkb3QodiwgaCksIDAuMDEpOw0KDQoJCQkJZmxvYXQgYSA9IDEuMDsNCgkJCQlmbG9hdCBiID0gKDIuMCAqIG5oICogbnYpIC8gdmg7DQoJCQkJZmxvYXQgYyA9ICgyLjAgKiBuaCAqIG5sKSAvIHZoOw0KDQoJCQkJZmxvYXQgZyA9IDAuMDsNCg0KCQkJCWlmIChhIDwgYiAmJiBhIDwgYykgZyA9IGE7DQoJCQkJZWxzZSBpZiAoYiA8IGEgJiYgYiA8IGMpIGcgPSBiOw0KCQkJCWVsc2UgaWYgKGMgPCBhICYmIGMgPCBiKSBnID0gYzsNCg0KCQkJCWZsb2F0IHAgPSBzcXJ0KCgocmVmcmFjICogcmVmcmFjKSArICh2aCAqIHZoKSAtIDEuMCkpOw0KCQkJCWZsb2F0IGYgPSAoKCgocCAtIHZoKSAqIChwIC0gdmgpKSAvICgocCArIHZoKSAqIChwICsgdmgpKSkgKg0KCQkJCSAgICAgICAgICAgKDEuMCArICgoKCh2aCAqIChwICsgdmgpKSAtIDEuMCkgKiAoKHZoICogKHAgKyB2aCkpIC0gMS4wKSkgLw0KCQkJCSAgICAgICAgICAgICAgICAgICAoKCh2aCAqIChwIC0gdmgpKSArIDEuMCkgKiAoKHZoICogKHAgLSB2aCkpICsgMS4wKSkpKSk7DQoJCQkJZmxvYXQgYW5nID0gYWNvcyhuaCk7DQoNCgkJCQlzcGVjZmFjID0gbWF4KGYgKiBnICogZXhwX2JsZW5kZXIoKC0oYW5nICogYW5nKSAvICgyLjAgKiBzcGVjX3Bvd2VyICogc3BlY19wb3dlcikpKSwgMC4wKTsNCgkJCX0NCgkJfQ0KCX0NCn0NCg0Kdm9pZCBzaGFkZV93YXJkaXNvX3NwZWModmVjMyBuLCB2ZWMzIGwsIHZlYzMgdiwgZmxvYXQgcm1zLCBvdXQgZmxvYXQgc3BlY2ZhYykNCnsNCgl2ZWMzIGggPSBub3JtYWxpemUobCArIHYpOw0KCWZsb2F0IG5oID0gbWF4KGRvdChuLCBoKSwgMC4wMDEpOw0KCWZsb2F0IG52ID0gbWF4KGRvdChuLCB2KSwgMC4wMDEpOw0KCWZsb2F0IG5sID0gbWF4KGRvdChuLCBsKSwgMC4wMDEpOw0KCWZsb2F0IGFuZ2xlID0gdGFuKGFjb3MobmgpKTsNCglmbG9hdCBhbHBoYSA9IG1heChybXMsIDAuMDAxKTsNCg0KCXNwZWNmYWMgPSBubCAqICgxLjAgLyAoNC4wICogTV9QSSAqIGFscGhhICogYWxwaGEpKSAqIChleHBfYmxlbmRlcigtKGFuZ2xlICogYW5nbGUpIC8gKGFscGhhICogYWxwaGEpKSAvIChzcXJ0KG52ICogbmwpKSk7DQp9DQoNCnZvaWQgc2hhZGVfdG9vbl9zcGVjKHZlYzMgbiwgdmVjMyBsLCB2ZWMzIHYsIGZsb2F0IHNpemUsIGZsb2F0IHRzbW9vdGgsIG91dCBmbG9hdCBzcGVjZmFjKQ0Kew0KCXZlYzMgaCA9IG5vcm1hbGl6ZShsICsgdik7DQoJZmxvYXQgcnNsdCA9IGRvdChoLCBuKTsNCglmbG9hdCBhbmcgPSBhY29zKHJzbHQpOw0KDQoJaWYgKGFuZyA8IHNpemUpIHJzbHQgPSAxLjA7DQoJZWxzZSBpZiAoYW5nID49IChzaXplICsgdHNtb290aCkgfHwgdHNtb290aCA9PSAwLjApIHJzbHQgPSAwLjA7DQoJZWxzZSByc2x0ID0gMS4wIC0gKChhbmcgLSBzaXplKSAvIHRzbW9vdGgpOw0KDQoJc3BlY2ZhYyA9IHJzbHQ7DQp9DQoNCnZvaWQgc2hhZGVfc3BlY19hcmVhX2lucChmbG9hdCBzcGVjZmFjLCBmbG9hdCBpbnAsIG91dCBmbG9hdCBvdXRzcGVjZmFjKQ0Kew0KCW91dHNwZWNmYWMgPSBzcGVjZmFjICogaW5wOw0KfQ0KDQp2b2lkIHNoYWRlX3NwZWNfdChmbG9hdCBzaGFkZmFjLCBmbG9hdCBzcGVjLCBmbG9hdCB2aXNpZmFjLCBmbG9hdCBzcGVjZmFjLCBvdXQgZmxvYXQgdCkNCnsNCgl0ID0gc2hhZGZhYyAqIHNwZWMgKiB2aXNpZmFjICogc3BlY2ZhYzsNCn0NCg0Kdm9pZCBzaGFkZV9hZGRfc3BlYyhmbG9hdCB0LCB2ZWMzIGxhbXBjb2wsIHZlYzMgc3BlY2NvbCwgb3V0IHZlYzMgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IHQgKiBsYW1wY29sICogc3BlY2NvbDsNCn0NCg0Kdm9pZCBzaGFkZV9hZGRfbWlycm9yKHZlYzMgbWlyLCB2ZWM0IHJlZmNvbCwgdmVjMyBjb21iaW5lZCwgb3V0IHZlYzMgcmVzdWx0KQ0Kew0KCXJlc3VsdCA9IG1pciAqIHJlZmNvbC5nYmEgKyAodmVjMygxLjApIC0gbWlyICogcmVmY29sLnJycikgKiBjb21iaW5lZDsNCn0NCg0Kdm9pZCBhbHBoYV9zcGVjX2NvcnJlY3Rpb24odmVjMyBzcGVjLCBmbG9hdCBzcGVjdHJhLCBmbG9hdCBhbHBoYSwgb3V0IGZsb2F0IG91dGFscGhhKQ0Kew0KCWlmIChzcGVjdHJhID4gMC4wKSB7DQoJCWZsb2F0IHQgPSBjbGFtcChtYXgobWF4KHNwZWMuciwgc3BlYy5nKSwgc3BlYy5iKSAqIHNwZWN0cmEsIDAuMCwgMS4wKTsNCgkJb3V0YWxwaGEgPSAoMS4wIC0gdCkgKiBhbHBoYSArIHQ7DQoJfQ0KCWVsc2Ugew0KCQlvdXRhbHBoYSA9IGFscGhhOw0KCX0NCn0NCg0Kdm9pZCBzaGFkZV9hZGQodmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglvdXRjb2wgPSBjb2wxICsgY29sMjsNCn0NCg0Kdm9pZCBzaGFkZV9tYWRkKHZlYzQgY29sLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IGNvbCArIGNvbDEgKiBjb2wyOw0KfQ0KDQp2b2lkIHNoYWRlX2FkZF9jbGFtcGVkKHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJb3V0Y29sID0gY29sMSArIG1heChjb2wyLCB2ZWM0KDAuMCwgMC4wLCAwLjAsIDAuMCkpOw0KfQ0KDQp2b2lkIHNoYWRlX21hZGRfY2xhbXBlZCh2ZWM0IGNvbCwgdmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglvdXRjb2wgPSBjb2wgKyBtYXgoY29sMSAqIGNvbDIsIHZlYzQoMC4wLCAwLjAsIDAuMCwgMC4wKSk7DQp9DQoNCnZvaWQgZW52X2FwcGx5KHZlYzQgY29sLCB2ZWMzIGhvciwgdmVjMyB6ZW4sIHZlYzQgZiwgbWF0NCB2bSwgdmVjMyB2biwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCXZlYzMgdnYgPSBub3JtYWxpemUodm1bMl0ueHl6KTsNCglmbG9hdCBza3lmYWMgPSAwLjUgKiAoMS4wICsgZG90KHZuLCAtdnYpKTsNCglvdXRjb2wgPSBjb2wgKyBmICogdmVjNChtaXgoaG9yLCB6ZW4sIHNreWZhYyksIDApOw0KfQ0KDQp2b2lkIHNoYWRlX21hZGRmKHZlYzQgY29sLCBmbG9hdCBmLCB2ZWM0IGNvbDEsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglvdXRjb2wgPSBjb2wgKyBmICogY29sMTsNCn0NCg0Kdm9pZCBzaGFkZV9tdWwodmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglvdXRjb2wgPSBjb2wxICogY29sMjsNCn0NCg0Kdm9pZCBzaGFkZV9tdWxfdmFsdWUoZmxvYXQgZmFjLCB2ZWM0IGNvbCwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IGNvbCAqIGZhYzsNCn0NCg0Kdm9pZCBzaGFkZV9tdWxfdmFsdWVfdjMoZmxvYXQgZmFjLCB2ZWMzIGNvbCwgb3V0IHZlYzMgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IGNvbCAqIGZhYzsNCn0NCg0Kdm9pZCBzaGFkZV9vYmNvbG9yKHZlYzQgY29sLCB2ZWM0IG9iY29sLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJb3V0Y29sID0gdmVjNChjb2wucmdiICogb2Jjb2wucmdiLCBjb2wuYSk7DQp9DQoNCnZvaWQgcmFtcF9yZ2J0b2J3KHZlYzMgY29sb3IsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gY29sb3IuciAqIDAuMyArIGNvbG9yLmcgKiAwLjU4ICsgY29sb3IuYiAqIDAuMTI7DQp9DQoNCnZvaWQgc2hhZGVfb25seV9zaGFkb3coZmxvYXQgaSwgZmxvYXQgc2hhZGZhYywgZmxvYXQgZW5lcmd5LCB2ZWMzIHNoYWRjb2wsIG91dCB2ZWMzIG91dHNoYWRyZ2IpDQp7DQoJb3V0c2hhZHJnYiA9IGkgKiBlbmVyZ3kgKiAoMS4wIC0gc2hhZGZhYykgKiAodmVjMygxLjApIC0gc2hhZGNvbCk7DQp9DQoNCnZvaWQgc2hhZGVfb25seV9zaGFkb3dfZGlmZnVzZSh2ZWMzIHNoYWRyZ2IsIHZlYzMgcmdiLCB2ZWM0IGRpZmYsIG91dCB2ZWM0IG91dGRpZmYpDQp7DQoJb3V0ZGlmZiA9IGRpZmYgLSB2ZWM0KHJnYiAqIHNoYWRyZ2IsIDAuMCk7DQp9DQoNCnZvaWQgc2hhZGVfb25seV9zaGFkb3dfc3BlY3VsYXIodmVjMyBzaGFkcmdiLCB2ZWMzIHNwZWNyZ2IsIHZlYzQgc3BlYywgb3V0IHZlYzQgb3V0c3BlYykNCnsNCglvdXRzcGVjID0gc3BlYyAtIHZlYzQoc3BlY3JnYiAqIHNoYWRyZ2IsIDAuMCk7DQp9DQoNCnZvaWQgc2hhZGVfY2xhbXBfcG9zaXRpdmUodmVjNCBjb2wsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglvdXRjb2wgPSBtYXgoY29sLCB2ZWM0KDAuMCkpOw0KfQ0KDQp2b2lkIHRlc3Rfc2hhZG93YnVmKA0KICAgICAgICB2ZWMzIHJjbywgc2FtcGxlcjJEIHNoYWRvd21hcCwgbWF0NCBzaGFkb3dwZXJzbWF0LCBmbG9hdCBzaGFkb3diaWFzLCBmbG9hdCBpbnAsDQogICAgICAgIG91dCBmbG9hdCByZXN1bHQpDQp7DQoJaWYgKGlucCA8PSAwLjApIHsNCgkJcmVzdWx0ID0gMC4wOw0KCX0NCgllbHNlIHsNCgkJdmVjNCBjbyA9IHNoYWRvd3BlcnNtYXQgKiB2ZWM0KHJjbywgMS4wKTsNCg0KCQkvL2Zsb2F0IGJpYXMgPSAoMS41IC0gaW5wKmlucCkqc2hhZG93YmlhczsNCgkJY28ueiAtPSBzaGFkb3diaWFzICogY28udzsNCg0KCQlpZiAoY28udyA+IDAuMCAmJiBjby54ID4gMC4wICYmIGNvLnggLyBjby53IDwgMS4wICYmIGNvLnkgPiAwLjAgJiYgY28ueSAvIGNvLncgPCAxLjApDQoJCQlyZXN1bHQgPSB0ZXh0dXJlMkRQcm9qKHNoYWRvd21hcCwgY28pLng7DQoJCWVsc2UNCgkJCXJlc3VsdCA9IDEuMDsNCgl9DQp9DQoNCnZvaWQgdGVzdF9zaGFkb3didWZfdnNtKA0KICAgICAgICB2ZWMzIHJjbywgc2FtcGxlcjJEIHNoYWRvd21hcCwgbWF0NCBzaGFkb3dwZXJzbWF0LCBmbG9hdCBzaGFkb3diaWFzLCBmbG9hdCBibGVlZGJpYXMsIGZsb2F0IGlucCwNCiAgICAgICAgb3V0IGZsb2F0IHJlc3VsdCkNCnsNCglpZiAoaW5wIDw9IDAuMCkgew0KCQlyZXN1bHQgPSAwLjA7DQoJfQ0KCWVsc2Ugew0KCQl2ZWM0IGNvID0gc2hhZG93cGVyc21hdCAqIHZlYzQocmNvLCAxLjApOw0KCQlpZiAoY28udyA+IDAuMCAmJiBjby54ID4gMC4wICYmIGNvLnggLyBjby53IDwgMS4wICYmIGNvLnkgPiAwLjAgJiYgY28ueSAvIGNvLncgPCAxLjApIHsNCgkJCXZlYzIgbW9tZW50cyA9IHRleHR1cmUyRFByb2ooc2hhZG93bWFwLCBjbykucmc7DQoJCQlmbG9hdCBkaXN0ID0gY28ueiAvIGNvLnc7DQoJCQlmbG9hdCBwID0gMC4wOw0KDQoJCQlpZiAoZGlzdCA8PSBtb21lbnRzLngpDQoJCQkJcCA9IDEuMDsNCg0KCQkJZmxvYXQgdmFyaWFuY2UgPSBtb21lbnRzLnkgLSAobW9tZW50cy54ICogbW9tZW50cy54KTsNCgkJCXZhcmlhbmNlID0gbWF4KHZhcmlhbmNlLCBzaGFkb3diaWFzIC8gMTAuMCk7DQoNCgkJCWZsb2F0IGQgPSBtb21lbnRzLnggLSBkaXN0Ow0KCQkJZmxvYXQgcF9tYXggPSB2YXJpYW5jZSAvICh2YXJpYW5jZSArIGQgKiBkKTsNCg0KCQkJLy8gTm93IHJlZHVjZSBsaWdodC1ibGVlZGluZyBieSByZW1vdmluZyB0aGUgWzAsIHhdIHRhaWwgYW5kIGxpbmVhcmx5IHJlc2NhbGluZyAoeCwgMV0NCgkJCXBfbWF4ID0gY2xhbXAoKHBfbWF4IC0gYmxlZWRiaWFzKSAvICgxLjAgLSBibGVlZGJpYXMpLCAwLjAsIDEuMCk7DQoNCgkJCXJlc3VsdCA9IG1heChwLCBwX21heCk7DQoJCX0NCgkJZWxzZSB7DQoJCQlyZXN1bHQgPSAxLjA7DQoJCX0NCgl9DQp9DQoNCnZvaWQgc2hhZG93c19vbmx5KA0KICAgICAgICB2ZWMzIHJjbywgc2FtcGxlcjJEIHNoYWRvd21hcCwgbWF0NCBzaGFkb3dwZXJzbWF0LA0KICAgICAgICBmbG9hdCBzaGFkb3diaWFzLCB2ZWMzIHNoYWRvd2NvbG9yLCBmbG9hdCBpbnAsDQogICAgICAgIG91dCB2ZWMzIHJlc3VsdCkNCnsNCglyZXN1bHQgPSB2ZWMzKDEuMCk7DQoNCglpZiAoaW5wID4gMC4wKSB7DQoJCWZsb2F0IHNoYWRmYWM7DQoNCgkJdGVzdF9zaGFkb3didWYocmNvLCBzaGFkb3dtYXAsIHNoYWRvd3BlcnNtYXQsIHNoYWRvd2JpYXMsIGlucCwgc2hhZGZhYyk7DQoJCXJlc3VsdCAtPSAoMS4wIC0gc2hhZGZhYykgKiAodmVjMygxLjApIC0gc2hhZG93Y29sb3IpOw0KCX0NCn0NCg0Kdm9pZCBzaGFkb3dzX29ubHlfdnNtKA0KICAgICAgICB2ZWMzIHJjbywgc2FtcGxlcjJEIHNoYWRvd21hcCwgbWF0NCBzaGFkb3dwZXJzbWF0LA0KICAgICAgICBmbG9hdCBzaGFkb3diaWFzLCBmbG9hdCBibGVlZGJpYXMsIHZlYzMgc2hhZG93Y29sb3IsIGZsb2F0IGlucCwNCiAgICAgICAgb3V0IHZlYzMgcmVzdWx0KQ0Kew0KCXJlc3VsdCA9IHZlYzMoMS4wKTsNCg0KCWlmIChpbnAgPiAwLjApIHsNCgkJZmxvYXQgc2hhZGZhYzsNCg0KCQl0ZXN0X3NoYWRvd2J1Zl92c20ocmNvLCBzaGFkb3dtYXAsIHNoYWRvd3BlcnNtYXQsIHNoYWRvd2JpYXMsIGJsZWVkYmlhcywgaW5wLCBzaGFkZmFjKTsNCgkJcmVzdWx0IC09ICgxLjAgLSBzaGFkZmFjKSAqICh2ZWMzKDEuMCkgLSBzaGFkb3djb2xvcik7DQoJfQ0KfQ0KDQp2b2lkIHNoYWRlX2xpZ2h0X3RleHR1cmUodmVjMyByY28sIHNhbXBsZXIyRCBjb29raWUsIG1hdDQgc2hhZG93cGVyc21hdCwgb3V0IHZlYzQgcmVzdWx0KQ0Kew0KDQoJdmVjNCBjbyA9IHNoYWRvd3BlcnNtYXQgKiB2ZWM0KHJjbywgMS4wKTsNCg0KCXJlc3VsdCA9IHRleHR1cmUyRFByb2ooY29va2llLCBjbyk7DQp9DQoNCnZvaWQgc2hhZGVfZXhwb3N1cmVfY29ycmVjdCh2ZWMzIGNvbCwgZmxvYXQgbGluZmFjLCBmbG9hdCBsb2dmYWMsIG91dCB2ZWMzIG91dGNvbCkNCnsNCglvdXRjb2wgPSBsaW5mYWMgKiAoMS4wIC0gZXhwKGNvbCAqIGxvZ2ZhYykpOw0KfQ0KDQp2b2lkIHNoYWRlX21pc3RfZmFjdG9yKA0KICAgICAgICB2ZWMzIGNvLCBmbG9hdCBlbmFibGUsIGZsb2F0IG1pc3RzdGEsIGZsb2F0IG1pc3RkaXN0LCBmbG9hdCBtaXN0dHlwZSwgZmxvYXQgbWlzaSwNCiAgICAgICAgb3V0IGZsb2F0IG91dGZhYykNCnsNCglpZiAoZW5hYmxlID09IDEuMCkgew0KCQlmbG9hdCBmYWMsIHpjb3I7DQoNCgkJemNvciA9IChibF9Qcm9qZWN0aW9uTWF0cml4WzNdWzNdID09IDAuMCkgPyBsZW5ndGgoY28pIDogLWNvWzJdOw0KDQoJCWZhYyA9IGNsYW1wKCh6Y29yIC0gbWlzdHN0YSkgLyBtaXN0ZGlzdCwgMC4wLCAxLjApOw0KCQlpZiAobWlzdHR5cGUgPT0gMC4wKSBmYWMgKj0gZmFjOw0KCQllbHNlIGlmIChtaXN0dHlwZSA9PSAxLjApIDsNCgkJZWxzZSBmYWMgPSBzcXJ0KGZhYyk7DQoNCgkJb3V0ZmFjID0gMS4wIC0gKDEuMCAtIGZhYykgKiAoMS4wIC0gbWlzaSk7DQoJfQ0KCWVsc2Ugew0KCQlvdXRmYWMgPSAwLjA7DQoJfQ0KfQ0KDQp2b2lkIHNoYWRlX3dvcmxkX21peCh2ZWMzIGhvciwgdmVjNCBjb2wsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglmbG9hdCBmYWMgPSBjbGFtcChjb2wuYSwgMC4wLCAxLjApOw0KCW91dGNvbCA9IHZlYzQobWl4KGhvciwgY29sLnJnYiwgZmFjKSwgY29sLmEpOw0KfQ0KDQp2b2lkIHNoYWRlX2FscGhhX29wYXF1ZSh2ZWM0IGNvbCwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IHZlYzQoY29sLnJnYiwgMS4wKTsNCn0NCg0Kdm9pZCBzaGFkZV9hbHBoYV9vYmNvbG9yKHZlYzQgY29sLCB2ZWM0IG9iY29sLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJb3V0Y29sID0gdmVjNChjb2wucmdiLCBjb2wuYSAqIG9iY29sLmEpOw0KfQ0KDQovKioqKioqKioqKiogTkVXIFNIQURFUiBVVElMSVRJRVMgKioqKioqKioqKioqKiovDQoNCmZsb2F0IGZyZXNuZWxfZGllbGVjdHJpY18wKGZsb2F0IGV0YSkNCnsNCgkvKiBjb21wdXRlIGZyZXNuZWwgcmVmbGFjdGFuY2UgYXQgbm9ybWFsIGluY2lkZW5jZSA9PiBjb3NpID0gMS4wICovDQoJZmxvYXQgQSA9IChldGEgLSAxLjApIC8gKGV0YSArIDEuMCk7DQoNCglyZXR1cm4gQSAqIEE7DQp9DQoNCmZsb2F0IGZyZXNuZWxfZGllbGVjdHJpY19jb3MoZmxvYXQgY29zaSwgZmxvYXQgZXRhKQ0Kew0KCS8qIGNvbXB1dGUgZnJlc25lbCByZWZsZWN0YW5jZSB3aXRob3V0IGV4cGxpY2l0bHkgY29tcHV0aW5nDQoJICogdGhlIHJlZnJhY3RlZCBkaXJlY3Rpb24gKi8NCglmbG9hdCBjID0gYWJzKGNvc2kpOw0KCWZsb2F0IGcgPSBldGEgKiBldGEgLSAxLjAgKyBjICogYzsNCglmbG9hdCByZXN1bHQ7DQoNCglpZiAoZyA+IDAuMCkgew0KCQlnID0gc3FydChnKTsNCgkJZmxvYXQgQSA9IChnIC0gYykgLyAoZyArIGMpOw0KCQlmbG9hdCBCID0gKGMgKiAoZyArIGMpIC0gMS4wKSAvIChjICogKGcgLSBjKSArIDEuMCk7DQoJCXJlc3VsdCA9IDAuNSAqIEEgKiBBICogKDEuMCArIEIgKiBCKTsNCgl9DQoJZWxzZSB7DQoJCXJlc3VsdCA9IDEuMDsgIC8qIFRJUiAobm8gcmVmcmFjdGVkIGNvbXBvbmVudCkgKi8NCgl9DQoNCglyZXR1cm4gcmVzdWx0Ow0KfQ0KDQpmbG9hdCBmcmVzbmVsX2RpZWxlY3RyaWModmVjMyBJbmNvbWluZywgdmVjMyBOb3JtYWwsIGZsb2F0IGV0YSkNCnsNCgkvKiBjb21wdXRlIGZyZXNuZWwgcmVmbGVjdGFuY2Ugd2l0aG91dCBleHBsaWNpdGx5IGNvbXB1dGluZw0KCSAqIHRoZSByZWZyYWN0ZWQgZGlyZWN0aW9uICovDQoJcmV0dXJuIGZyZXNuZWxfZGllbGVjdHJpY19jb3MoZG90KEluY29taW5nLCBOb3JtYWwpLCBldGEpOw0KfQ0KDQpmbG9hdCBoeXBvdChmbG9hdCB4LCBmbG9hdCB5KQ0Kew0KCXJldHVybiBzcXJ0KHggKiB4ICsgeSAqIHkpOw0KfQ0KDQp2b2lkIGdlbmVyYXRlZF9mcm9tX29yY28odmVjMyBvcmNvLCBvdXQgdmVjMyBnZW5lcmF0ZWQpDQp7DQoJZ2VuZXJhdGVkID0gb3JjbyAqIDAuNSArIHZlYzMoMC41KTsNCn0NCg0KaW50IGZsb29yX3RvX2ludChmbG9hdCB4KQ0Kew0KCXJldHVybiBpbnQoZmxvb3IoeCkpOw0KfQ0KDQppbnQgcXVpY2tfZmxvb3IoZmxvYXQgeCkNCnsNCglyZXR1cm4gaW50KHgpIC0gKCh4IDwgMCkgPyAxIDogMCk7DQp9DQoNCiNpZmRlZiBCSVRfT1BFUkFUSU9OUw0KZmxvYXQgaW50ZWdlcl9ub2lzZShpbnQgbikNCnsNCglpbnQgbm47DQoJbiA9IChuICsgMTAxMykgJiAweDdmZmZmZmZmOw0KCW4gPSAobiA+PiAxMykgXiBuOw0KCW5uID0gKG4gKiAobiAqIG4gKiA2MDQ5MyArIDE5OTkwMzAzKSArIDEzNzYzMTI1ODkpICYgMHg3ZmZmZmZmZjsNCglyZXR1cm4gMC41ICogKGZsb2F0KG5uKSAvIDEwNzM3NDE4MjQuMCk7DQp9DQoNCnVpbnQgaGFzaCh1aW50IGt4LCB1aW50IGt5LCB1aW50IGt6KQ0Kew0KI2RlZmluZSByb3QoeCwgaykgKCgoeCkgPDwgKGspKSB8ICgoeCkgPj4gKDMyIC0gKGspKSkpDQojZGVmaW5lIGZpbmFsKGEsIGIsIGMpIFwNCnsgXA0KCWMgXj0gYjsgYyAtPSByb3QoYiwgMTQpOyBcDQoJYSBePSBjOyBhIC09IHJvdChjLCAxMSk7IFwNCgliIF49IGE7IGIgLT0gcm90KGEsIDI1KTsgXA0KCWMgXj0gYjsgYyAtPSByb3QoYiwgMTYpOyBcDQoJYSBePSBjOyBhIC09IHJvdChjLCA0KTsgIFwNCgliIF49IGE7IGIgLT0gcm90KGEsIDE0KTsgXA0KCWMgXj0gYjsgYyAtPSByb3QoYiwgMjQpOyBcDQp9DQoJLy8gbm93IGhhc2ggdGhlIGRhdGEhDQoJdWludCBhLCBiLCBjLCBsZW4gPSAzdTsNCglhID0gYiA9IGMgPSAweGRlYWRiZWVmdSArIChsZW4gPDwgMnUpICsgMTN1Ow0KDQoJYyArPSBrejsNCgliICs9IGt5Ow0KCWEgKz0ga3g7DQoJZmluYWwgKGEsIGIsIGMpOw0KDQoJcmV0dXJuIGM7DQojdW5kZWYgcm90DQojdW5kZWYgZmluYWwNCn0NCg0KdWludCBoYXNoKGludCBreCwgaW50IGt5LCBpbnQga3opDQp7DQoJcmV0dXJuIGhhc2godWludChreCksIHVpbnQoa3kpLCB1aW50KGt6KSk7DQp9DQoNCmZsb2F0IGJpdHNfdG9fMDEodWludCBiaXRzKQ0Kew0KCWZsb2F0IHggPSBmbG9hdChiaXRzKSAqICgxLjAgLyBmbG9hdCgweGZmZmZmZmZmdSkpOw0KCXJldHVybiB4Ow0KfQ0KDQpmbG9hdCBjZWxsbm9pc2UodmVjMyBwKQ0Kew0KCWludCBpeCA9IHF1aWNrX2Zsb29yKHAueCk7DQoJaW50IGl5ID0gcXVpY2tfZmxvb3IocC55KTsNCglpbnQgaXogPSBxdWlja19mbG9vcihwLnopOw0KDQoJcmV0dXJuIGJpdHNfdG9fMDEoaGFzaCh1aW50KGl4KSwgdWludChpeSksIHVpbnQoaXopKSk7DQp9DQoNCnZlYzMgY2VsbG5vaXNlX2NvbG9yKHZlYzMgcCkNCnsNCglmbG9hdCByID0gY2VsbG5vaXNlKHApOw0KCWZsb2F0IGcgPSBjZWxsbm9pc2UodmVjMyhwLnksIHAueCwgcC56KSk7DQoJZmxvYXQgYiA9IGNlbGxub2lzZSh2ZWMzKHAueSwgcC56LCBwLngpKTsNCg0KCXJldHVybiB2ZWMzKHIsIGcsIGIpOw0KfQ0KI2VuZGlmICAvLyBCSVRfT1BFUkFUSU9OUw0KDQpmbG9hdCBmbG9vcmZyYWMoZmxvYXQgeCwgb3V0IGludCBpKQ0Kew0KCWkgPSBmbG9vcl90b19pbnQoeCk7DQoJcmV0dXJuIHggLSBpOw0KfQ0KDQoNCi8qIFByaW5jaXBsZWQgQlNERiBvcGVyYXRpb25zICovDQoNCmZsb2F0IHNxcihmbG9hdCBhKQ0Kew0KCXJldHVybiBhKmE7DQp9DQoNCmZsb2F0IHNjaGxpY2tfZnJlc25lbChmbG9hdCB1KQ0Kew0KCWZsb2F0IG0gPSBjbGFtcCgxLjAgLSB1LCAwLjAsIDEuMCk7DQoJZmxvYXQgbTIgPSBtICogbTsNCglyZXR1cm4gbTIgKiBtMiAqIG07IC8vIHBvdyhtLDUpDQp9DQoNCmZsb2F0IEdUUjEoZmxvYXQgTmRvdEgsIGZsb2F0IGEpDQp7DQoJaWYgKGEgPj0gMS4wKSByZXR1cm4gTV8xX1BJOw0KCWZsb2F0IGEyID0gYSphOw0KCWZsb2F0IHQgPSAxLjAgKyAoYTIgLSAxLjApICogTmRvdEgqTmRvdEg7DQoJcmV0dXJuIChhMiAtIDEuMCkgLyAoTV9QSSAqIGxvZyhhMikgKiB0KTsNCn0NCg0KZmxvYXQgR1RSMihmbG9hdCBOZG90SCwgZmxvYXQgYSkNCnsNCglmbG9hdCBhMiA9IGEqYTsNCglmbG9hdCB0ID0gMS4wICsgKGEyIC0gMS4wKSAqIE5kb3RIKk5kb3RIOw0KCXJldHVybiBhMiAvIChNX1BJICogdCp0KTsNCn0NCg0KZmxvYXQgR1RSMl9hbmlzbyhmbG9hdCBOZG90SCwgZmxvYXQgSGRvdFgsIGZsb2F0IEhkb3RZLCBmbG9hdCBheCwgZmxvYXQgYXkpDQp7DQoJcmV0dXJuIDEuMCAvIChNX1BJICogYXgqYXkgKiBzcXIoc3FyKEhkb3RYIC8gYXgpICsgc3FyKEhkb3RZIC8gYXkpICsgTmRvdEgqTmRvdEgpKTsNCn0NCg0KZmxvYXQgc21pdGhHX0dHWChmbG9hdCBOZG90ViwgZmxvYXQgYWxwaGFHKQ0Kew0KCWZsb2F0IGEgPSBhbHBoYUcqYWxwaGFHOw0KCWZsb2F0IGIgPSBOZG90VipOZG90VjsNCglyZXR1cm4gMS4wIC8gKE5kb3RWICsgc3FydChhICsgYiAtIGEgKiBiKSk7DQp9DQoNCnZlYzMgcm90YXRlX3ZlY3Rvcih2ZWMzIHAsIHZlYzMgbiwgZmxvYXQgdGhldGEpIHsNCglyZXR1cm4gKA0KCSAgICAgICAgICAgcCAqIGNvcyh0aGV0YSkgKyBjcm9zcyhuLCBwKSAqDQoJICAgICAgICAgICBzaW4odGhldGEpICsgbiAqIGRvdChwLCBuKSAqDQoJICAgICAgICAgICAoMS4wIC0gY29zKHRoZXRhKSkNCgkgICAgICAgKTsNCn0NCg0KDQovKioqKioqKioqKiogTkVXIFNIQURFUiBOT0RFUyAqKioqKioqKioqKioqKiovDQoNCiNkZWZpbmUgTlVNX0xJR0hUUyAzDQoNCi8qIGJzZGZzICovDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCnZvaWQgbm9kZV9hbWJpZW50X29jY2x1c2lvbih2ZWM0IGNvbG9yLCBvdXQgdmVjNCByZXN1bHQpDQp7DQoJcmVzdWx0ID0gY29sb3I7DQp9DQoNCi8qIGVtaXNzaW9uICovDQoNCnZvaWQgbm9kZV9lbWlzc2lvbih2ZWM0IGNvbG9yLCBmbG9hdCBzdHJlbmd0aCwgdmVjMyBOLCBvdXQgdmVjNCByZXN1bHQpDQp7DQoJcmVzdWx0ID0gY29sb3IgKiBzdHJlbmd0aDsNCn0NCg0KLyogYmFja2dyb3VuZCAqLw0KDQp2b2lkIGJhY2tncm91bmRfdHJhbnNmb3JtX3RvX3dvcmxkKHZlYzMgdmlld3ZlYywgb3V0IHZlYzMgd29ybGR2ZWMpDQp7DQoJdmVjNCB2ID0gKGJsX1Byb2plY3Rpb25NYXRyaXhbM11bM10gPT0gMC4wKSA/IHZlYzQodmlld3ZlYywgMS4wKSA6IHZlYzQoMC4wLCAwLjAsIDEuMCwgMS4wKTsNCgl2ZWM0IGNvX2hvbW9nZW5vdXMgPSAoYmxfUHJvamVjdGlvbk1hdHJpeEludmVyc2UgKiB2KTsNCg0KCXZlYzQgY28gPSB2ZWM0KGNvX2hvbW9nZW5vdXMueHl6IC8gY29faG9tb2dlbm91cy53LCAwLjApOw0KCXdvcmxkdmVjID0gKGJsX01vZGVsVmlld01hdHJpeEludmVyc2UgKiBjbykueHl6Ow0KfQ0KDQp2b2lkIG5vZGVfYmFja2dyb3VuZCh2ZWM0IGNvbG9yLCBmbG9hdCBzdHJlbmd0aCwgdmVjMyBOLCBvdXQgdmVjNCByZXN1bHQpDQp7DQoJcmVzdWx0ID0gY29sb3IgKiBzdHJlbmd0aDsNCn0NCg0KLyogY2xvc3VyZXMgKi8NCg0Kdm9pZCBub2RlX21peF9zaGFkZXIoZmxvYXQgZmFjLCB2ZWM0IHNoYWRlcjEsIHZlYzQgc2hhZGVyMiwgb3V0IHZlYzQgc2hhZGVyKQ0Kew0KCXNoYWRlciA9IG1peChzaGFkZXIxLCBzaGFkZXIyLCBmYWMpOw0KfQ0KDQp2b2lkIG5vZGVfYWRkX3NoYWRlcih2ZWM0IHNoYWRlcjEsIHZlYzQgc2hhZGVyMiwgb3V0IHZlYzQgc2hhZGVyKQ0Kew0KCXNoYWRlciA9IHNoYWRlcjEgKyBzaGFkZXIyOw0KfQ0KDQovKiBmcmVzbmVsICovDQoNCnZvaWQgbm9kZV9mcmVzbmVsKGZsb2F0IGlvciwgdmVjMyBOLCB2ZWMzIEksIG91dCBmbG9hdCByZXN1bHQpDQp7DQoJLyogaGFuZGxlIHBlcnNwZWN0aXZlL29ydGhvZ3JhcGhpYyAqLw0KCXZlYzMgSV92aWV3ID0gKGJsX1Byb2plY3Rpb25NYXRyaXhbM11bM10gPT0gMC4wKSA/IG5vcm1hbGl6ZShJKSA6IHZlYzMoMC4wLCAwLjAsIC0xLjApOw0KDQoJZmxvYXQgZXRhID0gbWF4KGlvciwgMC4wMDAwMSk7DQoJcmVzdWx0ID0gZnJlc25lbF9kaWVsZWN0cmljKElfdmlldywgTiwgKGdsX0Zyb250RmFjaW5nKSA/IGV0YSA6IDEuMCAvIGV0YSk7DQp9DQoNCi8qIGxheWVyX3dlaWdodCAqLw0KDQp2b2lkIG5vZGVfbGF5ZXJfd2VpZ2h0KGZsb2F0IGJsZW5kLCB2ZWMzIE4sIHZlYzMgSSwgb3V0IGZsb2F0IGZyZXNuZWwsIG91dCBmbG9hdCBmYWNpbmcpDQp7DQoJLyogZnJlc25lbCAqLw0KCWZsb2F0IGV0YSA9IG1heCgxLjAgLSBibGVuZCwgMC4wMDAwMSk7DQoJdmVjMyBJX3ZpZXcgPSAoYmxfUHJvamVjdGlvbk1hdHJpeFszXVszXSA9PSAwLjApID8gbm9ybWFsaXplKEkpIDogdmVjMygwLjAsIDAuMCwgLTEuMCk7DQoNCglmcmVzbmVsID0gZnJlc25lbF9kaWVsZWN0cmljKElfdmlldywgTiwgKGdsX0Zyb250RmFjaW5nKSA/IDEuMCAvIGV0YSA6IGV0YSk7DQoNCgkvKiBmYWNpbmcgKi8NCglmYWNpbmcgPSBhYnMoZG90KElfdmlldywgTikpOw0KCWlmIChibGVuZCAhPSAwLjUpIHsNCgkJYmxlbmQgPSBjbGFtcChibGVuZCwgMC4wLCAwLjk5OTk5KTsNCgkJYmxlbmQgPSAoYmxlbmQgPCAwLjUpID8gMi4wICogYmxlbmQgOiAwLjUgLyAoMS4wIC0gYmxlbmQpOw0KCQlmYWNpbmcgPSBwb3coZmFjaW5nLCBibGVuZCk7DQoJfQ0KCWZhY2luZyA9IDEuMCAtIGZhY2luZzsNCn0NCg0KLyogZ2FtbWEgKi8NCg0Kdm9pZCBub2RlX2dhbW1hKHZlYzQgY29sLCBmbG9hdCBnYW1tYSwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IGNvbDsNCg0KCWlmIChjb2wuciA+IDAuMCkNCgkJb3V0Y29sLnIgPSBjb21wYXRpYmxlX3Bvdyhjb2wuciwgZ2FtbWEpOw0KCWlmIChjb2wuZyA+IDAuMCkNCgkJb3V0Y29sLmcgPSBjb21wYXRpYmxlX3Bvdyhjb2wuZywgZ2FtbWEpOw0KCWlmIChjb2wuYiA+IDAuMCkNCgkJb3V0Y29sLmIgPSBjb21wYXRpYmxlX3Bvdyhjb2wuYiwgZ2FtbWEpOw0KfQ0KDQovKiBnZW9tZXRyeSAqLw0KDQp2b2lkIG5vZGVfYXR0cmlidXRlKHZlYzMgYXR0ciwgb3V0IHZlYzQgb3V0Y29sLCBvdXQgdmVjMyBvdXR2ZWMsIG91dCBmbG9hdCBvdXRmKQ0Kew0KCW91dGNvbCA9IHZlYzQoYXR0ciwgMS4wKTsNCglvdXR2ZWMgPSBhdHRyOw0KCW91dGYgPSAoYXR0ci54ICsgYXR0ci55ICsgYXR0ci56KSAvIDMuMDsNCn0NCg0Kdm9pZCBub2RlX3V2bWFwKHZlYzMgYXR0cl91diwgb3V0IHZlYzMgb3V0dmVjKQ0Kew0KCW91dHZlYyA9IGF0dHJfdXY7DQp9DQoNCnZvaWQgbm9kZV9nZW9tZXRyeSgNCiAgICAgICAgdmVjMyBJLCB2ZWMzIE4sIG1hdDQgdG93b3JsZCwNCiAgICAgICAgb3V0IHZlYzMgcG9zaXRpb24sIG91dCB2ZWMzIG5vcm1hbCwgb3V0IHZlYzMgdGFuZ2VudCwNCiAgICAgICAgb3V0IHZlYzMgdHJ1ZV9ub3JtYWwsIG91dCB2ZWMzIGluY29taW5nLCBvdXQgdmVjMyBwYXJhbWV0cmljLA0KICAgICAgICBvdXQgZmxvYXQgYmFja2ZhY2luZywgb3V0IGZsb2F0IHBvaW50aW5lc3MpDQp7DQoJcG9zaXRpb24gPSAodG93b3JsZCAqIHZlYzQoSSwgMS4wKSkueHl6Ow0KCW5vcm1hbCA9ICh0b3dvcmxkICogdmVjNChOLCAwLjApKS54eXo7DQoJdGFuZ2VudCA9IHZlYzMoMC4wKTsNCgl0cnVlX25vcm1hbCA9IG5vcm1hbDsNCg0KCS8qIGhhbmRsZSBwZXJzcGVjdGl2ZS9vcnRob2dyYXBoaWMgKi8NCgl2ZWMzIElfdmlldyA9IChibF9Qcm9qZWN0aW9uTWF0cml4WzNdWzNdID09IDAuMCkgPyBub3JtYWxpemUoSSkgOiB2ZWMzKDAuMCwgMC4wLCAtMS4wKTsNCglpbmNvbWluZyA9IC0odG93b3JsZCAqIHZlYzQoSV92aWV3LCAwLjApKS54eXo7DQoNCglwYXJhbWV0cmljID0gdmVjMygwLjApOw0KCWJhY2tmYWNpbmcgPSAoZ2xfRnJvbnRGYWNpbmcpID8gMC4wIDogMS4wOw0KCXBvaW50aW5lc3MgPSAwLjU7DQp9DQoNCnZvaWQgbm9kZV90ZXhfY29vcmQoDQogICAgICAgIHZlYzMgSSwgdmVjMyBOLCBtYXQ0IHZpZXdpbnZtYXQsIG1hdDQgb2JpbnZtYXQsIHZlYzQgY2FtZXJhZmFjLA0KICAgICAgICB2ZWMzIGF0dHJfb3JjbywgdmVjMyBhdHRyX3V2LA0KICAgICAgICBvdXQgdmVjMyBnZW5lcmF0ZWQsIG91dCB2ZWMzIG5vcm1hbCwgb3V0IHZlYzMgdXYsIG91dCB2ZWMzIG9iamVjdCwNCiAgICAgICAgb3V0IHZlYzMgY2FtZXJhLCBvdXQgdmVjMyB3aW5kb3csIG91dCB2ZWMzIHJlZmxlY3Rpb24pDQp7DQoJZ2VuZXJhdGVkID0gYXR0cl9vcmNvICogMC41ICsgdmVjMygwLjUpOw0KCW5vcm1hbCA9IG5vcm1hbGl6ZSgob2JpbnZtYXQgKiAodmlld2ludm1hdCAqIHZlYzQoTiwgMC4wKSkpLnh5eik7DQoJdXYgPSBhdHRyX3V2Ow0KCW9iamVjdCA9IChvYmludm1hdCAqICh2aWV3aW52bWF0ICogdmVjNChJLCAxLjApKSkueHl6Ow0KCWNhbWVyYSA9IHZlYzMoSS54eSwgLUkueik7DQoJdmVjNCBwcm9qdmVjID0gYmxfUHJvamVjdGlvbk1hdHJpeCAqIHZlYzQoSSwgMS4wKTsNCgl3aW5kb3cgPSB2ZWMzKG10ZXhfMmRfbWFwcGluZyhwcm9qdmVjLnh5eiAvIHByb2p2ZWMudykueHkgKiBjYW1lcmFmYWMueHkgKyBjYW1lcmFmYWMuencsIDAuMCk7DQoNCgl2ZWMzIHNoYWRlX0k7DQoJc2hhZGVfdmlldyhJLCBzaGFkZV9JKTsNCgl2ZWMzIHZpZXdfcmVmbGVjdGlvbiA9IHJlZmxlY3Qoc2hhZGVfSSwgbm9ybWFsaXplKE4pKTsNCglyZWZsZWN0aW9uID0gKHZpZXdpbnZtYXQgKiB2ZWM0KHZpZXdfcmVmbGVjdGlvbiwgMC4wKSkueHl6Ow0KfQ0KDQp2b2lkIG5vZGVfdGV4X2Nvb3JkX2JhY2tncm91bmQoDQogICAgICAgIHZlYzMgSSwgdmVjMyBOLCBtYXQ0IHZpZXdpbnZtYXQsIG1hdDQgb2JpbnZtYXQsIHZlYzQgY2FtZXJhZmFjLA0KICAgICAgICB2ZWMzIGF0dHJfb3JjbywgdmVjMyBhdHRyX3V2LA0KICAgICAgICBvdXQgdmVjMyBnZW5lcmF0ZWQsIG91dCB2ZWMzIG5vcm1hbCwgb3V0IHZlYzMgdXYsIG91dCB2ZWMzIG9iamVjdCwNCiAgICAgICAgb3V0IHZlYzMgY2FtZXJhLCBvdXQgdmVjMyB3aW5kb3csIG91dCB2ZWMzIHJlZmxlY3Rpb24pDQp7DQoJdmVjNCB2ID0gKGJsX1Byb2plY3Rpb25NYXRyaXhbM11bM10gPT0gMC4wKSA/IHZlYzQoSSwgMS4wKSA6IHZlYzQoMC4wLCAwLjAsIDEuMCwgMS4wKTsNCgl2ZWM0IGNvX2hvbW9nZW5vdXMgPSAoYmxfUHJvamVjdGlvbk1hdHJpeEludmVyc2UgKiB2KTsNCg0KCXZlYzQgY28gPSB2ZWM0KGNvX2hvbW9nZW5vdXMueHl6IC8gY29faG9tb2dlbm91cy53LCAwLjApOw0KDQoJY28gPSBub3JtYWxpemUoY28pOw0KCXZlYzMgY29vcmRzID0gKGJsX01vZGVsVmlld01hdHJpeEludmVyc2UgKiBjbykueHl6Ow0KDQoJZ2VuZXJhdGVkID0gY29vcmRzOw0KCW5vcm1hbCA9IC1jb29yZHM7DQoJdXYgPSB2ZWMzKGF0dHJfdXYueHksIDAuMCk7DQoJb2JqZWN0ID0gY29vcmRzOw0KDQoJY2FtZXJhID0gdmVjMyhjby54eSwgLWNvLnopOw0KCXdpbmRvdyA9IChibF9Qcm9qZWN0aW9uTWF0cml4WzNdWzNdID09IDAuMCkgPw0KCSAgICAgICAgIHZlYzMobXRleF8yZF9tYXBwaW5nKEkpLnh5ICogY2FtZXJhZmFjLnh5ICsgY2FtZXJhZmFjLnp3LCAwLjApIDoNCgkgICAgICAgICB2ZWMzKHZlYzIoMC41KSAqIGNhbWVyYWZhYy54eSArIGNhbWVyYWZhYy56dywgMC4wKTsNCg0KCXJlZmxlY3Rpb24gPSAtY29vcmRzOw0KfQ0KDQovKiB0ZXh0dXJlcyAqLw0KDQpmbG9hdCBjYWxjX2dyYWRpZW50KHZlYzMgcCwgaW50IGdyYWRpZW50X3R5cGUpDQp7DQoJZmxvYXQgeCwgeSwgejsNCgl4ID0gcC54Ow0KCXkgPSBwLnk7DQoJeiA9IHAuejsNCglpZiAoZ3JhZGllbnRfdHlwZSA9PSAwKSB7ICAvKiBsaW5lYXIgKi8NCgkJcmV0dXJuIHg7DQoJfQ0KCWVsc2UgaWYgKGdyYWRpZW50X3R5cGUgPT0gMSkgeyAgLyogcXVhZHJhdGljICovDQoJCWZsb2F0IHIgPSBtYXgoeCwgMC4wKTsNCgkJcmV0dXJuIHIgKiByOw0KCX0NCgllbHNlIGlmIChncmFkaWVudF90eXBlID09IDIpIHsgIC8qIGVhc2luZyAqLw0KCQlmbG9hdCByID0gbWluKG1heCh4LCAwLjApLCAxLjApOw0KCQlmbG9hdCB0ID0gciAqIHI7DQoJCXJldHVybiAoMy4wICogdCAtIDIuMCAqIHQgKiByKTsNCgl9DQoJZWxzZSBpZiAoZ3JhZGllbnRfdHlwZSA9PSAzKSB7ICAvKiBkaWFnb25hbCAqLw0KCQlyZXR1cm4gKHggKyB5KSAqIDAuNTsNCgl9DQoJZWxzZSBpZiAoZ3JhZGllbnRfdHlwZSA9PSA0KSB7ICAvKiByYWRpYWwgKi8NCgkJcmV0dXJuIGF0YW4oeSwgeCkgLyAoTV9QSSAqIDIpICsgMC41Ow0KCX0NCgllbHNlIHsNCgkJZmxvYXQgciA9IG1heCgxLjAgLSBzcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeiksIDAuMCk7DQoJCWlmIChncmFkaWVudF90eXBlID09IDUpIHsgIC8qIHF1YWRyYXRpYyBzcGhlcmUgKi8NCgkJCXJldHVybiByICogcjsNCgkJfQ0KCQllbHNlIGlmIChncmFkaWVudF90eXBlID09IDYpIHsgIC8qIHNwaGVyZSAqLw0KCQkJcmV0dXJuIHI7DQoJCX0NCgl9DQoJcmV0dXJuIDAuMDsNCn0NCg0Kdm9pZCBub2RlX3RleF9ncmFkaWVudCh2ZWMzIGNvLCBmbG9hdCBncmFkaWVudF90eXBlLCBvdXQgdmVjNCBjb2xvciwgb3V0IGZsb2F0IGZhYykNCnsNCglmbG9hdCBmID0gY2FsY19ncmFkaWVudChjbywgaW50KGdyYWRpZW50X3R5cGUpKTsNCglmID0gY2xhbXAoZiwgMC4wLCAxLjApOw0KDQoJY29sb3IgPSB2ZWM0KGYsIGYsIGYsIDEuMCk7DQoJZmFjID0gZjsNCn0NCg0Kdm9pZCBub2RlX3RleF9jaGVja2VyKHZlYzMgY28sIHZlYzQgY29sb3IxLCB2ZWM0IGNvbG9yMiwgZmxvYXQgc2NhbGUsIG91dCB2ZWM0IGNvbG9yLCBvdXQgZmxvYXQgZmFjKQ0Kew0KCXZlYzMgcCA9IGNvICogc2NhbGU7DQoNCgkvKiBQcmV2ZW50IHByZWNpc2lvbiBpc3N1ZXMgb24gdW5pdCBjb29yZGluYXRlcy4gKi8NCglwLnggPSAocC54ICsgMC4wMDAwMDEpICogMC45OTk5OTk7DQoJcC55ID0gKHAueSArIDAuMDAwMDAxKSAqIDAuOTk5OTk5Ow0KCXAueiA9IChwLnogKyAwLjAwMDAwMSkgKiAwLjk5OTk5OTsNCg0KCWludCB4aSA9IGludChhYnMoZmxvb3IocC54KSkpOw0KCWludCB5aSA9IGludChhYnMoZmxvb3IocC55KSkpOw0KCWludCB6aSA9IGludChhYnMoZmxvb3IocC56KSkpOw0KDQoJYm9vbCBjaGVjayA9ICgobW9kKHhpLCAyKSA9PSBtb2QoeWksIDIpKSA9PSBib29sKG1vZCh6aSwgMikpKTsNCg0KCWNvbG9yID0gY2hlY2sgPyBjb2xvcjEgOiBjb2xvcjI7DQoJZmFjID0gY2hlY2sgPyAxLjAgOiAwLjA7DQp9DQoNCiNpZmRlZiBCSVRfT1BFUkFUSU9OUw0KdmVjMiBjYWxjX2JyaWNrX3RleHR1cmUodmVjMyBwLCBmbG9hdCBtb3J0YXJfc2l6ZSwgZmxvYXQgbW9ydGFyX3Ntb290aCwgZmxvYXQgYmlhcywNCiAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0IGJyaWNrX3dpZHRoLCBmbG9hdCByb3dfaGVpZ2h0LA0KICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQgb2Zmc2V0X2Ftb3VudCwgaW50IG9mZnNldF9mcmVxdWVuY3ksDQogICAgICAgICAgICAgICAgICAgICAgICBmbG9hdCBzcXVhc2hfYW1vdW50LCBpbnQgc3F1YXNoX2ZyZXF1ZW5jeSkNCnsNCglpbnQgYnJpY2tudW0sIHJvd251bTsNCglmbG9hdCBvZmZzZXQgPSAwLjA7DQoJZmxvYXQgeCwgeTsNCg0KCXJvd251bSA9IGZsb29yX3RvX2ludChwLnkgLyByb3dfaGVpZ2h0KTsNCg0KCWlmIChvZmZzZXRfZnJlcXVlbmN5ICE9IDAgJiYgc3F1YXNoX2ZyZXF1ZW5jeSAhPSAwKSB7DQoJCWJyaWNrX3dpZHRoICo9IChyb3dudW0gJSBzcXVhc2hfZnJlcXVlbmN5ICE9IDApID8gMS4wIDogc3F1YXNoX2Ftb3VudDsgLyogc3F1YXNoICovDQoJCW9mZnNldCA9IChyb3dudW0gJSBvZmZzZXRfZnJlcXVlbmN5ICE9IDApID8gMC4wIDogKGJyaWNrX3dpZHRoICogb2Zmc2V0X2Ftb3VudCk7IC8qIG9mZnNldCAqLw0KCX0NCg0KCWJyaWNrbnVtID0gZmxvb3JfdG9faW50KChwLnggKyBvZmZzZXQpIC8gYnJpY2tfd2lkdGgpOw0KDQoJeCA9IChwLnggKyBvZmZzZXQpIC0gYnJpY2tfd2lkdGggKiBicmlja251bTsNCgl5ID0gcC55IC0gcm93X2hlaWdodCAqIHJvd251bTsNCg0KCWZsb2F0IHRpbnQgPSBjbGFtcCgoaW50ZWdlcl9ub2lzZSgocm93bnVtIDw8IDE2KSArIChicmlja251bSAmIDB4RkZGRikpICsgYmlhcyksIDAuMCwgMS4wKTsNCg0KCWZsb2F0IG1pbl9kaXN0ID0gbWluKG1pbih4LCB5KSwgbWluKGJyaWNrX3dpZHRoIC0geCwgcm93X2hlaWdodCAtIHkpKTsNCglpZiAobWluX2Rpc3QgPj0gbW9ydGFyX3NpemUpIHsNCgkJcmV0dXJuIHZlYzIodGludCwgMC4wKTsNCgl9DQoJZWxzZSBpZiAobW9ydGFyX3Ntb290aCA9PSAwLjApIHsNCgkJcmV0dXJuIHZlYzIodGludCwgMS4wKTsNCgl9DQoJZWxzZSB7DQoJCW1pbl9kaXN0ID0gMS4wIC0gbWluX2Rpc3QvbW9ydGFyX3NpemU7DQoJCXJldHVybiB2ZWMyKHRpbnQsIHNtb290aHN0ZXAoMC4wLCBtb3J0YXJfc21vb3RoLCBtaW5fZGlzdCkpOw0KCX0NCn0NCiNlbmRpZg0KDQp2b2lkIG5vZGVfdGV4X2JyaWNrKHZlYzMgY28sDQogICAgICAgICAgICAgICAgICAgIHZlYzQgY29sb3IxLCB2ZWM0IGNvbG9yMiwNCiAgICAgICAgICAgICAgICAgICAgdmVjNCBtb3J0YXIsIGZsb2F0IHNjYWxlLA0KICAgICAgICAgICAgICAgICAgICBmbG9hdCBtb3J0YXJfc2l6ZSwgZmxvYXQgbW9ydGFyX3Ntb290aCwgZmxvYXQgYmlhcywNCiAgICAgICAgICAgICAgICAgICAgZmxvYXQgYnJpY2tfd2lkdGgsIGZsb2F0IHJvd19oZWlnaHQsDQogICAgICAgICAgICAgICAgICAgIGZsb2F0IG9mZnNldF9hbW91bnQsIGZsb2F0IG9mZnNldF9mcmVxdWVuY3ksDQogICAgICAgICAgICAgICAgICAgIGZsb2F0IHNxdWFzaF9hbW91bnQsIGZsb2F0IHNxdWFzaF9mcmVxdWVuY3ksDQogICAgICAgICAgICAgICAgICAgIG91dCB2ZWM0IGNvbG9yLCBvdXQgZmxvYXQgZmFjKQ0Kew0KI2lmZGVmIEJJVF9PUEVSQVRJT05TDQoJdmVjMiBmMiA9IGNhbGNfYnJpY2tfdGV4dHVyZShjbyAqIHNjYWxlLA0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ydGFyX3NpemUsIG1vcnRhcl9zbW9vdGgsIGJpYXMsDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmlja193aWR0aCwgcm93X2hlaWdodCwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldF9hbW91bnQsIGludChvZmZzZXRfZnJlcXVlbmN5KSwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFzaF9hbW91bnQsIGludChzcXVhc2hfZnJlcXVlbmN5KSk7DQoJZmxvYXQgdGludCA9IGYyLng7DQoJZmxvYXQgZiA9IGYyLnk7DQoJaWYgKGYgIT0gMS4wKSB7DQoJCWZsb2F0IGZhY20gPSAxLjAgLSB0aW50Ow0KCQljb2xvcjEgPSBmYWNtICogY29sb3IxICsgdGludCAqIGNvbG9yMjsNCgl9DQoJY29sb3IgPSBtaXgoY29sb3IxLCBtb3J0YXIsIGYpOw0KCWZhYyA9IGY7DQojZWxzZQ0KCWNvbG9yID0gdmVjNCgxLjApOw0KCWZhYyA9IDEuMDsNCiNlbmRpZg0KfQ0KDQp2b2lkIG5vZGVfdGV4X2Nsb3Vkcyh2ZWMzIGNvLCBmbG9hdCBzaXplLCBvdXQgdmVjNCBjb2xvciwgb3V0IGZsb2F0IGZhYykNCnsNCgljb2xvciA9IHZlYzQoMS4wKTsNCglmYWMgPSAxLjA7DQp9DQoNCnZvaWQgbm9kZV90ZXhfZW52aXJvbm1lbnRfZXF1aXJlY3Rhbmd1bGFyKHZlYzMgY28sIHNhbXBsZXIyRCBpbWEsIG91dCB2ZWM0IGNvbG9yKQ0Kew0KCXZlYzMgbmNvID0gbm9ybWFsaXplKGNvKTsNCglmbG9hdCB1ID0gLWF0YW4obmNvLnksIG5jby54KSAvICgyLjAgKiBNX1BJKSArIDAuNTsNCglmbG9hdCB2ID0gYXRhbihuY28ueiwgaHlwb3QobmNvLngsIG5jby55KSkgLyBNX1BJICsgMC41Ow0KDQoJY29sb3IgPSB0ZXh0dXJlMkQoaW1hLCB2ZWMyKHUsIHYpKTsNCn0NCg0Kdm9pZCBub2RlX3RleF9lbnZpcm9ubWVudF9taXJyb3JfYmFsbCh2ZWMzIGNvLCBzYW1wbGVyMkQgaW1hLCBvdXQgdmVjNCBjb2xvcikNCnsNCgl2ZWMzIG5jbyA9IG5vcm1hbGl6ZShjbyk7DQoNCgluY28ueSAtPSAxLjA7DQoNCglmbG9hdCBkaXYgPSAyLjAgKiBzcXJ0KG1heCgtMC41ICogbmNvLnksIDAuMCkpOw0KCWlmIChkaXYgPiAwLjApDQoJCW5jbyAvPSBkaXY7DQoNCglmbG9hdCB1ID0gMC41ICogKG5jby54ICsgMS4wKTsNCglmbG9hdCB2ID0gMC41ICogKG5jby56ICsgMS4wKTsNCg0KCWNvbG9yID0gdGV4dHVyZTJEKGltYSwgdmVjMih1LCB2KSk7DQp9DQoNCnZvaWQgbm9kZV90ZXhfZW52aXJvbm1lbnRfZW1wdHkodmVjMyBjbywgb3V0IHZlYzQgY29sb3IpDQp7DQoJY29sb3IgPSB2ZWM0KDEuMCwgMC4wLCAxLjAsIDEuMCk7DQp9DQoNCnZvaWQgbm9kZV90ZXhfaW1hZ2UodmVjMyBjbywgc2FtcGxlcjJEIGltYSwgb3V0IHZlYzQgY29sb3IsIG91dCBmbG9hdCBhbHBoYSkNCnsNCgljb2xvciA9IHRleHR1cmUyRChpbWEsIGNvLnh5KTsNCglhbHBoYSA9IGNvbG9yLmE7DQp9DQoNCnZvaWQgbm9kZV90ZXhfaW1hZ2VfYm94KHZlYzMgdGV4Y28sDQogICAgICAgICAgICAgICAgICAgICAgICB2ZWMzIG5vYiwNCiAgICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZXIyRCBpbWEsDQogICAgICAgICAgICAgICAgICAgICAgICBmbG9hdCBibGVuZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIG91dCB2ZWM0IGNvbG9yLA0KICAgICAgICAgICAgICAgICAgICAgICAgb3V0IGZsb2F0IGFscGhhKQ0Kew0KCS8qIHByb2plY3QgZnJvbSBkaXJlY3Rpb24gdmVjdG9yIHRvIGJhcnljZW50cmljIGNvb3JkaW5hdGVzIHZhcnlpbmcgdHJpYW5nbGVzICovDQoJbm9iID0gdmVjMyhhYnMobm9iLngpLCBhYnMobm9iLnkpLCBhYnMobm9iLnopKTsNCglub2IgLz0gKG5vYi54ICsgbm9iLnkgKyBub2Iueik7DQoNCgkvKiBiYXNpYyBpZGVhIGlzIHRvIHRoaW5rIG9mIHRoaXMgYXMgYSB0cmlhbmdsZSwgZWFjaCBjb3JuZXIgcmVwcmVzZW50aW5nDQoJICogb25lIG9mIHRoZSAzIGZhY2VzIG9mIHRoZSBjdWJlLiB2YXJ5aW5nIHRoZSBjb3JuZXJzIHdlIGhhdmUgc2luZ2xlIHRleHR1cmVzLA0KCSAqIHZhcnlpbmcgYmV0d2VlbiB3ZSBibGVuZCBiZXR3ZWVuIHR3byB0ZXh0dXJlcywgYW5kIHZhcnlpbmcgdGhlIG1pZGRsZSB3ZSBhIGJsZW5kDQoJICogYmV0d2VlbiB0aHJlZSB0ZXh0dXJlcy4NCgkgKg0KCSAqIHRoZSBOeHl6IHZhbHVlcyBhcmUgdGhlIGJhcnljZW50cmljIGNvb3JkaW5hdGVzIHZhcnlpbmcgYW4gZXF1aWxhdGVyYWwNCgkgKiB0cmlhbmdsZSwgd2hpY2ggdmFyeWluZyBjYXNlIG9mIGJsZW5kaW5nLCB2YXJ5aW5nIHRoZSBtaWRkbGUgaGFzIGEgc21hbGxlcg0KCSAqIGVxdWlsYXRlcmFsIHRyaWFuZ2xlIHdoZXJlIDMgdGV4dHVyZXMgYmxlbmQuIHRoaXMgZGl2aWRlcyB0aGluZ3MgaW50bw0KCSAqIDcgem9uZXMsIHdpdGggYW4gaWYgKCkgdGVzdCBmb3IgZWFjaCB6b25lICovDQoNCgl2ZWMzIHdlaWdodCA9IHZlYzMoMC4wLCAwLjAsIDAuMCk7DQoJZmxvYXQgbGltaXQgPSAwLjUgKiAoMS4wICsgYmxlbmQpOw0KDQoJLyogZmlyc3QgdGVzdCBmb3IgY29ybmVycyB3aXRoIHNpbmdsZSB0ZXh0dXJlICovDQoJaWYgKG5vYi54ID4gbGltaXQgKiAobm9iLnggKyBub2IueSkgJiYgbm9iLnggPiBsaW1pdCAqIChub2IueCArIG5vYi56KSkgew0KCQl3ZWlnaHQueCA9IDEuMDsNCgl9DQoJZWxzZSBpZiAobm9iLnkgPiBsaW1pdCAqIChub2IueCArIG5vYi55KSAmJiBub2IueSA+IGxpbWl0ICogKG5vYi55ICsgbm9iLnopKSB7DQoJCXdlaWdodC55ID0gMS4wOw0KCX0NCgllbHNlIGlmIChub2IueiA+IGxpbWl0ICogKG5vYi54ICsgbm9iLnopICYmIG5vYi56ID4gbGltaXQgKiAobm9iLnkgKyBub2IueikpIHsNCgkJd2VpZ2h0LnogPSAxLjA7DQoJfQ0KCWVsc2UgaWYgKGJsZW5kID4gMC4wKSB7DQoJCS8qIHZhcnlpbmcgY2FzZSBvZiBibGVuZGluZywgdGVzdCBmb3IgbWl4ZXMgYmV0d2VlbiB0d28gdGV4dHVyZXMgKi8NCgkJaWYgKG5vYi56IDwgKDEuMCAtIGxpbWl0KSAqIChub2IueSArIG5vYi54KSkgew0KCQkJd2VpZ2h0LnggPSBub2IueCAvIChub2IueCArIG5vYi55KTsNCgkJCXdlaWdodC54ID0gY2xhbXAoKHdlaWdodC54IC0gMC41ICogKDEuMCAtIGJsZW5kKSkgLyBibGVuZCwgMC4wLCAxLjApOw0KCQkJd2VpZ2h0LnkgPSAxLjAgLSB3ZWlnaHQueDsNCgkJfQ0KCQllbHNlIGlmIChub2IueCA8ICgxLjAgLSBsaW1pdCkgKiAobm9iLnkgKyBub2IueikpIHsNCgkJCXdlaWdodC55ID0gbm9iLnkgLyAobm9iLnkgKyBub2Iueik7DQoJCQl3ZWlnaHQueSA9IGNsYW1wKCh3ZWlnaHQueSAtIDAuNSAqICgxLjAgLSBibGVuZCkpIC8gYmxlbmQsIDAuMCwgMS4wKTsNCgkJCXdlaWdodC56ID0gMS4wIC0gd2VpZ2h0Lnk7DQoJCX0NCgkJZWxzZSBpZiAobm9iLnkgPCAoMS4wIC0gbGltaXQpICogKG5vYi54ICsgbm9iLnopKSB7DQoJCQl3ZWlnaHQueCA9IG5vYi54IC8gKG5vYi54ICsgbm9iLnopOw0KCQkJd2VpZ2h0LnggPSBjbGFtcCgod2VpZ2h0LnggLSAwLjUgKiAoMS4wIC0gYmxlbmQpKSAvIGJsZW5kLCAwLjAsIDEuMCk7DQoJCQl3ZWlnaHQueiA9IDEuMCAtIHdlaWdodC54Ow0KCQl9DQoJCWVsc2Ugew0KCQkJLyogbGFzdCBjYXNlLCB3ZSBoYXZlIGEgbWl4IGJldHdlZW4gdGhyZWUgKi8NCgkJCXdlaWdodC54ID0gKCgyLjAgLSBsaW1pdCkgKiBub2IueCArIChsaW1pdCAtIDEuMCkpIC8gKDIuMCAqIGxpbWl0IC0gMS4wKTsNCgkJCXdlaWdodC55ID0gKCgyLjAgLSBsaW1pdCkgKiBub2IueSArIChsaW1pdCAtIDEuMCkpIC8gKDIuMCAqIGxpbWl0IC0gMS4wKTsNCgkJCXdlaWdodC56ID0gKCgyLjAgLSBsaW1pdCkgKiBub2IueiArIChsaW1pdCAtIDEuMCkpIC8gKDIuMCAqIGxpbWl0IC0gMS4wKTsNCgkJfQ0KCX0NCgllbHNlIHsNCgkJLyogRGVzcGVyYXRlIG1vZGUsIG5vIHZhbGlkIGNob2ljZSBhbnl3YXksIGZhbGxiYWNrIHRvIG9uZSBzaWRlLiovDQoJCXdlaWdodC54ID0gMS4wOw0KCX0NCgljb2xvciA9IHZlYzQoMCk7DQoJaWYgKHdlaWdodC54ID4gMC4wKSB7DQoJCWNvbG9yICs9IHdlaWdodC54ICogdGV4dHVyZTJEKGltYSwgdGV4Y28ueXopOw0KCX0NCglpZiAod2VpZ2h0LnkgPiAwLjApIHsNCgkJY29sb3IgKz0gd2VpZ2h0LnkgKiB0ZXh0dXJlMkQoaW1hLCB0ZXhjby54eik7DQoJfQ0KCWlmICh3ZWlnaHQueiA+IDAuMCkgew0KCQljb2xvciArPSB3ZWlnaHQueiAqIHRleHR1cmUyRChpbWEsIHRleGNvLnl4KTsNCgl9DQoNCglhbHBoYSA9IGNvbG9yLmE7DQp9DQoNCnZvaWQgbm9kZV90ZXhfaW1hZ2VfZW1wdHkodmVjMyBjbywgb3V0IHZlYzQgY29sb3IsIG91dCBmbG9hdCBhbHBoYSkNCnsNCgljb2xvciA9IHZlYzQoMC4wKTsNCglhbHBoYSA9IDAuMDsNCn0NCg0Kdm9pZCBub2RlX3RleF9tYWdpYyh2ZWMzIGNvLCBmbG9hdCBzY2FsZSwgZmxvYXQgZGlzdG9ydGlvbiwgZmxvYXQgZGVwdGgsIG91dCB2ZWM0IGNvbG9yLCBvdXQgZmxvYXQgZmFjKQ0Kew0KCXZlYzMgcCA9IGNvICogc2NhbGU7DQoJZmxvYXQgeCA9IHNpbigocC54ICsgcC55ICsgcC56KSAqIDUuMCk7DQoJZmxvYXQgeSA9IGNvcygoLXAueCArIHAueSAtIHAueikgKiA1LjApOw0KCWZsb2F0IHogPSAtY29zKCgtcC54IC0gcC55ICsgcC56KSAqIDUuMCk7DQoNCglpZiAoZGVwdGggPiAwKSB7DQoJCXggKj0gZGlzdG9ydGlvbjsNCgkJeSAqPSBkaXN0b3J0aW9uOw0KCQl6ICo9IGRpc3RvcnRpb247DQoJCXkgPSAtY29zKHggLSB5ICsgeik7DQoJCXkgKj0gZGlzdG9ydGlvbjsNCgkJaWYgKGRlcHRoID4gMSkgew0KCQkJeCA9IGNvcyh4IC0geSAtIHopOw0KCQkJeCAqPSBkaXN0b3J0aW9uOw0KCQkJaWYgKGRlcHRoID4gMikgew0KCQkJCXogPSBzaW4oLXggLSB5IC0geik7DQoJCQkJeiAqPSBkaXN0b3J0aW9uOw0KCQkJCWlmIChkZXB0aCA+IDMpIHsNCgkJCQkJeCA9IC1jb3MoLXggKyB5IC0geik7DQoJCQkJCXggKj0gZGlzdG9ydGlvbjsNCgkJCQkJaWYgKGRlcHRoID4gNCkgew0KCQkJCQkJeSA9IC1zaW4oLXggKyB5ICsgeik7DQoJCQkJCQl5ICo9IGRpc3RvcnRpb247DQoJCQkJCQlpZiAoZGVwdGggPiA1KSB7DQoJCQkJCQkJeSA9IC1jb3MoLXggKyB5ICsgeik7DQoJCQkJCQkJeSAqPSBkaXN0b3J0aW9uOw0KCQkJCQkJCWlmIChkZXB0aCA+IDYpIHsNCgkJCQkJCQkJeCA9IGNvcyh4ICsgeSArIHopOw0KCQkJCQkJCQl4ICo9IGRpc3RvcnRpb247DQoJCQkJCQkJCWlmIChkZXB0aCA+IDcpIHsNCgkJCQkJCQkJCXogPSBzaW4oeCArIHkgLSB6KTsNCgkJCQkJCQkJCXogKj0gZGlzdG9ydGlvbjsNCgkJCQkJCQkJCWlmIChkZXB0aCA+IDgpIHsNCgkJCQkJCQkJCQl4ID0gLWNvcygteCAtIHkgKyB6KTsNCgkJCQkJCQkJCQl4ICo9IGRpc3RvcnRpb247DQoJCQkJCQkJCQkJaWYgKGRlcHRoID4gOSkgew0KCQkJCQkJCQkJCQl5ID0gLXNpbih4IC0geSArIHopOw0KCQkJCQkJCQkJCQl5ICo9IGRpc3RvcnRpb247DQoJCQkJCQkJCQkJfQ0KCQkJCQkJCQkJfQ0KCQkJCQkJCQl9DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfQ0KCWlmIChkaXN0b3J0aW9uICE9IDAuMCkgew0KCQlkaXN0b3J0aW9uICo9IDIuMDsNCgkJeCAvPSBkaXN0b3J0aW9uOw0KCQl5IC89IGRpc3RvcnRpb247DQoJCXogLz0gZGlzdG9ydGlvbjsNCgl9DQoNCgljb2xvciA9IHZlYzQoMC41IC0geCwgMC41IC0geSwgMC41IC0geiwgMS4wKTsNCglmYWMgPSAoY29sb3IueCArIGNvbG9yLnkgKyBjb2xvci56KSAvIDMuMDsNCn0NCg0KI2lmZGVmIEJJVF9PUEVSQVRJT05TDQpmbG9hdCBub2lzZV9mYWRlKGZsb2F0IHQpDQp7DQoJcmV0dXJuIHQgKiB0ICogdCAqICh0ICogKHQgKiA2LjAgLSAxNS4wKSArIDEwLjApOw0KfQ0KDQpmbG9hdCBub2lzZV9zY2FsZTMoZmxvYXQgcmVzdWx0KQ0Kew0KCXJldHVybiAwLjk4MjAgKiByZXN1bHQ7DQp9DQoNCmZsb2F0IG5vaXNlX25lcnAoZmxvYXQgdCwgZmxvYXQgYSwgZmxvYXQgYikNCnsNCglyZXR1cm4gKDEuMCAtIHQpICogYSArIHQgKiBiOw0KfQ0KDQpmbG9hdCBub2lzZV9ncmFkKHVpbnQgaGFzaCwgZmxvYXQgeCwgZmxvYXQgeSwgZmxvYXQgeikNCnsNCgl1aW50IGggPSBoYXNoICYgMTV1Ow0KCWZsb2F0IHUgPSBoIDwgOHUgPyB4IDogeTsNCglmbG9hdCB2dCA9ICgoaCA9PSAxMnUpIHx8IChoID09IDE0dSkpID8geCA6IHo7DQoJZmxvYXQgdiA9IGggPCA0dSA/IHkgOiB2dDsNCglyZXR1cm4gKCgoaCAmIDF1KSAhPSAwdSkgPyAtdSA6IHUpICsgKCgoaCAmIDJ1KSAhPSAwdSkgPyAtdiA6IHYpOw0KfQ0KDQpmbG9hdCBub2lzZV9wZXJsaW4oZmxvYXQgeCwgZmxvYXQgeSwgZmxvYXQgeikNCnsNCglpbnQgWDsgZmxvYXQgZnggPSBmbG9vcmZyYWMoeCwgWCk7DQoJaW50IFk7IGZsb2F0IGZ5ID0gZmxvb3JmcmFjKHksIFkpOw0KCWludCBaOyBmbG9hdCBmeiA9IGZsb29yZnJhYyh6LCBaKTsNCg0KCWZsb2F0IHUgPSBub2lzZV9mYWRlKGZ4KTsNCglmbG9hdCB2ID0gbm9pc2VfZmFkZShmeSk7DQoJZmxvYXQgdyA9IG5vaXNlX2ZhZGUoZnopOw0KDQoJZmxvYXQgcmVzdWx0Ow0KDQoJcmVzdWx0ID0gbm9pc2VfbmVycCh3LCBub2lzZV9uZXJwKHYsIG5vaXNlX25lcnAodSwgbm9pc2VfZ3JhZChoYXNoKFgsIFksIFopLCBmeCwgZnksIGZ6KSwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2lzZV9ncmFkKGhhc2goWCArIDEsIFksIFopLCBmeCAtIDEuMCwgZnksIGZ6KSksDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vaXNlX25lcnAodSwgbm9pc2VfZ3JhZChoYXNoKFgsIFkgKyAxLCBaKSwgZngsIGZ5IC0gMS4wLCBmeiksDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9pc2VfZ3JhZChoYXNoKFggKyAxLCBZICsgMSwgWiksIGZ4IC0gMS4wLCBmeSAtIDEuMCwgZnopKSksDQoJICAgICAgICAgICAgICAgICAgICBub2lzZV9uZXJwKHYsIG5vaXNlX25lcnAodSwgbm9pc2VfZ3JhZChoYXNoKFgsIFksIFogKyAxKSwgZngsIGZ5LCBmeiAtIDEuMCksDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9pc2VfZ3JhZChoYXNoKFggKyAxLCBZLCBaICsgMSksIGZ4IC0gMS4wLCBmeSwgZnogLSAxLjApKSwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9pc2VfbmVycCh1LCBub2lzZV9ncmFkKGhhc2goWCwgWSArIDEsIFogKyAxKSwgZngsIGZ5IC0gMS4wLCBmeiAtIDEuMCksDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9pc2VfZ3JhZChoYXNoKFggKyAxLCBZICsgMSwgWiArIDEpLCBmeCAtIDEuMCwgZnkgLSAxLjAsIGZ6IC0gMS4wKSkpKTsNCglyZXR1cm4gbm9pc2Vfc2NhbGUzKHJlc3VsdCk7DQp9DQoNCmZsb2F0IG5vaXNlKHZlYzMgcCkNCnsNCglyZXR1cm4gMC41ICogbm9pc2VfcGVybGluKHAueCwgcC55LCBwLnopICsgMC41Ow0KfQ0KDQpmbG9hdCBzbm9pc2UodmVjMyBwKQ0Kew0KCXJldHVybiBub2lzZV9wZXJsaW4ocC54LCBwLnksIHAueik7DQp9DQoNCmZsb2F0IG5vaXNlX3R1cmJ1bGVuY2UodmVjMyBwLCBmbG9hdCBvY3RhdmVzLCBpbnQgaGFyZCkNCnsNCglmbG9hdCBmc2NhbGUgPSAxLjA7DQoJZmxvYXQgYW1wID0gMS4wOw0KCWZsb2F0IHN1bSA9IDAuMDsNCglpbnQgaSwgbjsNCglvY3RhdmVzID0gY2xhbXAob2N0YXZlcywgMC4wLCAxNi4wKTsNCgluID0gaW50KG9jdGF2ZXMpOw0KCWZvciAoaSA9IDA7IGkgPD0gbjsgaSsrKSB7DQoJCWZsb2F0IHQgPSBub2lzZShmc2NhbGUgKiBwKTsNCgkJaWYgKGhhcmQgIT0gMCkgew0KCQkJdCA9IGFicygyLjAgKiB0IC0gMS4wKTsNCgkJfQ0KCQlzdW0gKz0gdCAqIGFtcDsNCgkJYW1wICo9IDAuNTsNCgkJZnNjYWxlICo9IDIuMDsNCgl9DQoJZmxvYXQgcm1kID0gb2N0YXZlcyAtIGZsb29yKG9jdGF2ZXMpOw0KCWlmICAocm1kICE9IDAuMCkgew0KCQlmbG9hdCB0ID0gbm9pc2UoZnNjYWxlICogcCk7DQoJCWlmIChoYXJkICE9IDApIHsNCgkJCXQgPSBhYnMoMi4wICogdCAtIDEuMCk7DQoJCX0NCgkJZmxvYXQgc3VtMiA9IHN1bSArIHQgKiBhbXA7DQoJCXN1bSAqPSAoZmxvYXQoMSA8PCBuKSAvIGZsb2F0KCgxIDw8IChuICsgMSkpIC0gMSkpOw0KCQlzdW0yICo9IChmbG9hdCgxIDw8IChuICsgMSkpIC8gZmxvYXQoKDEgPDwgKG4gKyAyKSkgLSAxKSk7DQoJCXJldHVybiAoMS4wIC0gcm1kKSAqIHN1bSArIHJtZCAqIHN1bTI7DQoJfQ0KCWVsc2Ugew0KCQlzdW0gKj0gKGZsb2F0KDEgPDwgbikgLyBmbG9hdCgoMSA8PCAobiArIDEpKSAtIDEpKTsNCgkJcmV0dXJuIHN1bTsNCgl9DQp9DQojZW5kaWYgIC8vIEJJVF9PUEVSQVRJT05TDQoNCnZvaWQgbm9kZV90ZXhfbm9pc2UodmVjMyBjbywgZmxvYXQgc2NhbGUsIGZsb2F0IGRldGFpbCwgZmxvYXQgZGlzdG9ydGlvbiwgb3V0IHZlYzQgY29sb3IsIG91dCBmbG9hdCBmYWMpDQp7DQojaWZkZWYgQklUX09QRVJBVElPTlMNCgl2ZWMzIHAgPSBjbyAqIHNjYWxlOw0KCWludCBoYXJkID0gMDsNCglpZiAoZGlzdG9ydGlvbiAhPSAwLjApIHsNCgkJdmVjMyByLCBvZmZzZXQgPSB2ZWMzKDEzLjUsIDEzLjUsIDEzLjUpOw0KCQlyLnggPSBub2lzZShwICsgb2Zmc2V0KSAqIGRpc3RvcnRpb247DQoJCXIueSA9IG5vaXNlKHApICogZGlzdG9ydGlvbjsNCgkJci56ID0gbm9pc2UocCAtIG9mZnNldCkgKiBkaXN0b3J0aW9uOw0KCQlwICs9IHI7DQoJfQ0KDQoJZmFjID0gbm9pc2VfdHVyYnVsZW5jZShwLCBkZXRhaWwsIGhhcmQpOw0KCWNvbG9yID0gdmVjNChmYWMsDQoJICAgICAgICAgICAgIG5vaXNlX3R1cmJ1bGVuY2UodmVjMyhwLnksIHAueCwgcC56KSwgZGV0YWlsLCBoYXJkKSwNCgkgICAgICAgICAgICAgbm9pc2VfdHVyYnVsZW5jZSh2ZWMzKHAueSwgcC56LCBwLngpLCBkZXRhaWwsIGhhcmQpLA0KCSAgICAgICAgICAgICAxKTsNCiNlbHNlICAvLyBCSVRfT1BFUkFUSU9OUw0KCWNvbG9yID0gdmVjNCgxLjApOw0KCWZhYyA9IDEuMDsNCiNlbmRpZiAgLy8gQklUX09QRVJBVElPTlMNCn0NCg0KDQojaWZkZWYgQklUX09QRVJBVElPTlMNCg0KLyogTXVzZ3JhdmUgZkJtDQogKg0KICogSDogZnJhY3RhbCBpbmNyZW1lbnQgcGFyYW1ldGVyDQogKiBsYWN1bmFyaXR5OiBnYXAgYmV0d2VlbiBzdWNjZXNzaXZlIGZyZXF1ZW5jaWVzDQogKiBvY3RhdmVzOiBudW1iZXIgb2YgZnJlcXVlbmNpZXMgdmFyeWluZyB0aGUgZkJtDQogKg0KICogZnJvbSAiVGV4dHVyaW5nIGFuZCBNb2RlbGxpbmc6IEEgcHJvY2VkdXJhbCBhcHByb2FjaCINCiAqLw0KDQpmbG9hdCBub2lzZV9tdXNncmF2ZV9mQm0odmVjMyBwLCBmbG9hdCBILCBmbG9hdCBsYWN1bmFyaXR5LCBmbG9hdCBvY3RhdmVzKQ0Kew0KCWZsb2F0IHJtZDsNCglmbG9hdCB2YWx1ZSA9IDAuMDsNCglmbG9hdCBwd3IgPSAxLjA7DQoJZmxvYXQgcHdITCA9IHBvdyhsYWN1bmFyaXR5LCAtSCk7DQoJaW50IGk7DQoNCglmb3IgKGkgPSAwOyBpIDwgaW50KG9jdGF2ZXMpOyBpKyspIHsNCgkJdmFsdWUgKz0gc25vaXNlKHApICogcHdyOw0KCQlwd3IgKj0gcHdITDsNCgkJcCAqPSBsYWN1bmFyaXR5Ow0KCX0NCg0KCXJtZCA9IG9jdGF2ZXMgLSBmbG9vcihvY3RhdmVzKTsNCglpZiAocm1kICE9IDAuMCkNCgkJdmFsdWUgKz0gcm1kICogc25vaXNlKHApICogcHdyOw0KDQoJcmV0dXJuIHZhbHVlOw0KfQ0KDQovKiBNdXNncmF2ZSBNdWx0aWZyYWN0YWwNCiAqDQogKiBIOiBoaWdoZXN0IGZyYWN0YWwgZGltZW5zaW9uDQogKiBsYWN1bmFyaXR5OiBnYXAgYmV0d2VlbiBzdWNjZXNzaXZlIGZyZXF1ZW5jaWVzDQogKiBvY3RhdmVzOiBudW1iZXIgb2YgZnJlcXVlbmNpZXMgdmFyeWluZyB0aGUgZkJtDQogKi8NCg0KZmxvYXQgbm9pc2VfbXVzZ3JhdmVfbXVsdGlfZnJhY3RhbCh2ZWMzIHAsIGZsb2F0IEgsIGZsb2F0IGxhY3VuYXJpdHksIGZsb2F0IG9jdGF2ZXMpDQp7DQoJZmxvYXQgcm1kOw0KCWZsb2F0IHZhbHVlID0gMS4wOw0KCWZsb2F0IHB3ciA9IDEuMDsNCglmbG9hdCBwd0hMID0gcG93KGxhY3VuYXJpdHksIC1IKTsNCglpbnQgaTsNCg0KCWZvciAoaSA9IDA7IGkgPCBpbnQob2N0YXZlcyk7IGkrKykgew0KCQl2YWx1ZSAqPSAocHdyICogc25vaXNlKHApICsgMS4wKTsNCgkJcHdyICo9IHB3SEw7DQoJCXAgKj0gbGFjdW5hcml0eTsNCgl9DQoNCglybWQgPSBvY3RhdmVzIC0gZmxvb3Iob2N0YXZlcyk7DQoJaWYgKHJtZCAhPSAwLjApDQoJCXZhbHVlICo9IChybWQgKiBwd3IgKiBzbm9pc2UocCkgKyAxLjApOyAvKiBjb3JyZWN0PyAqLw0KDQoJcmV0dXJuIHZhbHVlOw0KfQ0KDQovKiBNdXNncmF2ZSBIZXRlcm9nZW5lb3VzIFRlcnJhaW4NCiAqDQogKiBIOiBmcmFjdGFsIGRpbWVuc2lvbiBvZiB0aGUgcm91Z2hlc3QgYXJlYQ0KICogbGFjdW5hcml0eTogZ2FwIGJldHdlZW4gc3VjY2Vzc2l2ZSBmcmVxdWVuY2llcw0KICogb2N0YXZlczogbnVtYmVyIG9mIGZyZXF1ZW5jaWVzIHZhcnlpbmcgdGhlIGZCbQ0KICogb2Zmc2V0OiByYWlzZXMgdGhlIHRlcnJhaW4gZnJvbSBgc2VhIGxldmVsJw0KICovDQoNCmZsb2F0IG5vaXNlX211c2dyYXZlX2hldGVyb190ZXJyYWluKHZlYzMgcCwgZmxvYXQgSCwgZmxvYXQgbGFjdW5hcml0eSwgZmxvYXQgb2N0YXZlcywgZmxvYXQgb2Zmc2V0KQ0Kew0KCWZsb2F0IHZhbHVlLCBpbmNyZW1lbnQsIHJtZDsNCglmbG9hdCBwd0hMID0gcG93KGxhY3VuYXJpdHksIC1IKTsNCglmbG9hdCBwd3IgPSBwd0hMOw0KCWludCBpOw0KDQoJLyogZmlyc3QgdW5zY2FsZWQgb2N0YXZlIG9mIGZ1bmN0aW9uOyBsYXRlciBvY3RhdmVzIGFyZSBzY2FsZWQgKi8NCgl2YWx1ZSA9IG9mZnNldCArIHNub2lzZShwKTsNCglwICo9IGxhY3VuYXJpdHk7DQoNCglmb3IgKGkgPSAxOyBpIDwgaW50KG9jdGF2ZXMpOyBpKyspIHsNCgkJaW5jcmVtZW50ID0gKHNub2lzZShwKSArIG9mZnNldCkgKiBwd3IgKiB2YWx1ZTsNCgkJdmFsdWUgKz0gaW5jcmVtZW50Ow0KCQlwd3IgKj0gcHdITDsNCgkJcCAqPSBsYWN1bmFyaXR5Ow0KCX0NCg0KCXJtZCA9IG9jdGF2ZXMgLSBmbG9vcihvY3RhdmVzKTsNCglpZiAocm1kICE9IDAuMCkgew0KCQlpbmNyZW1lbnQgPSAoc25vaXNlKHApICsgb2Zmc2V0KSAqIHB3ciAqIHZhbHVlOw0KCQl2YWx1ZSArPSBybWQgKiBpbmNyZW1lbnQ7DQoJfQ0KDQoJcmV0dXJuIHZhbHVlOw0KfQ0KDQovKiBIeWJyaWQgQWRkaXRpdmUvTXVsdGlwbGljYXRpdmUgTXVsdGlmcmFjdGFsIFRlcnJhaW4NCiAqDQogKiBIOiBmcmFjdGFsIGRpbWVuc2lvbiBvZiB0aGUgcm91Z2hlc3QgYXJlYQ0KICogbGFjdW5hcml0eTogZ2FwIGJldHdlZW4gc3VjY2Vzc2l2ZSBmcmVxdWVuY2llcw0KICogb2N0YXZlczogbnVtYmVyIG9mIGZyZXF1ZW5jaWVzIHZhcnlpbmcgdGhlIGZCbQ0KICogb2Zmc2V0OiByYWlzZXMgdGhlIHRlcnJhaW4gZnJvbSBgc2VhIGxldmVsJw0KICovDQoNCmZsb2F0IG5vaXNlX211c2dyYXZlX2h5YnJpZF9tdWx0aV9mcmFjdGFsKHZlYzMgcCwgZmxvYXQgSCwgZmxvYXQgbGFjdW5hcml0eSwgZmxvYXQgb2N0YXZlcywgZmxvYXQgb2Zmc2V0LCBmbG9hdCBnYWluKQ0Kew0KCWZsb2F0IHJlc3VsdCwgc2lnbmFsLCB3ZWlnaHQsIHJtZDsNCglmbG9hdCBwd0hMID0gcG93KGxhY3VuYXJpdHksIC1IKTsNCglmbG9hdCBwd3IgPSBwd0hMOw0KCWludCBpOw0KDQoJcmVzdWx0ID0gc25vaXNlKHApICsgb2Zmc2V0Ow0KCXdlaWdodCA9IGdhaW4gKiByZXN1bHQ7DQoJcCAqPSBsYWN1bmFyaXR5Ow0KDQoJZm9yIChpID0gMTsgKHdlaWdodCA+IDAuMDAxZikgJiYgKGkgPCBpbnQob2N0YXZlcykpOyBpKyspIHsNCgkJaWYgKHdlaWdodCA+IDEuMCkNCgkJCXdlaWdodCA9IDEuMDsNCg0KCQlzaWduYWwgPSAoc25vaXNlKHApICsgb2Zmc2V0KSAqIHB3cjsNCgkJcHdyICo9IHB3SEw7DQoJCXJlc3VsdCArPSB3ZWlnaHQgKiBzaWduYWw7DQoJCXdlaWdodCAqPSBnYWluICogc2lnbmFsOw0KCQlwICo9IGxhY3VuYXJpdHk7DQoJfQ0KDQoJcm1kID0gb2N0YXZlcyAtIGZsb29yKG9jdGF2ZXMpOw0KCWlmIChybWQgIT0gMC4wKQ0KCQlyZXN1bHQgKz0gcm1kICogKChzbm9pc2UocCkgKyBvZmZzZXQpICogcHdyKTsNCg0KCXJldHVybiByZXN1bHQ7DQp9DQoNCi8qIFJpZGdlZCBNdWx0aWZyYWN0YWwgVGVycmFpbg0KICoNCiAqIEg6IGZyYWN0YWwgZGltZW5zaW9uIG9mIHRoZSByb3VnaGVzdCBhcmVhDQogKiBsYWN1bmFyaXR5OiBnYXAgYmV0d2VlbiBzdWNjZXNzaXZlIGZyZXF1ZW5jaWVzDQogKiBvY3RhdmVzOiBudW1iZXIgb2YgZnJlcXVlbmNpZXMgdmFyeWluZyB0aGUgZkJtDQogKiBvZmZzZXQ6IHJhaXNlcyB0aGUgdGVycmFpbiBmcm9tIGBzZWEgbGV2ZWwnDQogKi8NCg0KZmxvYXQgbm9pc2VfbXVzZ3JhdmVfcmlkZ2VkX211bHRpX2ZyYWN0YWwodmVjMyBwLCBmbG9hdCBILCBmbG9hdCBsYWN1bmFyaXR5LCBmbG9hdCBvY3RhdmVzLCBmbG9hdCBvZmZzZXQsIGZsb2F0IGdhaW4pDQp7DQoJZmxvYXQgcmVzdWx0LCBzaWduYWwsIHdlaWdodDsNCglmbG9hdCBwd0hMID0gcG93KGxhY3VuYXJpdHksIC1IKTsNCglmbG9hdCBwd3IgPSBwd0hMOw0KCWludCBpOw0KDQoJc2lnbmFsID0gb2Zmc2V0IC0gYWJzKHNub2lzZShwKSk7DQoJc2lnbmFsICo9IHNpZ25hbDsNCglyZXN1bHQgPSBzaWduYWw7DQoJd2VpZ2h0ID0gMS4wOw0KDQoJZm9yIChpID0gMTsgaSA8IGludChvY3RhdmVzKTsgaSsrKSB7DQoJCXAgKj0gbGFjdW5hcml0eTsNCgkJd2VpZ2h0ID0gY2xhbXAoc2lnbmFsICogZ2FpbiwgMC4wLCAxLjApOw0KCQlzaWduYWwgPSBvZmZzZXQgLSBhYnMoc25vaXNlKHApKTsNCgkJc2lnbmFsICo9IHNpZ25hbDsNCgkJc2lnbmFsICo9IHdlaWdodDsNCgkJcmVzdWx0ICs9IHNpZ25hbCAqIHB3cjsNCgkJcHdyICo9IHB3SEw7DQoJfQ0KDQoJcmV0dXJuIHJlc3VsdDsNCn0NCg0KZmxvYXQgc3ZtX211c2dyYXZlKGludCB0eXBlLA0KICAgICAgICAgICAgICAgICAgIGZsb2F0IGRpbWVuc2lvbiwNCiAgICAgICAgICAgICAgICAgICBmbG9hdCBsYWN1bmFyaXR5LA0KICAgICAgICAgICAgICAgICAgIGZsb2F0IG9jdGF2ZXMsDQogICAgICAgICAgICAgICAgICAgZmxvYXQgb2Zmc2V0LA0KICAgICAgICAgICAgICAgICAgIGZsb2F0IGludGVuc2l0eSwNCiAgICAgICAgICAgICAgICAgICBmbG9hdCBnYWluLA0KICAgICAgICAgICAgICAgICAgIHZlYzMgcCkNCnsNCglpZiAodHlwZSA9PSAwIC8qTk9ERV9NVVNHUkFWRV9NVUxUSUZSQUNUQUwqLykNCgkJcmV0dXJuIGludGVuc2l0eSAqIG5vaXNlX211c2dyYXZlX211bHRpX2ZyYWN0YWwocCwgZGltZW5zaW9uLCBsYWN1bmFyaXR5LCBvY3RhdmVzKTsNCgllbHNlIGlmICh0eXBlID09IDEgLypOT0RFX01VU0dSQVZFX0ZCTSovKQ0KCQlyZXR1cm4gaW50ZW5zaXR5ICogbm9pc2VfbXVzZ3JhdmVfZkJtKHAsIGRpbWVuc2lvbiwgbGFjdW5hcml0eSwgb2N0YXZlcyk7DQoJZWxzZSBpZiAodHlwZSA9PSAyIC8qTk9ERV9NVVNHUkFWRV9IWUJSSURfTVVMVElGUkFDVEFMKi8pDQoJCXJldHVybiBpbnRlbnNpdHkgKiBub2lzZV9tdXNncmF2ZV9oeWJyaWRfbXVsdGlfZnJhY3RhbChwLCBkaW1lbnNpb24sIGxhY3VuYXJpdHksIG9jdGF2ZXMsIG9mZnNldCwgZ2Fpbik7DQoJZWxzZSBpZiAodHlwZSA9PSAzIC8qTk9ERV9NVVNHUkFWRV9SSURHRURfTVVMVElGUkFDVEFMKi8pDQoJCXJldHVybiBpbnRlbnNpdHkgKiBub2lzZV9tdXNncmF2ZV9yaWRnZWRfbXVsdGlfZnJhY3RhbChwLCBkaW1lbnNpb24sIGxhY3VuYXJpdHksIG9jdGF2ZXMsIG9mZnNldCwgZ2Fpbik7DQoJZWxzZSBpZiAodHlwZSA9PSA0IC8qTk9ERV9NVVNHUkFWRV9IRVRFUk9fVEVSUkFJTiovKQ0KCQlyZXR1cm4gaW50ZW5zaXR5ICogbm9pc2VfbXVzZ3JhdmVfaGV0ZXJvX3RlcnJhaW4ocCwgZGltZW5zaW9uLCBsYWN1bmFyaXR5LCBvY3RhdmVzLCBvZmZzZXQpOw0KCXJldHVybiAwLjA7DQp9DQojZW5kaWYgIC8vICNpZmRlZiBCSVRfT1BFUkFUSU9OUw0KDQp2b2lkIG5vZGVfdGV4X211c2dyYXZlKHZlYzMgY28sDQogICAgICAgICAgICAgICAgICAgICAgIGZsb2F0IHNjYWxlLA0KICAgICAgICAgICAgICAgICAgICAgICBmbG9hdCBkZXRhaWwsDQogICAgICAgICAgICAgICAgICAgICAgIGZsb2F0IGRpbWVuc2lvbiwNCiAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQgbGFjdW5hcml0eSwNCiAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQgb2Zmc2V0LA0KICAgICAgICAgICAgICAgICAgICAgICBmbG9hdCBnYWluLA0KICAgICAgICAgICAgICAgICAgICAgICBmbG9hdCB0eXBlLA0KICAgICAgICAgICAgICAgICAgICAgICBvdXQgdmVjNCBjb2xvciwNCiAgICAgICAgICAgICAgICAgICAgICAgb3V0IGZsb2F0IGZhYykNCnsNCiNpZmRlZiBCSVRfT1BFUkFUSU9OUw0KCWZhYyA9IHN2bV9tdXNncmF2ZShpbnQodHlwZSksDQoJICAgICAgICAgICAgICAgICAgIGRpbWVuc2lvbiwNCgkgICAgICAgICAgICAgICAgICAgbGFjdW5hcml0eSwNCgkgICAgICAgICAgICAgICAgICAgZGV0YWlsLA0KCSAgICAgICAgICAgICAgICAgICBvZmZzZXQsDQoJICAgICAgICAgICAgICAgICAgIDEuMCwNCgkgICAgICAgICAgICAgICAgICAgZ2FpbiwNCgkgICAgICAgICAgICAgICAgICAgY28gKiBzY2FsZSk7DQojZWxzZQ0KCWZhYyA9IDEuMDsNCiNlbmRpZg0KDQoJY29sb3IgPSB2ZWM0KGZhYywgZmFjLCBmYWMsIDEuMCk7DQp9DQoNCnZvaWQgbm9kZV90ZXhfc2t5KHZlYzMgY28sIG91dCB2ZWM0IGNvbG9yKQ0Kew0KCWNvbG9yID0gdmVjNCgxLjApOw0KfQ0KDQp2b2lkIG5vZGVfdGV4X3Zvcm9ub2kodmVjMyBjbywgZmxvYXQgc2NhbGUsIGZsb2F0IGNvbG9yaW5nLCBvdXQgdmVjNCBjb2xvciwgb3V0IGZsb2F0IGZhYykNCnsNCiNpZmRlZiBCSVRfT1BFUkFUSU9OUw0KCXZlYzMgcCA9IGNvICogc2NhbGU7DQoJaW50IHh4LCB5eSwgenosIHhpLCB5aSwgemk7DQoJZmxvYXQgZGFbNF07DQoJdmVjMyBwYVs0XTsNCg0KCXhpID0gZmxvb3JfdG9faW50KHBbMF0pOw0KCXlpID0gZmxvb3JfdG9faW50KHBbMV0pOw0KCXppID0gZmxvb3JfdG9faW50KHBbMl0pOw0KDQoJZGFbMF0gPSAxZSsxMDsNCglkYVsxXSA9IDFlKzEwOw0KCWRhWzJdID0gMWUrMTA7DQoJZGFbM10gPSAxZSsxMDsNCg0KCWZvciAoeHggPSB4aSAtIDE7IHh4IDw9IHhpICsgMTsgeHgrKykgew0KCQlmb3IgKHl5ID0geWkgLSAxOyB5eSA8PSB5aSArIDE7IHl5KyspIHsNCgkJCWZvciAoenogPSB6aSAtIDE7IHp6IDw9IHppICsgMTsgenorKykgew0KCQkJCXZlYzMgaXAgPSB2ZWMzKHh4LCB5eSwgenopOw0KCQkJCXZlYzMgdnAgPSBjZWxsbm9pc2VfY29sb3IoaXApOw0KCQkJCXZlYzMgcGQgPSBwIC0gKHZwICsgaXApOw0KCQkJCWZsb2F0IGQgPSBkb3QocGQsIHBkKTsNCgkJCQl2cCArPSB2ZWMzKHh4LCB5eSwgenopOw0KCQkJCWlmIChkIDwgZGFbMF0pIHsNCgkJCQkJZGFbM10gPSBkYVsyXTsNCgkJCQkJZGFbMl0gPSBkYVsxXTsNCgkJCQkJZGFbMV0gPSBkYVswXTsNCgkJCQkJZGFbMF0gPSBkOw0KCQkJCQlwYVszXSA9IHBhWzJdOw0KCQkJCQlwYVsyXSA9IHBhWzFdOw0KCQkJCQlwYVsxXSA9IHBhWzBdOw0KCQkJCQlwYVswXSA9IHZwOw0KCQkJCX0NCgkJCQllbHNlIGlmIChkIDwgZGFbMV0pIHsNCgkJCQkJZGFbM10gPSBkYVsyXTsNCgkJCQkJZGFbMl0gPSBkYVsxXTsNCgkJCQkJZGFbMV0gPSBkOw0KDQoJCQkJCXBhWzNdID0gcGFbMl07DQoJCQkJCXBhWzJdID0gcGFbMV07DQoJCQkJCXBhWzFdID0gdnA7DQoJCQkJfQ0KCQkJCWVsc2UgaWYgKGQgPCBkYVsyXSkgew0KCQkJCQlkYVszXSA9IGRhWzJdOw0KCQkJCQlkYVsyXSA9IGQ7DQoNCgkJCQkJcGFbM10gPSBwYVsyXTsNCgkJCQkJcGFbMl0gPSB2cDsNCgkJCQl9DQoJCQkJZWxzZSBpZiAoZCA8IGRhWzNdKSB7DQoJCQkJCWRhWzNdID0gZDsNCgkJCQkJcGFbM10gPSB2cDsNCgkJCQl9DQoJCQl9DQoJCX0NCgl9DQoNCglpZiAoY29sb3JpbmcgPT0gMC4wKSB7DQoJCWZhYyA9IGFicyhkYVswXSk7DQoJCWNvbG9yID0gdmVjNChmYWMsIGZhYywgZmFjLCAxKTsNCgl9DQoJZWxzZSB7DQoJCWNvbG9yID0gdmVjNChjZWxsbm9pc2VfY29sb3IocGFbMF0pLCAxKTsNCgkJZmFjID0gKGNvbG9yLnggKyBjb2xvci55ICsgY29sb3IueikgKiAoMS4wIC8gMy4wKTsNCgl9DQojZWxzZSAgLy8gQklUX09QRVJBVElPTlMNCgljb2xvciA9IHZlYzQoMS4wKTsNCglmYWMgPSAxLjA7DQojZW5kaWYgIC8vIEJJVF9PUEVSQVRJT05TDQp9DQoNCiNpZmRlZiBCSVRfT1BFUkFUSU9OUw0KZmxvYXQgY2FsY193YXZlKHZlYzMgcCwgZmxvYXQgZGlzdG9ydGlvbiwgZmxvYXQgZGV0YWlsLCBmbG9hdCBkZXRhaWxfc2NhbGUsIGludCB3YXZlX3R5cGUsIGludCB3YXZlX3Byb2ZpbGUpDQp7DQoJZmxvYXQgbjsNCg0KCWlmICh3YXZlX3R5cGUgPT0gMCkgLyogdHlwZSBiYW5kcyAqLw0KCQluID0gKHAueCArIHAueSArIHAueikgKiAxMC4wOw0KCWVsc2UgLyogdHlwZSByaW5ncyAqLw0KCQluID0gbGVuZ3RoKHApICogMjAuMDsNCg0KCWlmIChkaXN0b3J0aW9uICE9IDAuMCkNCgkJbiArPSBkaXN0b3J0aW9uICogbm9pc2VfdHVyYnVsZW5jZShwICogZGV0YWlsX3NjYWxlLCBkZXRhaWwsIDApOw0KDQoJaWYgKHdhdmVfcHJvZmlsZSA9PSAwKSB7IC8qIHByb2ZpbGUgc2luICovDQoJCXJldHVybiAwLjUgKyAwLjUgKiBzaW4obik7DQoJfQ0KCWVsc2UgeyAvKiBwcm9maWxlIHNhdyAqLw0KCQluIC89IDIuMCAqIE1fUEk7DQoJCW4gLT0gaW50KG4pOw0KCQlyZXR1cm4gKG4gPCAwLjApID8gbiArIDEuMCA6IG47DQoJfQ0KfQ0KI2VuZGlmICAvLyBCSVRfT1BFUkFUSU9OUw0KDQp2b2lkIG5vZGVfdGV4X3dhdmUoDQogICAgICAgIHZlYzMgY28sIGZsb2F0IHNjYWxlLCBmbG9hdCBkaXN0b3J0aW9uLCBmbG9hdCBkZXRhaWwsIGZsb2F0IGRldGFpbF9zY2FsZSwgZmxvYXQgd2F2ZV90eXBlLCBmbG9hdCB3YXZlX3Byb2ZpbGUsDQogICAgICAgIG91dCB2ZWM0IGNvbG9yLCBvdXQgZmxvYXQgZmFjKQ0Kew0KI2lmZGVmIEJJVF9PUEVSQVRJT05TDQoJZmxvYXQgZjsNCglmID0gY2FsY193YXZlKGNvICogc2NhbGUsIGRpc3RvcnRpb24sIGRldGFpbCwgZGV0YWlsX3NjYWxlLCBpbnQod2F2ZV90eXBlKSwgaW50KHdhdmVfcHJvZmlsZSkpOw0KDQoJY29sb3IgPSB2ZWM0KGYsIGYsIGYsIDEuMCk7DQoJZmFjID0gZjsNCiNlbHNlICAvLyBCSVRfT1BFUkFUSU9OUw0KCWNvbG9yID0gdmVjNCgxLjApOw0KCWZhYyA9IDE7DQojZW5kaWYgIC8vIEJJVF9PUEVSQVRJT05TDQp9DQoNCi8qIGxpZ2h0IHBhdGggKi8NCg0Kdm9pZCBub2RlX2xpZ2h0X3BhdGgoDQoJb3V0IGZsb2F0IGlzX2NhbWVyYV9yYXksDQoJb3V0IGZsb2F0IGlzX3NoYWRvd19yYXksDQoJb3V0IGZsb2F0IGlzX2RpZmZ1c2VfcmF5LA0KCW91dCBmbG9hdCBpc19nbG9zc3lfcmF5LA0KCW91dCBmbG9hdCBpc19zaW5ndWxhcl9yYXksDQoJb3V0IGZsb2F0IGlzX3JlZmxlY3Rpb25fcmF5LA0KCW91dCBmbG9hdCBpc190cmFuc21pc3Npb25fcmF5LA0KCW91dCBmbG9hdCByYXlfbGVuZ3RoLA0KCW91dCBmbG9hdCByYXlfZGVwdGgsDQoJb3V0IGZsb2F0IGRpZmZ1c2VfZGVwdGgsDQoJb3V0IGZsb2F0IGdsb3NzeV9kZXB0aCwNCglvdXQgZmxvYXQgdHJhbnNwYXJlbnRfZGVwdGgsDQoJb3V0IGZsb2F0IHRyYW5zbWlzc2lvbl9kZXB0aCkNCnsNCglpc19jYW1lcmFfcmF5ID0gMS4wOw0KCWlzX3NoYWRvd19yYXkgPSAwLjA7DQoJaXNfZGlmZnVzZV9yYXkgPSAwLjA7DQoJaXNfZ2xvc3N5X3JheSA9IDAuMDsNCglpc19zaW5ndWxhcl9yYXkgPSAwLjA7DQoJaXNfcmVmbGVjdGlvbl9yYXkgPSAwLjA7DQoJaXNfdHJhbnNtaXNzaW9uX3JheSA9IDAuMDsNCglyYXlfbGVuZ3RoID0gMS4wOw0KCXJheV9kZXB0aCA9IDEuMDsNCglkaWZmdXNlX2RlcHRoID0gMS4wOw0KCWdsb3NzeV9kZXB0aCA9IDEuMDsNCgl0cmFuc3BhcmVudF9kZXB0aCA9IDEuMDsNCgl0cmFuc21pc3Npb25fZGVwdGggPSAxLjA7DQp9DQoNCnZvaWQgbm9kZV9saWdodF9mYWxsb2ZmKGZsb2F0IHN0cmVuZ3RoLCBmbG9hdCB0c21vb3RoLCBvdXQgZmxvYXQgcXVhZHJhdGljLCBvdXQgZmxvYXQgbGluZWFyLCBvdXQgZmxvYXQgY29uc3RhbnQpDQp7DQoJcXVhZHJhdGljID0gc3RyZW5ndGg7DQoJbGluZWFyID0gc3RyZW5ndGg7DQoJY29uc3RhbnQgPSBzdHJlbmd0aDsNCn0NCg0Kdm9pZCBub2RlX29iamVjdF9pbmZvKG1hdDQgb2JtYXQsIHZlYzMgaW5mbywgb3V0IHZlYzMgbG9jYXRpb24sIG91dCBmbG9hdCBvYmplY3RfaW5kZXgsIG91dCBmbG9hdCBtYXRlcmlhbF9pbmRleCwgb3V0IGZsb2F0IHJhbmRvbSkNCnsNCglsb2NhdGlvbiA9IG9ibWF0WzNdLnh5ejsNCglvYmplY3RfaW5kZXggPSBpbmZvLng7DQoJbWF0ZXJpYWxfaW5kZXggPSBpbmZvLnk7DQoJcmFuZG9tID0gaW5mby56Ow0KfQ0KDQp2b2lkIG5vZGVfbm9ybWFsX21hcCh2ZWM0IHRhbmdlbnQsIHZlYzMgbm9ybWFsLCB2ZWMzIHRleG5vcm1hbCwgb3V0IHZlYzMgb3V0bm9ybWFsKQ0Kew0KCXZlYzMgQiA9IHRhbmdlbnQudyAqIGNyb3NzKG5vcm1hbCwgdGFuZ2VudC54eXopOw0KDQoJb3V0bm9ybWFsID0gdGV4bm9ybWFsLnggKiB0YW5nZW50Lnh5eiArIHRleG5vcm1hbC55ICogQiArIHRleG5vcm1hbC56ICogbm9ybWFsOw0KCW91dG5vcm1hbCA9IG5vcm1hbGl6ZShvdXRub3JtYWwpOw0KfQ0KDQp2b2lkIG5vZGVfYnVtcChmbG9hdCBzdHJlbmd0aCwgZmxvYXQgZGlzdCwgZmxvYXQgaGVpZ2h0LCB2ZWMzIE4sIHZlYzMgc3VyZl9wb3MsIGZsb2F0IGludmVydCwgb3V0IHZlYzMgcmVzdWx0KQ0Kew0KCWlmIChpbnZlcnQgIT0gMC4wKSB7DQoJCWRpc3QgKj0gLTEuMDsNCgl9DQoJdmVjMyBkUGR4ID0gZEZkeChzdXJmX3Bvcyk7DQoJdmVjMyBkUGR5ID0gZEZkeShzdXJmX3Bvcyk7DQoNCgkvKiBHZXQgc3VyZmFjZSB0YW5nZW50cyBmcm9tIG5vcm1hbC4gKi8NCgl2ZWMzIFJ4ID0gY3Jvc3MoZFBkeSwgTik7DQoJdmVjMyBSeSA9IGNyb3NzKE4sIGRQZHgpOw0KDQoJLyogQ29tcHV0ZSBzdXJmYWNlIGdyYWRpZW50IGFuZCBkZXRlcm1pbmFudC4gKi8NCglmbG9hdCBkZXQgPSBkb3QoZFBkeCwgUngpOw0KCWZsb2F0IGFic2RldCA9IGFicyhkZXQpOw0KDQoJZmxvYXQgZEhkeCA9IGRGZHgoaGVpZ2h0KTsNCglmbG9hdCBkSGR5ID0gZEZkeShoZWlnaHQpOw0KCXZlYzMgc3VyZmdyYWQgPSBkSGR4ICogUnggKyBkSGR5ICogUnk7DQoNCglzdHJlbmd0aCA9IG1heChzdHJlbmd0aCwgMC4wKTsNCg0KCXJlc3VsdCA9IG5vcm1hbGl6ZShhYnNkZXQgKiBOIC0gZGlzdCAqIHNpZ24oZGV0KSAqIHN1cmZncmFkKTsNCglyZXN1bHQgPSBub3JtYWxpemUoc3RyZW5ndGggKiByZXN1bHQgKyAoMS4wIC0gc3RyZW5ndGgpICogTik7DQp9DQoNCi8qIG91dHB1dCAqLw0KDQp2b2lkIG5vZGVfb3V0cHV0X21hdGVyaWFsKHZlYzQgc3VyZmFjZSwgdmVjNCB2b2x1bWUsIGZsb2F0IGRpc3BsYWNlbWVudCwgb3V0IHZlYzQgcmVzdWx0KQ0Kew0KCXJlc3VsdCA9IHN1cmZhY2U7DQp9DQoNCnZvaWQgbm9kZV9vdXRwdXRfd29ybGQodmVjNCBzdXJmYWNlLCB2ZWM0IHZvbHVtZSwgb3V0IHZlYzQgcmVzdWx0KQ0Kew0KCXJlc3VsdCA9IHN1cmZhY2U7DQp9DQoNCi8qICoqKioqKioqKioqKioqKioqKioqKiogbWF0Y2FwIHN0eWxlIHJlbmRlciAqKioqKioqKioqKioqKioqKioqKiAqLw0KDQp2b2lkIG1hdGVyaWFsX3ByZXZpZXdfbWF0Y2FwKHZlYzQgY29sb3IsIHNhbXBsZXIyRCBpbWEsIHZlYzQgTiwgdmVjNCBtYXNrLCBvdXQgdmVjNCByZXN1bHQpDQp7DQoJdmVjMyBub3JtYWw7DQoJdmVjMiB0ZXg7DQoJDQojaWZuZGVmIFVTRV9PUEVOU1VCRElWDQoJLyogcmVtYXAgdG8gMC4wIC0gMS4wIHJhbmdlLiBUaGlzIGlzIGRvbmUgYmVjYXVzZSBPcGVuR0wgMi4wIGNsYW1wcyBjb2xvcnMNCgkgKiBiZXR3ZWVuIHNoYWRlciBzdGFnZXMgYW5kIHdlIHdhbnQgdGhlIGZ1bGwgcmFuZ2Ugb2YgdGhlIG5vcm1hbCAqLw0KCW5vcm1hbCA9IHZlYzMoMi4wLCAyLjAsIDIuMCkgKiB2ZWMzKE4ueCwgTi55LCBOLnopIC0gdmVjMygxLjAsIDEuMCwgMS4wKTsNCglpZiAobm9ybWFsLnogPCAwLjApIHsNCgkJbm9ybWFsLnogPSAwLjA7DQoJfQ0KCW5vcm1hbCA9IG5vcm1hbGl6ZShub3JtYWwpOw0KI2Vsc2UNCglub3JtYWwgPSBpbnB0LnYubm9ybWFsOw0KCW1hc2sgPSB2ZWM0KDEuMCwgMS4wLCAxLjAsIDEuMCk7DQojZW5kaWYNCg0KCXRleC54ID0gMC41ICsgMC40OSAqIG5vcm1hbC54Ow0KCXRleC55ID0gMC41ICsgMC40OSAqIG5vcm1hbC55Ow0KCXJlc3VsdCA9IHRleHR1cmUyRChpbWEsIHRleCkgKiBtYXNrOw0KfQ0KY29uc3QgdmVjNCBjb25zMSA9IHZlYzQoMC4wNjI4NDgxODA1MzIsIDAuMDU5MDI2MjMwMTI3LCAwLjE0NzAyMjE0MzAwNiwgMS4wMDAwMDAwMDAwMDApOwpjb25zdCBmbG9hdCBjb25zMiA9IGZsb2F0KDAuMDAwMDAwMDAwMDAwKTsKdmFyeWluZyB2ZWMzIHZhcm5vcm1hbDsKY29uc3QgdmVjNCBjb25zNiA9IHZlYzQoMC4wMDAwMDAwMDAwMDAsIDAuMDAwMDAwMDAwMDAwLCAwLjAwMDAwMDAwMDAwMCwgMS4wMDAwMDAwMDAwMDApOwpjb25zdCBmbG9hdCBjb25zNyA9IGZsb2F0KDAuMDAwMDAwMDAwMDAwKTsKCnZvaWQgbWFpbigpCnsKCXZlYzMgZmFjaW5nbm9ybWFsID0gZ2xfRnJvbnRGYWNpbmc/IHZhcm5vcm1hbDogLXZhcm5vcm1hbDsKCXZlYzQgdG1wNDsKCXZlYzQgdG1wODsKCXZlYzQgdG1wMTA7CgoJbm9kZV9ic2RmX2RpZmZ1c2UoY29uczEsIGNvbnMyLCBmYWNpbmdub3JtYWwsIHRtcDQpOwoJbm9kZV9vdXRwdXRfbWF0ZXJpYWwodG1wNCwgY29uczYsIGNvbnM3LCB0bXA4KTsKCWxpbmVhcnJnYl90b19zcmdiKHRtcDgsIHRtcDEwKTsKCglnbF9GcmFnQ29sb3IgPSB0bXAxMDsKfQo="
        },
        "shaders_ExteriorWallsVS": {
            "name": "ExteriorWallsVS",
            "type": 35633,
            "uri": "data:text/plain;base64,I3ZlcnNpb24gMTAwCgpwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKcHJlY2lzaW9uIG1lZGl1bXAgaW50OwoKYXR0cmlidXRlIHZlYzQgYmxfVmVydGV4OwphdHRyaWJ1dGUgdmVjMyBibF9Ob3JtYWw7CnVuaWZvcm0gbWF0NCBibF9Nb2RlbFZpZXdNYXRyaXg7CnVuaWZvcm0gbWF0NCBibF9Qcm9qZWN0aW9uTWF0cml4Owp1bmlmb3JtIG1hdDMgYmxfTm9ybWFsTWF0cml4OwoKDQoNCnZhcnlpbmcgdmVjMyB2YXJwb3NpdGlvbjsNCnZhcnlpbmcgdmVjMyB2YXJub3JtYWw7DQoNCg0KDQoNCi8qIENvbG9yLCBrZWVwIGF0dHJpYnV0ZSBzeW5jIHdpdGg6IGdwdV9zaGFkZXJfdmVydGV4X3dvcmxkLmdsc2wgKi8NCg0KZmxvYXQgc3JnYl90b19saW5lYXJyZ2IoZmxvYXQgYykNCnsNCglpZiAoYyA8IDAuMDQwNDUpDQoJCXJldHVybiAoYyA8IDAuMCkgPyAwLjAgOiBjICogKDEuMCAvIDEyLjkyKTsNCgllbHNlDQoJCXJldHVybiBwb3coKGMgKyAwLjA1NSkgKiAoMS4wIC8gMS4wNTUpLCAyLjQpOw0KfQ0KDQp2b2lkIHNyZ2JfdG9fbGluZWFycmdiKHZlYzMgY29sX2Zyb20sIHZhcnlpbmcgdmVjMyBjb2xfdG8pDQp7DQoJY29sX3RvLnIgPSBzcmdiX3RvX2xpbmVhcnJnYihjb2xfZnJvbS5yKTsNCgljb2xfdG8uZyA9IHNyZ2JfdG9fbGluZWFycmdiKGNvbF9mcm9tLmcpOw0KCWNvbF90by5iID0gc3JnYl90b19saW5lYXJyZ2IoY29sX2Zyb20uYik7DQp9DQoNCnZvaWQgc3JnYl90b19saW5lYXJyZ2IodmVjNCBjb2xfZnJvbSwgdmFyeWluZyB2ZWM0IGNvbF90bykNCnsNCgljb2xfdG8uciA9IHNyZ2JfdG9fbGluZWFycmdiKGNvbF9mcm9tLnIpOw0KCWNvbF90by5nID0gc3JnYl90b19saW5lYXJyZ2IoY29sX2Zyb20uZyk7DQoJY29sX3RvLmIgPSBzcmdiX3RvX2xpbmVhcnJnYihjb2xfZnJvbS5iKTsNCgljb2xfdG8uYSA9IGNvbF9mcm9tLmE7DQp9DQoNCmJvb2wgaXNfc3JnYihpbnQgaW5mbykNCnsNCiNpZmRlZiBVU0VfTkVXX1NIQURJTkcNCglyZXR1cm4gKGluZm8gPT0gMSk/IHRydWU6IGZhbHNlOw0KI2Vsc2UNCglyZXR1cm4gZmFsc2U7DQojZW5kaWYNCn0NCg0Kdm9pZCBzZXRfdmFyX2Zyb21fYXR0cihmbG9hdCBhdHRyLCBpbnQgaW5mbywgdmFyeWluZyBmbG9hdCB2YXIpDQp7DQoJdmFyID0gYXR0cjsNCn0NCg0Kdm9pZCBzZXRfdmFyX2Zyb21fYXR0cih2ZWMyIGF0dHIsIGludCBpbmZvLCB2YXJ5aW5nIHZlYzIgdmFyKQ0Kew0KCXZhciA9IGF0dHI7DQp9DQoNCnZvaWQgc2V0X3Zhcl9mcm9tX2F0dHIodmVjMyBhdHRyLCBpbnQgaW5mbywgdmFyeWluZyB2ZWMzIHZhcikNCnsNCglpZiAoaXNfc3JnYihpbmZvKSkgew0KCQlzcmdiX3RvX2xpbmVhcnJnYihhdHRyLCB2YXIpOw0KCX0NCgllbHNlIHsNCgkJdmFyID0gYXR0cjsNCgl9DQp9DQoNCnZvaWQgc2V0X3Zhcl9mcm9tX2F0dHIodmVjNCBhdHRyLCBpbnQgaW5mbywgdmFyeWluZyB2ZWM0IHZhcikNCnsNCglpZiAoaXNfc3JnYihpbmZvKSkgew0KCQlzcmdiX3RvX2xpbmVhcnJnYihhdHRyLCB2YXIpOw0KCX0NCgllbHNlIHsNCgkJdmFyID0gYXR0cjsNCgl9DQp9DQoNCi8qIGVuZCBjb2xvciBjb2RlICovDQoNCg0Kdm9pZCBtYWluKCkNCnsNCg0KCXZlYzQgcG9zaXRpb24gPSBibF9WZXJ0ZXg7DQoJdmVjMyBub3JtYWwgPSBibF9Ob3JtYWw7DQoNCg0KCXZlYzQgY28gPSBibF9Nb2RlbFZpZXdNYXRyaXggKiBwb3NpdGlvbjsNCg0KCXZhcnBvc2l0aW9uID0gY28ueHl6Ow0KCXZhcm5vcm1hbCA9IG5vcm1hbGl6ZShibF9Ob3JtYWxNYXRyaXggKiBub3JtYWwpOw0KCWdsX1Bvc2l0aW9uID0gYmxfUHJvamVjdGlvbk1hdHJpeCAqIGNvOw0KDQogDQoNCg0KfQo="
        },
        "shaders_Neon OffFS": {
            "name": "Neon OffFS",
            "type": 35632,
            "uri": "data:text/plain;base64,I3ZlcnNpb24gMTAwCiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzOiBlbmFibGUKCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1hdDQgYmxfUHJvamVjdGlvbk1hdHJpeDsKdW5pZm9ybSBtYXQ0IGJsX01vZGVsVmlld01hdHJpeDsKdW5pZm9ybSBtYXQ0IGJsX01vZGVsVmlld01hdHJpeEludmVyc2U7CnVuaWZvcm0gbWF0MyBibF9Ob3JtYWxNYXRyaXg7CnVuaWZvcm0gbWF0NCBibF9Qcm9qZWN0aW9uTWF0cml4SW52ZXJzZTsKLyogQ29udmVydGVycyAqLw0KDQpmbG9hdCBjb252ZXJ0X3JnYmFfdG9fZmxvYXQodmVjNCBjb2xvcikNCnsNCiNpZmRlZiBVU0VfTkVXX1NIQURJTkcNCglyZXR1cm4gY29sb3IuciAqIDAuMjEyNiArIGNvbG9yLmcgKiAwLjcxNTIgKyBjb2xvci5iICogMC4wNzIyOw0KI2Vsc2UNCglyZXR1cm4gKGNvbG9yLnIgKyBjb2xvci5nICsgY29sb3IuYikgLyAzLjA7DQojZW5kaWYNCn0NCg0KZmxvYXQgZXhwX2JsZW5kZXIoZmxvYXQgZikNCnsNCglyZXR1cm4gcG93KDIuNzE4MjgxODI4NDYsIGYpOw0KfQ0KDQpmbG9hdCBjb21wYXRpYmxlX3BvdyhmbG9hdCB4LCBmbG9hdCB5KQ0Kew0KCWlmICh5ID09IDAuMCkgLyogeF4wIC0+IDEsIGluY2x1ZGluZyAwXjAgKi8NCgkJcmV0dXJuIDEuMDsNCg0KCS8qIGdsc2wgcG93IGRvZXNuJ3QgYWNjZXB0IG5lZ2F0aXZlIHggKi8NCglpZiAoeCA8IDAuMCkgew0KCQlpZiAobW9kKC15LCAyLjApID09IDAuMCkNCgkJCXJldHVybiBwb3coLXgsIHkpOw0KCQllbHNlDQoJCQlyZXR1cm4gLXBvdygteCwgeSk7DQoJfQ0KCWVsc2UgaWYgKHggPT0gMC4wKQ0KCQlyZXR1cm4gMC4wOw0KDQoJcmV0dXJuIHBvdyh4LCB5KTsNCn0NCg0Kdm9pZCByZ2JfdG9faHN2KHZlYzQgcmdiLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmxvYXQgY21heCwgY21pbiwgaCwgcywgdiwgY2RlbHRhOw0KCXZlYzMgYzsNCg0KCWNtYXggPSBtYXgocmdiWzBdLCBtYXgocmdiWzFdLCByZ2JbMl0pKTsNCgljbWluID0gbWluKHJnYlswXSwgbWluKHJnYlsxXSwgcmdiWzJdKSk7DQoJY2RlbHRhID0gY21heCAtIGNtaW47DQoNCgl2ID0gY21heDsNCglpZiAoY21heCAhPSAwLjApDQoJCXMgPSBjZGVsdGEgLyBjbWF4Ow0KCWVsc2Ugew0KCQlzID0gMC4wOw0KCQloID0gMC4wOw0KCX0NCg0KCWlmIChzID09IDAuMCkgew0KCQloID0gMC4wOw0KCX0NCgllbHNlIHsNCgkJYyA9ICh2ZWMzKGNtYXgsIGNtYXgsIGNtYXgpIC0gcmdiLnh5eikgLyBjZGVsdGE7DQoNCgkJaWYgKHJnYi54ID09IGNtYXgpIGggPSBjWzJdIC0gY1sxXTsNCgkJZWxzZSBpZiAocmdiLnkgPT0gY21heCkgaCA9IDIuMCArIGNbMF0gLSAgY1syXTsNCgkJZWxzZSBoID0gNC4wICsgY1sxXSAtIGNbMF07DQoNCgkJaCAvPSA2LjA7DQoNCgkJaWYgKGggPCAwLjApDQoJCQloICs9IDEuMDsNCgl9DQoNCglvdXRjb2wgPSB2ZWM0KGgsIHMsIHYsIHJnYi53KTsNCn0NCg0Kdm9pZCBoc3ZfdG9fcmdiKHZlYzQgaHN2LCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmxvYXQgaSwgZiwgcCwgcSwgdCwgaCwgcywgdjsNCgl2ZWMzIHJnYjsNCg0KCWggPSBoc3ZbMF07DQoJcyA9IGhzdlsxXTsNCgl2ID0gaHN2WzJdOw0KDQoJaWYgKHMgPT0gMC4wKSB7DQoJCXJnYiA9IHZlYzModiwgdiwgdik7DQoJfQ0KCWVsc2Ugew0KCQlpZiAoaCA9PSAxLjApDQoJCQloID0gMC4wOw0KDQoJCWggKj0gNi4wOw0KCQlpID0gZmxvb3IoaCk7DQoJCWYgPSBoIC0gaTsNCgkJcmdiID0gdmVjMyhmLCBmLCBmKTsNCgkJcCA9IHYgKiAoMS4wIC0gcyk7DQoJCXEgPSB2ICogKDEuMCAtIChzICogZikpOw0KCQl0ID0gdiAqICgxLjAgLSAocyAqICgxLjAgLSBmKSkpOw0KDQoJCWlmIChpID09IDAuMCkgcmdiID0gdmVjMyh2LCB0LCBwKTsNCgkJZWxzZSBpZiAoaSA9PSAxLjApIHJnYiA9IHZlYzMocSwgdiwgcCk7DQoJCWVsc2UgaWYgKGkgPT0gMi4wKSByZ2IgPSB2ZWMzKHAsIHYsIHQpOw0KCQllbHNlIGlmIChpID09IDMuMCkgcmdiID0gdmVjMyhwLCBxLCB2KTsNCgkJZWxzZSBpZiAoaSA9PSA0LjApIHJnYiA9IHZlYzModCwgcCwgdik7DQoJCWVsc2UgcmdiID0gdmVjMyh2LCBwLCBxKTsNCgl9DQoNCglvdXRjb2wgPSB2ZWM0KHJnYiwgaHN2LncpOw0KfQ0KDQpmbG9hdCBzcmdiX3RvX2xpbmVhcnJnYihmbG9hdCBjKQ0Kew0KCWlmIChjIDwgMC4wNDA0NSkNCgkJcmV0dXJuIChjIDwgMC4wKSA/IDAuMCA6IGMgKiAoMS4wIC8gMTIuOTIpOw0KCWVsc2UNCgkJcmV0dXJuIHBvdygoYyArIDAuMDU1KSAqICgxLjAgLyAxLjA1NSksIDIuNCk7DQp9DQoNCmZsb2F0IGxpbmVhcnJnYl90b19zcmdiKGZsb2F0IGMpDQp7DQoJaWYgKGMgPCAwLjAwMzEzMDgpDQoJCXJldHVybiAoYyA8IDAuMCkgPyAwLjAgOiBjICogMTIuOTI7DQoJZWxzZQ0KCQlyZXR1cm4gMS4wNTUgKiBwb3coYywgMS4wIC8gMi40KSAtIDAuMDU1Ow0KfQ0KDQp2b2lkIHNyZ2JfdG9fbGluZWFycmdiKHZlYzQgY29sX2Zyb20sIG91dCB2ZWM0IGNvbF90bykNCnsNCgljb2xfdG8uciA9IHNyZ2JfdG9fbGluZWFycmdiKGNvbF9mcm9tLnIpOw0KCWNvbF90by5nID0gc3JnYl90b19saW5lYXJyZ2IoY29sX2Zyb20uZyk7DQoJY29sX3RvLmIgPSBzcmdiX3RvX2xpbmVhcnJnYihjb2xfZnJvbS5iKTsNCgljb2xfdG8uYSA9IGNvbF9mcm9tLmE7DQp9DQoNCnZvaWQgbGluZWFycmdiX3RvX3NyZ2IodmVjNCBjb2xfZnJvbSwgb3V0IHZlYzQgY29sX3RvKQ0Kew0KCWNvbF90by5yID0gbGluZWFycmdiX3RvX3NyZ2IoY29sX2Zyb20ucik7DQoJY29sX3RvLmcgPSBsaW5lYXJyZ2JfdG9fc3JnYihjb2xfZnJvbS5nKTsNCgljb2xfdG8uYiA9IGxpbmVhcnJnYl90b19zcmdiKGNvbF9mcm9tLmIpOw0KCWNvbF90by5hID0gY29sX2Zyb20uYTsNCn0NCg0Kdm9pZCBjb2xvcl90b19ub3JtYWwodmVjMyBjb2xvciwgb3V0IHZlYzMgbm9ybWFsKQ0Kew0KCW5vcm1hbC54ID0gIDIuMCAqICgoY29sb3IucikgLSAwLjUpOw0KCW5vcm1hbC55ID0gLTIuMCAqICgoY29sb3IuZykgLSAwLjUpOw0KCW5vcm1hbC56ID0gIDIuMCAqICgoY29sb3IuYikgLSAwLjUpOw0KfQ0KDQp2b2lkIGNvbG9yX3RvX25vcm1hbF9uZXdfc2hhZGluZyh2ZWMzIGNvbG9yLCBvdXQgdmVjMyBub3JtYWwpDQp7DQoJbm9ybWFsLnggPSAgMi4wICogKChjb2xvci5yKSAtIDAuNSk7DQoJbm9ybWFsLnkgPSAgMi4wICogKChjb2xvci5nKSAtIDAuNSk7DQoJbm9ybWFsLnogPSAgMi4wICogKChjb2xvci5iKSAtIDAuNSk7DQp9DQoNCnZvaWQgY29sb3JfdG9fYmxlbmRlcl9ub3JtYWxfbmV3X3NoYWRpbmcodmVjMyBjb2xvciwgb3V0IHZlYzMgbm9ybWFsKQ0Kew0KCW5vcm1hbC54ID0gIDIuMCAqICgoY29sb3IucikgLSAwLjUpOw0KCW5vcm1hbC55ID0gLTIuMCAqICgoY29sb3IuZykgLSAwLjUpOw0KCW5vcm1hbC56ID0gLTIuMCAqICgoY29sb3IuYikgLSAwLjUpOw0KfQ0KDQojZGVmaW5lIE1fUEkgMy4xNDE1OTI2NTM1ODk3OTMyMzg0Ng0KI2RlZmluZSBNXzFfUEkgMC4zMTgzMDk4ODYxODM3OTA2OQ0KDQovKioqKioqKioqKiogU0hBREVSIE5PREVTICoqKioqKioqKioqKioqKi8NCg0Kdm9pZCB2Y29sX2F0dHJpYnV0ZSh2ZWM0IGF0dHZjb2wsIG91dCB2ZWM0IHZjb2wpDQp7DQoJdmNvbCA9IHZlYzQoYXR0dmNvbC54LCBhdHR2Y29sLnksIGF0dHZjb2wueiwgMS4wKTsNCn0NCg0Kdm9pZCB1dl9hdHRyaWJ1dGUodmVjMiBhdHR1diwgb3V0IHZlYzMgdXYpDQp7DQoJdXYgPSB2ZWMzKGF0dHV2ICogMi4wIC0gdmVjMigxLjAsIDEuMCksIDAuMCk7DQp9DQoNCnZvaWQgZ2VvbSgNCiAgICAgICAgdmVjMyBjbywgdmVjMyBub3IsIG1hdDQgdmlld2ludm1hdCwgdmVjMyBhdHRvcmNvLCB2ZWMyIGF0dHV2LCB2ZWM0IGF0dHZjb2wsDQogICAgICAgIG91dCB2ZWMzIGdsb2JhbCwgb3V0IHZlYzMgbG9jYWwsIG91dCB2ZWMzIHZpZXcsIG91dCB2ZWMzIG9yY28sIG91dCB2ZWMzIHV2LA0KICAgICAgICBvdXQgdmVjMyBub3JtYWwsIG91dCB2ZWM0IHZjb2wsIG91dCBmbG9hdCB2Y29sX2FscGhhLCBvdXQgZmxvYXQgZnJvbnRiYWNrKQ0Kew0KCWxvY2FsID0gY287DQoJdmlldyA9IChibF9Qcm9qZWN0aW9uTWF0cml4WzNdWzNdID09IDAuMCkgPyBub3JtYWxpemUobG9jYWwpIDogdmVjMygwLjAsIDAuMCwgLTEuMCk7DQoJZ2xvYmFsID0gKHZpZXdpbnZtYXQgKiB2ZWM0KGxvY2FsLCAxLjApKS54eXo7DQoJb3JjbyA9IGF0dG9yY287DQoJdXZfYXR0cmlidXRlKGF0dHV2LCB1dik7DQoJbm9ybWFsID0gLW5vcm1hbGl6ZShub3IpOyAgIC8qIGJsZW5kZXIgcmVuZGVyIG5vcm1hbCBpcyBuZWdhdGVkICovDQoJdmNvbF9hdHRyaWJ1dGUoYXR0dmNvbCwgdmNvbCk7DQoJc3JnYl90b19saW5lYXJyZ2IodmNvbCwgdmNvbCk7DQoJdmNvbF9hbHBoYSA9IGF0dHZjb2wuYTsNCglmcm9udGJhY2sgPSAoZ2xfRnJvbnRGYWNpbmcpID8gMS4wIDogMC4wOw0KfQ0KDQp2b2lkIHBhcnRpY2xlX2luZm8oDQogICAgICAgIHZlYzQgc3Byb3BzLCB2ZWMzIGxvYywgdmVjMyB2ZWwsIHZlYzMgYXZlbCwNCiAgICAgICAgb3V0IGZsb2F0IGluZGV4LCBvdXQgZmxvYXQgYWdlLCBvdXQgZmxvYXQgbGlmZV90aW1lLCBvdXQgdmVjMyBsb2NhdGlvbiwNCiAgICAgICAgb3V0IGZsb2F0IHNpemUsIG91dCB2ZWMzIHZlbG9jaXR5LCBvdXQgdmVjMyBhbmd1bGFyX3ZlbG9jaXR5KQ0Kew0KCWluZGV4ID0gc3Byb3BzLng7DQoJYWdlID0gc3Byb3BzLnk7DQoJbGlmZV90aW1lID0gc3Byb3BzLno7DQoJc2l6ZSA9IHNwcm9wcy53Ow0KDQoJbG9jYXRpb24gPSBsb2M7DQoJdmVsb2NpdHkgPSB2ZWw7DQoJYW5ndWxhcl92ZWxvY2l0eSA9IGF2ZWw7DQp9DQoNCnZvaWQgdmVjdF9ub3JtYWxpemUodmVjMyB2aW4sIG91dCB2ZWMzIHZvdXQpDQp7DQoJdm91dCA9IG5vcm1hbGl6ZSh2aW4pOw0KfQ0KDQp2b2lkIGRpcmVjdGlvbl90cmFuc2Zvcm1fbTR2Myh2ZWMzIHZpbiwgbWF0NCBtYXQsIG91dCB2ZWMzIHZvdXQpDQp7DQoJdm91dCA9IChtYXQgKiB2ZWM0KHZpbiwgMC4wKSkueHl6Ow0KfQ0KDQp2b2lkIHBvaW50X3RyYW5zZm9ybV9tNHYzKHZlYzMgdmluLCBtYXQ0IG1hdCwgb3V0IHZlYzMgdm91dCkNCnsNCgl2b3V0ID0gKG1hdCAqIHZlYzQodmluLCAxLjApKS54eXo7DQp9DQoNCnZvaWQgcG9pbnRfdGV4Y29fcmVtYXBfc3F1YXJlKHZlYzMgdmluLCBvdXQgdmVjMyB2b3V0KQ0Kew0KCXZvdXQgPSB2ZWMzKHZpbiAtIHZlYzMoMC41LCAwLjUsIDAuNSkpICogMi4wOw0KfQ0KDQp2b2lkIHBvaW50X21hcF90b19zcGhlcmUodmVjMyB2aW4sIG91dCB2ZWMzIHZvdXQpDQp7DQoJZmxvYXQgbGVuID0gbGVuZ3RoKHZpbik7DQoJZmxvYXQgdiwgdTsNCglpZiAobGVuID4gMC4wKSB7DQoJCWlmICh2aW4ueCA9PSAwLjAgJiYgdmluLnkgPT0gMC4wKQ0KCQkJdSA9IDAuMDsNCgkJZWxzZQ0KCQkJdSA9ICgxLjAgLSBhdGFuKHZpbi54LCB2aW4ueSkgLyBNX1BJKSAvIDIuMDsNCg0KCQl2ID0gMS4wIC0gYWNvcyh2aW4ueiAvIGxlbikgLyBNX1BJOw0KCX0NCgllbHNlDQoJCXYgPSB1ID0gMC4wOw0KDQoJdm91dCA9IHZlYzModSwgdiwgMC4wKTsNCn0NCg0Kdm9pZCBwb2ludF9tYXBfdG9fdHViZSh2ZWMzIHZpbiwgb3V0IHZlYzMgdm91dCkNCnsNCglmbG9hdCB1LCB2Ow0KCXYgPSAodmluLnogKyAxLjApICogMC41Ow0KCWZsb2F0IGxlbiA9IHNxcnQodmluLnggKiB2aW4ueCArIHZpbi55ICogdmluWzFdKTsNCglpZiAobGVuID4gMC4wKQ0KCQl1ID0gKDEuMCAtIChhdGFuKHZpbi54IC8gbGVuLCB2aW4ueSAvIGxlbikgLyBNX1BJKSkgKiAwLjU7DQoJZWxzZQ0KCQl2ID0gdSA9IDAuMDsNCg0KCXZvdXQgPSB2ZWMzKHUsIHYsIDAuMCk7DQp9DQoNCnZvaWQgbWFwcGluZyh2ZWMzIHZlYywgbWF0NCBtYXQsIHZlYzMgbWludmVjLCB2ZWMzIG1heHZlYywgZmxvYXQgZG9taW4sIGZsb2F0IGRvbWF4LCBvdXQgdmVjMyBvdXR2ZWMpDQp7DQoJb3V0dmVjID0gKG1hdCAqIHZlYzQodmVjLCAxLjApKS54eXo7DQoJaWYgKGRvbWluID09IDEuMCkNCgkJb3V0dmVjID0gbWF4KG91dHZlYywgbWludmVjKTsNCglpZiAoZG9tYXggPT0gMS4wKQ0KCQlvdXR2ZWMgPSBtaW4ob3V0dmVjLCBtYXh2ZWMpOw0KfQ0KDQp2b2lkIGNhbWVyYSh2ZWMzIGNvLCBvdXQgdmVjMyBvdXR2aWV3LCBvdXQgZmxvYXQgb3V0ZGVwdGgsIG91dCBmbG9hdCBvdXRkaXN0KQ0Kew0KCW91dGRlcHRoID0gYWJzKGNvLnopOw0KCW91dGRpc3QgPSBsZW5ndGgoY28pOw0KCW91dHZpZXcgPSBub3JtYWxpemUoY28pOw0KfQ0KDQp2b2lkIGxhbXAoDQogICAgICAgIHZlYzQgY29sLCBmbG9hdCBlbmVyZ3ksIHZlYzMgbHYsIGZsb2F0IGRpc3QsIHZlYzMgc2hhZG93LCBmbG9hdCB2aXNpZmFjLA0KICAgICAgICBvdXQgdmVjNCBvdXRjb2wsIG91dCB2ZWMzIG91dGx2LCBvdXQgZmxvYXQgb3V0ZGlzdCwgb3V0IHZlYzQgb3V0c2hhZG93LCBvdXQgZmxvYXQgb3V0dmlzaWZhYykNCnsNCglvdXRjb2wgPSBjb2wgKiBlbmVyZ3k7DQoJb3V0bHYgPSBsdjsNCglvdXRkaXN0ID0gZGlzdDsNCglvdXRzaGFkb3cgPSB2ZWM0KHNoYWRvdywgMS4wKTsNCglvdXR2aXNpZmFjID0gdmlzaWZhYzsNCn0NCg0Kdm9pZCBtYXRoX2FkZChmbG9hdCB2YWwxLCBmbG9hdCB2YWwyLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9IHZhbDEgKyB2YWwyOw0KfQ0KDQp2b2lkIG1hdGhfc3VidHJhY3QoZmxvYXQgdmFsMSwgZmxvYXQgdmFsMiwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglvdXR2YWwgPSB2YWwxIC0gdmFsMjsNCn0NCg0Kdm9pZCBtYXRoX211bHRpcGx5KGZsb2F0IHZhbDEsIGZsb2F0IHZhbDIsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gdmFsMSAqIHZhbDI7DQp9DQoNCnZvaWQgbWF0aF9kaXZpZGUoZmxvYXQgdmFsMSwgZmxvYXQgdmFsMiwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglpZiAodmFsMiA9PSAwLjApDQoJCW91dHZhbCA9IDAuMDsNCgllbHNlDQoJCW91dHZhbCA9IHZhbDEgLyB2YWwyOw0KfQ0KDQp2b2lkIG1hdGhfc2luZShmbG9hdCB2YWwsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gc2luKHZhbCk7DQp9DQoNCnZvaWQgbWF0aF9jb3NpbmUoZmxvYXQgdmFsLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9IGNvcyh2YWwpOw0KfQ0KDQp2b2lkIG1hdGhfdGFuZ2VudChmbG9hdCB2YWwsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gdGFuKHZhbCk7DQp9DQoNCnZvaWQgbWF0aF9hc2luKGZsb2F0IHZhbCwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglpZiAodmFsIDw9IDEuMCAmJiB2YWwgPj0gLTEuMCkNCgkJb3V0dmFsID0gYXNpbih2YWwpOw0KCWVsc2UNCgkJb3V0dmFsID0gMC4wOw0KfQ0KDQp2b2lkIG1hdGhfYWNvcyhmbG9hdCB2YWwsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJaWYgKHZhbCA8PSAxLjAgJiYgdmFsID49IC0xLjApDQoJCW91dHZhbCA9IGFjb3ModmFsKTsNCgllbHNlDQoJCW91dHZhbCA9IDAuMDsNCn0NCg0Kdm9pZCBtYXRoX2F0YW4oZmxvYXQgdmFsLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9IGF0YW4odmFsKTsNCn0NCg0Kdm9pZCBtYXRoX3BvdyhmbG9hdCB2YWwxLCBmbG9hdCB2YWwyLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCWlmICh2YWwxID49IDAuMCkgew0KCQlvdXR2YWwgPSBjb21wYXRpYmxlX3Bvdyh2YWwxLCB2YWwyKTsNCgl9DQoJZWxzZSB7DQoJCWZsb2F0IHZhbDJfbW9kXzEgPSBtb2QoYWJzKHZhbDIpLCAxLjApOw0KDQoJCWlmICh2YWwyX21vZF8xID4gMC45OTkgfHwgdmFsMl9tb2RfMSA8IDAuMDAxKQ0KCQkJb3V0dmFsID0gY29tcGF0aWJsZV9wb3codmFsMSwgZmxvb3IodmFsMiArIDAuNSkpOw0KCQllbHNlDQoJCQlvdXR2YWwgPSAwLjA7DQoJfQ0KfQ0KDQp2b2lkIG1hdGhfbG9nKGZsb2F0IHZhbDEsIGZsb2F0IHZhbDIsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJaWYgKHZhbDEgPiAwLjAgICYmIHZhbDIgPiAwLjApDQoJCW91dHZhbCA9IGxvZzIodmFsMSkgLyBsb2cyKHZhbDIpOw0KCWVsc2UNCgkJb3V0dmFsID0gMC4wOw0KfQ0KDQp2b2lkIG1hdGhfbWF4KGZsb2F0IHZhbDEsIGZsb2F0IHZhbDIsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gbWF4KHZhbDEsIHZhbDIpOw0KfQ0KDQp2b2lkIG1hdGhfbWluKGZsb2F0IHZhbDEsIGZsb2F0IHZhbDIsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gbWluKHZhbDEsIHZhbDIpOw0KfQ0KDQp2b2lkIG1hdGhfcm91bmQoZmxvYXQgdmFsLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9IGZsb29yKHZhbCArIDAuNSk7DQp9DQoNCnZvaWQgbWF0aF9sZXNzX3RoYW4oZmxvYXQgdmFsMSwgZmxvYXQgdmFsMiwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglpZiAodmFsMSA8IHZhbDIpDQoJCW91dHZhbCA9IDEuMDsNCgllbHNlDQoJCW91dHZhbCA9IDAuMDsNCn0NCg0Kdm9pZCBtYXRoX2dyZWF0ZXJfdGhhbihmbG9hdCB2YWwxLCBmbG9hdCB2YWwyLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCWlmICh2YWwxID4gdmFsMikNCgkJb3V0dmFsID0gMS4wOw0KCWVsc2UNCgkJb3V0dmFsID0gMC4wOw0KfQ0KDQp2b2lkIG1hdGhfbW9kdWxvKGZsb2F0IHZhbDEsIGZsb2F0IHZhbDIsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJaWYgKHZhbDIgPT0gMC4wKQ0KCQlvdXR2YWwgPSAwLjA7DQoJZWxzZQ0KCQlvdXR2YWwgPSBtb2QodmFsMSwgdmFsMik7DQoNCgkvKiBjaGFuZ2Ugc2lnbiB0byBtYXRjaCBDIGNvbnZlbnRpb24sIG1vZCB2YXJ5aW5nIEdMU0wgd2lsbCB0YWtlIGFic29sdXRlIGZvciBuZWdhdGl2ZSBudW1iZXJzLA0KCSAqIHNlZSBodHRwczovL3d3dy5vcGVuZ2wub3JnL3Nkay9kb2NzL21hbi9odG1sL21vZC54aHRtbCAqLw0KCW91dHZhbCA9ICh2YWwxID4gMC4wKSA/IG91dHZhbCA6IG91dHZhbCAtIHZhbDI7DQp9DQoNCnZvaWQgbWF0aF9hYnMoZmxvYXQgdmFsMSwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglvdXR2YWwgPSBhYnModmFsMSk7DQp9DQoNCnZvaWQgc3F1ZWV6ZShmbG9hdCB2YWwsIGZsb2F0IHdpZHRoLCBmbG9hdCBjZW50ZXIsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gMS4wIC8gKDEuMCArIHBvdygyLjcxODI4MTgzLCAtKCh2YWwgLSBjZW50ZXIpICogd2lkdGgpKSk7DQp9DQoNCnZvaWQgdmVjX21hdGhfYWRkKHZlYzMgdjEsIHZlYzMgdjIsIG91dCB2ZWMzIG91dHZlYywgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglvdXR2ZWMgPSB2MSArIHYyOw0KCW91dHZhbCA9IChhYnMob3V0dmVjWzBdKSArIGFicyhvdXR2ZWNbMV0pICsgYWJzKG91dHZlY1syXSkpIC8gMy4wOw0KfQ0KDQp2b2lkIHZlY19tYXRoX3N1Yih2ZWMzIHYxLCB2ZWMzIHYyLCBvdXQgdmVjMyBvdXR2ZWMsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmVjID0gdjEgLSB2MjsNCglvdXR2YWwgPSAoYWJzKG91dHZlY1swXSkgKyBhYnMob3V0dmVjWzFdKSArIGFicyhvdXR2ZWNbMl0pKSAvIDMuMDsNCn0NCg0Kdm9pZCB2ZWNfbWF0aF9hdmVyYWdlKHZlYzMgdjEsIHZlYzMgdjIsIG91dCB2ZWMzIG91dHZlYywgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglvdXR2ZWMgPSB2MSArIHYyOw0KCW91dHZhbCA9IGxlbmd0aChvdXR2ZWMpOw0KCW91dHZlYyA9IG5vcm1hbGl6ZShvdXR2ZWMpOw0KfQ0Kdm9pZCB2ZWNfbWF0aF9taXgoZmxvYXQgc3RyZW5ndGgsIHZlYzMgdjEsIHZlYzMgdjIsIG91dCB2ZWMzIG91dHZlYykNCnsNCglvdXR2ZWMgPSBzdHJlbmd0aCAqIHYxICsgKDEgLSBzdHJlbmd0aCkgKiB2MjsNCn0NCg0Kdm9pZCB2ZWNfbWF0aF9kb3QodmVjMyB2MSwgdmVjMyB2Miwgb3V0IHZlYzMgb3V0dmVjLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZlYyA9IHZlYzMoMCwgMCwgMCk7DQoJb3V0dmFsID0gZG90KHYxLCB2Mik7DQp9DQoNCnZvaWQgdmVjX21hdGhfY3Jvc3ModmVjMyB2MSwgdmVjMyB2Miwgb3V0IHZlYzMgb3V0dmVjLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZlYyA9IGNyb3NzKHYxLCB2Mik7DQoJb3V0dmFsID0gbGVuZ3RoKG91dHZlYyk7DQoJb3V0dmVjIC89IG91dHZhbDsNCn0NCg0Kdm9pZCB2ZWNfbWF0aF9ub3JtYWxpemUodmVjMyB2LCBvdXQgdmVjMyBvdXR2ZWMsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gbGVuZ3RoKHYpOw0KCW91dHZlYyA9IG5vcm1hbGl6ZSh2KTsNCn0NCg0Kdm9pZCB2ZWNfbWF0aF9uZWdhdGUodmVjMyB2LCBvdXQgdmVjMyBvdXR2KQ0Kew0KCW91dHYgPSAtdjsNCn0NCg0Kdm9pZCBpbnZlcnRfeih2ZWMzIHYsIG91dCB2ZWMzIG91dHYpDQp7DQoJdi56ID0gLXYuejsNCglvdXR2ID0gdjsNCn0NCg0Kdm9pZCBub3JtYWwodmVjMyBkaXIsIHZlYzMgbm9yLCBvdXQgdmVjMyBvdXRub3IsIG91dCBmbG9hdCBvdXRkb3QpDQp7DQoJb3V0bm9yID0gbm9yOw0KCW91dGRvdCA9IC1kb3QoZGlyLCBub3IpOw0KfQ0KDQp2b2lkIG5vcm1hbF9uZXdfc2hhZGluZyh2ZWMzIGRpciwgdmVjMyBub3IsIG91dCB2ZWMzIG91dG5vciwgb3V0IGZsb2F0IG91dGRvdCkNCnsNCglvdXRub3IgPSBub3JtYWxpemUobm9yKTsNCglvdXRkb3QgPSBkb3Qobm9ybWFsaXplKGRpciksIG5vcik7DQp9DQoNCnZvaWQgY3VydmVzX3ZlYyhmbG9hdCBmYWMsIHZlYzMgdmVjLCBzYW1wbGVyMkQgY3VydmVtYXAsIG91dCB2ZWMzIG91dHZlYykNCnsNCglvdXR2ZWMueCA9IHRleHR1cmUyRChjdXJ2ZW1hcCwgdmVjMigodmVjLnggKyAxLjApICogMC41LCAwLjApKS54Ow0KCW91dHZlYy55ID0gdGV4dHVyZTJEKGN1cnZlbWFwLCB2ZWMyKCh2ZWMueSArIDEuMCkgKiAwLjUsIDAuMCkpLnk7DQoJb3V0dmVjLnogPSB0ZXh0dXJlMkQoY3VydmVtYXAsIHZlYzIoKHZlYy56ICsgMS4wKSAqIDAuNSwgMC4wKSkuejsNCg0KCWlmIChmYWMgIT0gMS4wKQ0KCQlvdXR2ZWMgPSAob3V0dmVjICogZmFjKSArICh2ZWMgKiAoMS4wIC0gZmFjKSk7DQoNCn0NCg0Kdm9pZCBjdXJ2ZXNfcmdiKGZsb2F0IGZhYywgdmVjNCBjb2wsIHNhbXBsZXIyRCBjdXJ2ZW1hcCwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCW91dGNvbC5yID0gdGV4dHVyZTJEKGN1cnZlbWFwLCB2ZWMyKHRleHR1cmUyRChjdXJ2ZW1hcCwgdmVjMihjb2wuciwgMC4wKSkuYSwgMC4wKSkucjsNCglvdXRjb2wuZyA9IHRleHR1cmUyRChjdXJ2ZW1hcCwgdmVjMih0ZXh0dXJlMkQoY3VydmVtYXAsIHZlYzIoY29sLmcsIDAuMCkpLmEsIDAuMCkpLmc7DQoJb3V0Y29sLmIgPSB0ZXh0dXJlMkQoY3VydmVtYXAsIHZlYzIodGV4dHVyZTJEKGN1cnZlbWFwLCB2ZWMyKGNvbC5iLCAwLjApKS5hLCAwLjApKS5iOw0KDQoJaWYgKGZhYyAhPSAxLjApDQoJCW91dGNvbCA9IChvdXRjb2wgKiBmYWMpICsgKGNvbCAqICgxLjAgLSBmYWMpKTsNCg0KCW91dGNvbC5hID0gY29sLmE7DQp9DQoNCnZvaWQgc2V0X3ZhbHVlKGZsb2F0IHZhbCwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCglvdXR2YWwgPSB2YWw7DQp9DQoNCnZvaWQgc2V0X3JnYih2ZWMzIGNvbCwgb3V0IHZlYzMgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IGNvbDsNCn0NCg0Kdm9pZCBzZXRfcmdiYSh2ZWM0IGNvbCwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IGNvbDsNCn0NCg0Kdm9pZCBzZXRfdmFsdWVfemVybyhvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9IDAuMDsNCn0NCg0Kdm9pZCBzZXRfdmFsdWVfb25lKG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gMS4wOw0KfQ0KDQp2b2lkIHNldF9yZ2JfemVybyhvdXQgdmVjMyBvdXR2YWwpDQp7DQoJb3V0dmFsID0gdmVjMygwLjApOw0KfQ0KDQp2b2lkIHNldF9yZ2Jfb25lKG91dCB2ZWMzIG91dHZhbCkNCnsNCglvdXR2YWwgPSB2ZWMzKDEuMCk7DQp9DQoNCnZvaWQgc2V0X3JnYmFfemVybyhvdXQgdmVjNCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gdmVjNCgwLjApOw0KfQ0KDQp2b2lkIHNldF9yZ2JhX29uZShvdXQgdmVjNCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gdmVjNCgxLjApOw0KfQ0KDQp2b2lkIGJyaWdodG5lc3NfY29udHJhc3QodmVjNCBjb2wsIGZsb2F0IGJyaWdodG5lc3MsIGZsb2F0IGNvbnRyYXN0LCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmxvYXQgYSA9IDEuMCArIGNvbnRyYXN0Ow0KCWZsb2F0IGIgPSBicmlnaHRuZXNzIC0gY29udHJhc3QgKiAwLjU7DQoNCglvdXRjb2wuciA9IG1heChhICogY29sLnIgKyBiLCAwLjApOw0KCW91dGNvbC5nID0gbWF4KGEgKiBjb2wuZyArIGIsIDAuMCk7DQoJb3V0Y29sLmIgPSBtYXgoYSAqIGNvbC5iICsgYiwgMC4wKTsNCglvdXRjb2wuYSA9IGNvbC5hOw0KfQ0KDQp2b2lkIG1peF9ibGVuZChmbG9hdCBmYWMsIHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmFjID0gY2xhbXAoZmFjLCAwLjAsIDEuMCk7DQoJb3V0Y29sID0gbWl4KGNvbDEsIGNvbDIsIGZhYyk7DQoJb3V0Y29sLmEgPSBjb2wxLmE7DQp9DQoNCnZvaWQgbWl4X2FkZChmbG9hdCBmYWMsIHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmFjID0gY2xhbXAoZmFjLCAwLjAsIDEuMCk7DQoJb3V0Y29sID0gbWl4KGNvbDEsIGNvbDEgKyBjb2wyLCBmYWMpOw0KCW91dGNvbC5hID0gY29sMS5hOw0KfQ0KDQp2b2lkIG1peF9tdWx0KGZsb2F0IGZhYywgdmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglmYWMgPSBjbGFtcChmYWMsIDAuMCwgMS4wKTsNCglvdXRjb2wgPSBtaXgoY29sMSwgY29sMSAqIGNvbDIsIGZhYyk7DQoJb3V0Y29sLmEgPSBjb2wxLmE7DQp9DQoNCnZvaWQgbWl4X3NjcmVlbihmbG9hdCBmYWMsIHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmFjID0gY2xhbXAoZmFjLCAwLjAsIDEuMCk7DQoJZmxvYXQgZmFjbSA9IDEuMCAtIGZhYzsNCg0KCW91dGNvbCA9IHZlYzQoMS4wKSAtICh2ZWM0KGZhY20pICsgZmFjICogKHZlYzQoMS4wKSAtIGNvbDIpKSAqICh2ZWM0KDEuMCkgLSBjb2wxKTsNCglvdXRjb2wuYSA9IGNvbDEuYTsNCn0NCg0Kdm9pZCBtaXhfb3ZlcmxheShmbG9hdCBmYWMsIHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmFjID0gY2xhbXAoZmFjLCAwLjAsIDEuMCk7DQoJZmxvYXQgZmFjbSA9IDEuMCAtIGZhYzsNCg0KCW91dGNvbCA9IGNvbDE7DQoNCglpZiAob3V0Y29sLnIgPCAwLjUpDQoJCW91dGNvbC5yICo9IGZhY20gKyAyLjAgKiBmYWMgKiBjb2wyLnI7DQoJZWxzZQ0KCQlvdXRjb2wuciA9IDEuMCAtIChmYWNtICsgMi4wICogZmFjICogKDEuMCAtIGNvbDIucikpICogKDEuMCAtIG91dGNvbC5yKTsNCg0KCWlmIChvdXRjb2wuZyA8IDAuNSkNCgkJb3V0Y29sLmcgKj0gZmFjbSArIDIuMCAqIGZhYyAqIGNvbDIuZzsNCgllbHNlDQoJCW91dGNvbC5nID0gMS4wIC0gKGZhY20gKyAyLjAgKiBmYWMgKiAoMS4wIC0gY29sMi5nKSkgKiAoMS4wIC0gb3V0Y29sLmcpOw0KDQoJaWYgKG91dGNvbC5iIDwgMC41KQ0KCQlvdXRjb2wuYiAqPSBmYWNtICsgMi4wICogZmFjICogY29sMi5iOw0KCWVsc2UNCgkJb3V0Y29sLmIgPSAxLjAgLSAoZmFjbSArIDIuMCAqIGZhYyAqICgxLjAgLSBjb2wyLmIpKSAqICgxLjAgLSBvdXRjb2wuYik7DQp9DQoNCnZvaWQgbWl4X3N1YihmbG9hdCBmYWMsIHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmFjID0gY2xhbXAoZmFjLCAwLjAsIDEuMCk7DQoJb3V0Y29sID0gbWl4KGNvbDEsIGNvbDEgLSBjb2wyLCBmYWMpOw0KCW91dGNvbC5hID0gY29sMS5hOw0KfQ0KDQp2b2lkIG1peF9kaXYoZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KCWZsb2F0IGZhY20gPSAxLjAgLSBmYWM7DQoNCglvdXRjb2wgPSBjb2wxOw0KDQoJaWYgKGNvbDIuciAhPSAwLjApIG91dGNvbC5yID0gZmFjbSAqIG91dGNvbC5yICsgZmFjICogb3V0Y29sLnIgLyBjb2wyLnI7DQoJaWYgKGNvbDIuZyAhPSAwLjApIG91dGNvbC5nID0gZmFjbSAqIG91dGNvbC5nICsgZmFjICogb3V0Y29sLmcgLyBjb2wyLmc7DQoJaWYgKGNvbDIuYiAhPSAwLjApIG91dGNvbC5iID0gZmFjbSAqIG91dGNvbC5iICsgZmFjICogb3V0Y29sLmIgLyBjb2wyLmI7DQp9DQoNCnZvaWQgbWl4X2RpZmYoZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KCW91dGNvbCA9IG1peChjb2wxLCBhYnMoY29sMSAtIGNvbDIpLCBmYWMpOw0KCW91dGNvbC5hID0gY29sMS5hOw0KfQ0KDQp2b2lkIG1peF9kYXJrKGZsb2F0IGZhYywgdmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglmYWMgPSBjbGFtcChmYWMsIDAuMCwgMS4wKTsNCglvdXRjb2wucmdiID0gbWluKGNvbDEucmdiLCBjb2wyLnJnYiAqIGZhYyk7DQoJb3V0Y29sLmEgPSBjb2wxLmE7DQp9DQoNCnZvaWQgbWl4X2xpZ2h0KGZsb2F0IGZhYywgdmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglmYWMgPSBjbGFtcChmYWMsIDAuMCwgMS4wKTsNCglvdXRjb2wucmdiID0gbWF4KGNvbDEucmdiLCBjb2wyLnJnYiAqIGZhYyk7DQoJb3V0Y29sLmEgPSBjb2wxLmE7DQp9DQoNCnZvaWQgbWl4X2RvZGdlKGZsb2F0IGZhYywgdmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglmYWMgPSBjbGFtcChmYWMsIDAuMCwgMS4wKTsNCglvdXRjb2wgPSBjb2wxOw0KDQoJaWYgKG91dGNvbC5yICE9IDAuMCkgew0KCQlmbG9hdCB0bXAgPSAxLjAgLSBmYWMgKiBjb2wyLnI7DQoJCWlmICh0bXAgPD0gMC4wKQ0KCQkJb3V0Y29sLnIgPSAxLjA7DQoJCWVsc2UgaWYgKCh0bXAgPSBvdXRjb2wuciAvIHRtcCkgPiAxLjApDQoJCQlvdXRjb2wuciA9IDEuMDsNCgkJZWxzZQ0KCQkJb3V0Y29sLnIgPSB0bXA7DQoJfQ0KCWlmIChvdXRjb2wuZyAhPSAwLjApIHsNCgkJZmxvYXQgdG1wID0gMS4wIC0gZmFjICogY29sMi5nOw0KCQlpZiAodG1wIDw9IDAuMCkNCgkJCW91dGNvbC5nID0gMS4wOw0KCQllbHNlIGlmICgodG1wID0gb3V0Y29sLmcgLyB0bXApID4gMS4wKQ0KCQkJb3V0Y29sLmcgPSAxLjA7DQoJCWVsc2UNCgkJCW91dGNvbC5nID0gdG1wOw0KCX0NCglpZiAob3V0Y29sLmIgIT0gMC4wKSB7DQoJCWZsb2F0IHRtcCA9IDEuMCAtIGZhYyAqIGNvbDIuYjsNCgkJaWYgKHRtcCA8PSAwLjApDQoJCQlvdXRjb2wuYiA9IDEuMDsNCgkJZWxzZSBpZiAoKHRtcCA9IG91dGNvbC5iIC8gdG1wKSA+IDEuMCkNCgkJCW91dGNvbC5iID0gMS4wOw0KCQllbHNlDQoJCQlvdXRjb2wuYiA9IHRtcDsNCgl9DQp9DQoNCnZvaWQgbWl4X2J1cm4oZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KCWZsb2F0IHRtcCwgZmFjbSA9IDEuMCAtIGZhYzsNCg0KCW91dGNvbCA9IGNvbDE7DQoNCgl0bXAgPSBmYWNtICsgZmFjICogY29sMi5yOw0KCWlmICh0bXAgPD0gMC4wKQ0KCQlvdXRjb2wuciA9IDAuMDsNCgllbHNlIGlmICgodG1wID0gKDEuMCAtICgxLjAgLSBvdXRjb2wucikgLyB0bXApKSA8IDAuMCkNCgkJb3V0Y29sLnIgPSAwLjA7DQoJZWxzZSBpZiAodG1wID4gMS4wKQ0KCQlvdXRjb2wuciA9IDEuMDsNCgllbHNlDQoJCW91dGNvbC5yID0gdG1wOw0KDQoJdG1wID0gZmFjbSArIGZhYyAqIGNvbDIuZzsNCglpZiAodG1wIDw9IDAuMCkNCgkJb3V0Y29sLmcgPSAwLjA7DQoJZWxzZSBpZiAoKHRtcCA9ICgxLjAgLSAoMS4wIC0gb3V0Y29sLmcpIC8gdG1wKSkgPCAwLjApDQoJCW91dGNvbC5nID0gMC4wOw0KCWVsc2UgaWYgKHRtcCA+IDEuMCkNCgkJb3V0Y29sLmcgPSAxLjA7DQoJZWxzZQ0KCQlvdXRjb2wuZyA9IHRtcDsNCg0KCXRtcCA9IGZhY20gKyBmYWMgKiBjb2wyLmI7DQoJaWYgKHRtcCA8PSAwLjApDQoJCW91dGNvbC5iID0gMC4wOw0KCWVsc2UgaWYgKCh0bXAgPSAoMS4wIC0gKDEuMCAtIG91dGNvbC5iKSAvIHRtcCkpIDwgMC4wKQ0KCQlvdXRjb2wuYiA9IDAuMDsNCgllbHNlIGlmICh0bXAgPiAxLjApDQoJCW91dGNvbC5iID0gMS4wOw0KCWVsc2UNCgkJb3V0Y29sLmIgPSB0bXA7DQp9DQoNCnZvaWQgbWl4X2h1ZShmbG9hdCBmYWMsIHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJZmFjID0gY2xhbXAoZmFjLCAwLjAsIDEuMCk7DQoJZmxvYXQgZmFjbSA9IDEuMCAtIGZhYzsNCg0KCW91dGNvbCA9IGNvbDE7DQoNCgl2ZWM0IGhzdiwgaHN2MiwgdG1wOw0KCXJnYl90b19oc3YoY29sMiwgaHN2Mik7DQoNCglpZiAoaHN2Mi55ICE9IDAuMCkgew0KCQlyZ2JfdG9faHN2KG91dGNvbCwgaHN2KTsNCgkJaHN2LnggPSBoc3YyLng7DQoJCWhzdl90b19yZ2IoaHN2LCB0bXApOw0KDQoJCW91dGNvbCA9IG1peChvdXRjb2wsIHRtcCwgZmFjKTsNCgkJb3V0Y29sLmEgPSBjb2wxLmE7DQoJfQ0KfQ0KDQp2b2lkIG1peF9zYXQoZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KCWZsb2F0IGZhY20gPSAxLjAgLSBmYWM7DQoNCglvdXRjb2wgPSBjb2wxOw0KDQoJdmVjNCBoc3YsIGhzdjI7DQoJcmdiX3RvX2hzdihvdXRjb2wsIGhzdik7DQoNCglpZiAoaHN2LnkgIT0gMC4wKSB7DQoJCXJnYl90b19oc3YoY29sMiwgaHN2Mik7DQoNCgkJaHN2LnkgPSBmYWNtICogaHN2LnkgKyBmYWMgKiBoc3YyLnk7DQoJCWhzdl90b19yZ2IoaHN2LCBvdXRjb2wpOw0KCX0NCn0NCg0Kdm9pZCBtaXhfdmFsKGZsb2F0IGZhYywgdmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglmYWMgPSBjbGFtcChmYWMsIDAuMCwgMS4wKTsNCglmbG9hdCBmYWNtID0gMS4wIC0gZmFjOw0KDQoJdmVjNCBoc3YsIGhzdjI7DQoJcmdiX3RvX2hzdihjb2wxLCBoc3YpOw0KCXJnYl90b19oc3YoY29sMiwgaHN2Mik7DQoNCgloc3YueiA9IGZhY20gKiBoc3YueiArIGZhYyAqIGhzdjIuejsNCgloc3ZfdG9fcmdiKGhzdiwgb3V0Y29sKTsNCn0NCg0Kdm9pZCBtaXhfY29sb3IoZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KCWZsb2F0IGZhY20gPSAxLjAgLSBmYWM7DQoNCglvdXRjb2wgPSBjb2wxOw0KDQoJdmVjNCBoc3YsIGhzdjIsIHRtcDsNCglyZ2JfdG9faHN2KGNvbDIsIGhzdjIpOw0KDQoJaWYgKGhzdjIueSAhPSAwLjApIHsNCgkJcmdiX3RvX2hzdihvdXRjb2wsIGhzdik7DQoJCWhzdi54ID0gaHN2Mi54Ow0KCQloc3YueSA9IGhzdjIueTsNCgkJaHN2X3RvX3JnYihoc3YsIHRtcCk7DQoNCgkJb3V0Y29sID0gbWl4KG91dGNvbCwgdG1wLCBmYWMpOw0KCQlvdXRjb2wuYSA9IGNvbDEuYTsNCgl9DQp9DQoNCnZvaWQgbWl4X3NvZnQoZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KCWZsb2F0IGZhY20gPSAxLjAgLSBmYWM7DQoNCgl2ZWM0IG9uZSA9IHZlYzQoMS4wKTsNCgl2ZWM0IHNjciA9IG9uZSAtIChvbmUgLSBjb2wyKSAqIChvbmUgLSBjb2wxKTsNCglvdXRjb2wgPSBmYWNtICogY29sMSArIGZhYyAqICgob25lIC0gY29sMSkgKiBjb2wyICogY29sMSArIGNvbDEgKiBzY3IpOw0KfQ0KDQp2b2lkIG1peF9saW5lYXIoZmxvYXQgZmFjLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCWZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KDQoJb3V0Y29sID0gY29sMSArIGZhYyAqICgyLjAgKiAoY29sMiAtIHZlYzQoMC41KSkpOw0KfQ0KDQp2b2lkIHZhbHRvcmdiKGZsb2F0IGZhYywgc2FtcGxlcjJEIGNvbG9ybWFwLCBvdXQgdmVjNCBvdXRjb2wsIG91dCBmbG9hdCBvdXRhbHBoYSkNCnsNCglvdXRjb2wgPSB0ZXh0dXJlMkQoY29sb3JtYXAsIHZlYzIoZmFjLCAwLjApKTsNCglvdXRhbHBoYSA9IG91dGNvbC5hOw0KfQ0KDQp2b2lkIHJnYnRvYncodmVjNCBjb2xvciwgb3V0IGZsb2F0IG91dHZhbCkNCnsNCiNpZmRlZiBVU0VfTkVXX1NIQURJTkcNCglvdXR2YWwgPSBjb2xvci5yICogMC4yMTI2ICsgY29sb3IuZyAqIDAuNzE1MiArIGNvbG9yLmIgKiAwLjA3MjI7DQojZWxzZQ0KCW91dHZhbCA9IGNvbG9yLnIgKiAwLjM1ICsgY29sb3IuZyAqIDAuNDUgKyBjb2xvci5iICogMC4yOyAvKiBrZWVwIHRoZXNlIGZhY3RvcnMgdmFyeWluZyBzeW5jIHdpdGggdGV4dHVyZS5oOlJHQlRPQlcgKi8NCiNlbmRpZg0KfQ0KDQp2b2lkIGludmVydChmbG9hdCBmYWMsIHZlYzQgY29sLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJb3V0Y29sLnh5eiA9IG1peChjb2wueHl6LCB2ZWMzKDEuMCwgMS4wLCAxLjApIC0gY29sLnh5eiwgZmFjKTsNCglvdXRjb2wudyA9IGNvbC53Ow0KfQ0KDQp2b2lkIGNsYW1wX3ZlYzModmVjMyB2ZWMsIHZlYzMgbWluLCB2ZWMzIG1heCwgb3V0IHZlYzMgb3V0X3ZlYykNCnsNCglvdXRfdmVjID0gY2xhbXAodmVjLCBtaW4sIG1heCk7DQp9DQoNCnZvaWQgY2xhbXBfdmFsKGZsb2F0IHZhbHVlLCBmbG9hdCBtaW4sIGZsb2F0IG1heCwgb3V0IGZsb2F0IG91dF92YWx1ZSkNCnsNCglvdXRfdmFsdWUgPSBjbGFtcCh2YWx1ZSwgbWluLCBtYXgpOw0KfQ0KDQp2b2lkIGh1ZV9zYXQoZmxvYXQgaHVlLCBmbG9hdCBzYXQsIGZsb2F0IHZhbHVlLCBmbG9hdCBmYWMsIHZlYzQgY29sLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJdmVjNCBoc3Y7DQoNCglyZ2JfdG9faHN2KGNvbCwgaHN2KTsNCg0KCWhzdlswXSArPSAoaHVlIC0gMC41KTsNCglpZiAoaHN2WzBdID4gMS4wKSBoc3ZbMF0gLT0gMS4wOyBlbHNlIGlmIChoc3ZbMF0gPCAwLjApIGhzdlswXSArPSAxLjA7DQoJaHN2WzFdICo9IHNhdDsNCglpZiAoaHN2WzFdID4gMS4wKSBoc3ZbMV0gPSAxLjA7IGVsc2UgaWYgKGhzdlsxXSA8IDAuMCkgaHN2WzFdID0gMC4wOw0KCWhzdlsyXSAqPSB2YWx1ZTsNCglpZiAoaHN2WzJdID4gMS4wKSBoc3ZbMl0gPSAxLjA7IGVsc2UgaWYgKGhzdlsyXSA8IDAuMCkgaHN2WzJdID0gMC4wOw0KDQoJaHN2X3RvX3JnYihoc3YsIG91dGNvbCk7DQoNCglvdXRjb2wgPSBtaXgoY29sLCBvdXRjb2wsIGZhYyk7DQp9DQoNCnZvaWQgc2VwYXJhdGVfcmdiKHZlYzQgY29sLCBvdXQgZmxvYXQgciwgb3V0IGZsb2F0IGcsIG91dCBmbG9hdCBiKQ0Kew0KCXIgPSBjb2wucjsNCglnID0gY29sLmc7DQoJYiA9IGNvbC5iOw0KfQ0KDQp2b2lkIGNvbWJpbmVfcmdiKGZsb2F0IHIsIGZsb2F0IGcsIGZsb2F0IGIsIG91dCB2ZWM0IGNvbCkNCnsNCgljb2wgPSB2ZWM0KHIsIGcsIGIsIDEuMCk7DQp9DQoNCnZvaWQgc2VwYXJhdGVfeHl6KHZlYzMgdmVjLCBvdXQgZmxvYXQgeCwgb3V0IGZsb2F0IHksIG91dCBmbG9hdCB6KQ0Kew0KCXggPSB2ZWMucjsNCgl5ID0gdmVjLmc7DQoJeiA9IHZlYy5iOw0KfQ0KDQp2b2lkIGNvbWJpbmVfeHl6KGZsb2F0IHgsIGZsb2F0IHksIGZsb2F0IHosIG91dCB2ZWMzIHZlYykNCnsNCgl2ZWMgPSB2ZWMzKHgsIHksIHopOw0KfQ0KDQp2b2lkIHNlcGFyYXRlX2hzdih2ZWM0IGNvbCwgb3V0IGZsb2F0IGgsIG91dCBmbG9hdCBzLCBvdXQgZmxvYXQgdikNCnsNCgl2ZWM0IGhzdjsNCg0KCXJnYl90b19oc3YoY29sLCBoc3YpOw0KCWggPSBoc3ZbMF07DQoJcyA9IGhzdlsxXTsNCgl2ID0gaHN2WzJdOw0KfQ0KDQp2b2lkIGNvbWJpbmVfaHN2KGZsb2F0IGgsIGZsb2F0IHMsIGZsb2F0IHYsIG91dCB2ZWM0IGNvbCkNCnsNCgloc3ZfdG9fcmdiKHZlYzQoaCwgcywgdiwgMS4wKSwgY29sKTsNCn0NCg0Kdm9pZCBvdXRwdXRfbm9kZSh2ZWM0IHJnYiwgZmxvYXQgYWxwaGEsIG91dCB2ZWM0IG91dHJnYikNCnsNCglvdXRyZ2IgPSB2ZWM0KHJnYi5yZ2IsIGFscGhhKTsNCn0NCg0KLyoqKioqKioqKioqIFRFWFRVUkVTICoqKioqKioqKioqKioqKi8NCg0Kdm9pZCB0ZXh0dXJlX2ZsaXBfYmxlbmQodmVjMyB2ZWMsIG91dCB2ZWMzIG91dHZlYykNCnsNCglvdXR2ZWMgPSB2ZWMueXh6Ow0KfQ0KDQp2b2lkIHRleHR1cmVfYmxlbmRfbGluKHZlYzMgdmVjLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9ICgxLjAgKyB2ZWMueCkgLyAyLjA7DQp9DQoNCnZvaWQgdGV4dHVyZV9ibGVuZF9xdWFkKHZlYzMgdmVjLCBvdXQgZmxvYXQgb3V0dmFsKQ0Kew0KCW91dHZhbCA9IG1heCgoMS4wICsgdmVjLngpIC8gMi4wLCAwLjApOw0KCW91dHZhbCAqPSBvdXR2YWw7DQp9DQoNCnZvaWQgdGV4dHVyZV93b29kX3Npbih2ZWMzIHZlYywgb3V0IGZsb2F0IHZhbHVlLCBvdXQgdmVjNCBjb2xvciwgb3V0IHZlYzMgbm9ybWFsKQ0Kew0KCWZsb2F0IGEgPSBzcXJ0KHZlYy54ICogdmVjLnggKyB2ZWMueSAqIHZlYy55ICsgdmVjLnogKiB2ZWMueikgKiAyMC4wOw0KCWZsb2F0IHdpID0gMC41ICsgMC41ICogc2luKGEpOw0KDQoJdmFsdWUgPSB3aTsNCgljb2xvciA9IHZlYzQod2ksIHdpLCB3aSwgMS4wKTsNCglub3JtYWwgPSB2ZWMzKDAuMCwgMC4wLCAwLjApOw0KfQ0KDQp2b2lkIHRleHR1cmVfaW1hZ2UodmVjMyB2ZWMsIHNhbXBsZXIyRCBpbWEsIG91dCBmbG9hdCB2YWx1ZSwgb3V0IHZlYzQgY29sb3IsIG91dCB2ZWMzIG5vcm1hbCkNCnsNCgljb2xvciA9IHRleHR1cmUyRChpbWEsICh2ZWMueHkgKyB2ZWMyKDEuMCwgMS4wKSkgKiAwLjUpOw0KCXZhbHVlID0gY29sb3IuYTsNCg0KCW5vcm1hbC54ID0gMi4wICogKGNvbG9yLnIgLSAwLjUpOw0KCW5vcm1hbC55ID0gMi4wICogKDAuNSAtIGNvbG9yLmcpOw0KCW5vcm1hbC56ID0gMi4wICogKGNvbG9yLmIgLSAwLjUpOw0KfQ0KDQovKioqKioqKioqKioqKiBNVEVYICoqKioqKioqKioqKioqKioqLw0KDQp2b2lkIHRleGNvX29yY28odmVjMyBhdHRvcmNvLCBvdXQgdmVjMyBvcmNvKQ0Kew0KCW9yY28gPSBhdHRvcmNvOw0KfQ0KDQp2b2lkIHRleGNvX3V2KHZlYzIgYXR0dXYsIG91dCB2ZWMzIHV2KQ0Kew0KCS8qIGRpc2FibGVkIGZvciBub3csIHdvcmtzIHRvZ2V0aGVyIHdpdGggbGVhdmluZyBvdXQgbXRleF8yZF9tYXBwaW5nDQoJICAgdXYgPSB2ZWMzKGF0dHV2KjIuMCAtIHZlYzIoMS4wLCAxLjApLCAwLjApOyAqLw0KCXV2ID0gdmVjMyhhdHR1diwgMC4wKTsNCn0NCg0Kdm9pZCB0ZXhjb19ub3JtKHZlYzMgbm9ybWFsLCBvdXQgdmVjMyBvdXRub3JtYWwpDQp7DQoJLyogY29ycmVzcG9uZHMgdG8gc2hpLT5vcm4sIHdoaWNoIGlzIG5lZ2F0ZWQgc28gY2FuY2Vscw0KCSAgIG91dCBibGVuZGVyIG5vcm1hbCBuZWdhdGlvbiAqLw0KCW91dG5vcm1hbCA9IG5vcm1hbGl6ZShub3JtYWwpOw0KfQ0KDQp2b2lkIHRleGNvX3RhbmdlbnQodmVjNCB0YW5nZW50LCBvdXQgdmVjMyBvdXR0YW5nZW50KQ0Kew0KCW91dHRhbmdlbnQgPSBub3JtYWxpemUodGFuZ2VudC54eXopOw0KfQ0KDQp2b2lkIHRleGNvX2dsb2JhbChtYXQ0IHZpZXdpbnZtYXQsIHZlYzMgY28sIG91dCB2ZWMzIGdsb2JhbCkNCnsNCglnbG9iYWwgPSAodmlld2ludm1hdCAqIHZlYzQoY28sIDEuMCkpLnh5ejsNCn0NCg0Kdm9pZCB0ZXhjb19vYmplY3QobWF0NCB2aWV3aW52bWF0LCBtYXQ0IG9iaW52bWF0LCB2ZWMzIGNvLCBvdXQgdmVjMyBvYmplY3QpDQp7DQoJb2JqZWN0ID0gKG9iaW52bWF0ICogKHZpZXdpbnZtYXQgKiB2ZWM0KGNvLCAxLjApKSkueHl6Ow0KfQ0KDQp2b2lkIHRleGNvX3JlZmwodmVjMyB2biwgdmVjMyB2aWV3LCBvdXQgdmVjMyByZWYpDQp7DQoJcmVmID0gdmlldyAtIDIuMCAqIGRvdCh2biwgdmlldykgKiB2bjsNCn0NCg0Kdm9pZCBzaGFkZV9ub3JtKHZlYzMgbm9ybWFsLCBvdXQgdmVjMyBvdXRub3JtYWwpDQp7DQoJLyogYmxlbmRlciByZW5kZXIgbm9ybWFsIGlzIG5lZ2F0ZWQgKi8NCglvdXRub3JtYWwgPSAtbm9ybWFsaXplKG5vcm1hbCk7DQp9DQoNCnZvaWQgbXRleF9taXJyb3IodmVjMyB0Y29sLCB2ZWM0IHJlZmNvbCwgZmxvYXQgdGluLCBmbG9hdCBjb2xtaXJmYWMsIG91dCB2ZWM0IG91dHJlZmNvbCkNCnsNCglvdXRyZWZjb2wgPSBtaXgocmVmY29sLCB2ZWM0KDEuMCwgdGNvbCksIHRpbiAqIGNvbG1pcmZhYyk7DQp9DQoNCnZvaWQgbXRleF9yZ2JfYmxlbmQodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCglmbG9hdCBmYWNtOw0KDQoJZmFjdCAqPSBmYWNnOw0KCWZhY20gPSAxLjAgLSBmYWN0Ow0KDQoJaW5jb2wgPSBmYWN0ICogdGV4Y29sICsgZmFjbSAqIG91dGNvbDsNCn0NCg0Kdm9pZCBtdGV4X3JnYl9tdWwodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCglmbG9hdCBmYWNtOw0KDQoJZmFjdCAqPSBmYWNnOw0KCWZhY20gPSAxLjAgLSBmYWN0Ow0KDQoJaW5jb2wgPSAoZmFjbSArIGZhY3QgKiB0ZXhjb2wpICogb3V0Y29sOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX3NjcmVlbih2ZWMzIG91dGNvbCwgdmVjMyB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCB2ZWMzIGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoNCglmYWN0ICo9IGZhY2c7DQoJZmFjbSA9IDEuMCAtIGZhY3Q7DQoNCglpbmNvbCA9IHZlYzMoMS4wKSAtICh2ZWMzKGZhY20pICsgZmFjdCAqICh2ZWMzKDEuMCkgLSB0ZXhjb2wpKSAqICh2ZWMzKDEuMCkgLSBvdXRjb2wpOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX292ZXJsYXkodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCglmbG9hdCBmYWNtOw0KDQoJZmFjdCAqPSBmYWNnOw0KCWZhY20gPSAxLjAgLSBmYWN0Ow0KDQoJaWYgKG91dGNvbC5yIDwgMC41KQ0KCQlpbmNvbC5yID0gb3V0Y29sLnIgKiAoZmFjbSArIDIuMCAqIGZhY3QgKiB0ZXhjb2wucik7DQoJZWxzZQ0KCQlpbmNvbC5yID0gMS4wIC0gKGZhY20gKyAyLjAgKiBmYWN0ICogKDEuMCAtIHRleGNvbC5yKSkgKiAoMS4wIC0gb3V0Y29sLnIpOw0KDQoJaWYgKG91dGNvbC5nIDwgMC41KQ0KCQlpbmNvbC5nID0gb3V0Y29sLmcgKiAoZmFjbSArIDIuMCAqIGZhY3QgKiB0ZXhjb2wuZyk7DQoJZWxzZQ0KCQlpbmNvbC5nID0gMS4wIC0gKGZhY20gKyAyLjAgKiBmYWN0ICogKDEuMCAtIHRleGNvbC5nKSkgKiAoMS4wIC0gb3V0Y29sLmcpOw0KDQoJaWYgKG91dGNvbC5iIDwgMC41KQ0KCQlpbmNvbC5iID0gb3V0Y29sLmIgKiAoZmFjbSArIDIuMCAqIGZhY3QgKiB0ZXhjb2wuYik7DQoJZWxzZQ0KCQlpbmNvbC5iID0gMS4wIC0gKGZhY20gKyAyLjAgKiBmYWN0ICogKDEuMCAtIHRleGNvbC5iKSkgKiAoMS4wIC0gb3V0Y29sLmIpOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX3N1Yih2ZWMzIG91dGNvbCwgdmVjMyB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCB2ZWMzIGluY29sKQ0Kew0KCWluY29sID0gLWZhY3QgKiBmYWNnICogdGV4Y29sICsgb3V0Y29sOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX2FkZCh2ZWMzIG91dGNvbCwgdmVjMyB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCB2ZWMzIGluY29sKQ0Kew0KCWluY29sID0gZmFjdCAqIGZhY2cgKiB0ZXhjb2wgKyBvdXRjb2w7DQp9DQoNCnZvaWQgbXRleF9yZ2JfZGl2KHZlYzMgb3V0Y29sLCB2ZWMzIHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IHZlYzMgaW5jb2wpDQp7DQoJZmxvYXQgZmFjbTsNCg0KCWZhY3QgKj0gZmFjZzsNCglmYWNtID0gMS4wIC0gZmFjdDsNCg0KCWlmICh0ZXhjb2wuciAhPSAwLjApIGluY29sLnIgPSBmYWNtICogb3V0Y29sLnIgKyBmYWN0ICogb3V0Y29sLnIgLyB0ZXhjb2wucjsNCglpZiAodGV4Y29sLmcgIT0gMC4wKSBpbmNvbC5nID0gZmFjbSAqIG91dGNvbC5nICsgZmFjdCAqIG91dGNvbC5nIC8gdGV4Y29sLmc7DQoJaWYgKHRleGNvbC5iICE9IDAuMCkgaW5jb2wuYiA9IGZhY20gKiBvdXRjb2wuYiArIGZhY3QgKiBvdXRjb2wuYiAvIHRleGNvbC5iOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX2RpZmYodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCglmbG9hdCBmYWNtOw0KDQoJZmFjdCAqPSBmYWNnOw0KCWZhY20gPSAxLjAgLSBmYWN0Ow0KDQoJaW5jb2wgPSBmYWNtICogb3V0Y29sICsgZmFjdCAqIGFicyh0ZXhjb2wgLSBvdXRjb2wpOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX2RhcmsodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCglmbG9hdCBmYWNtLCBjb2w7DQoNCglmYWN0ICo9IGZhY2c7DQoJZmFjbSA9IDEuMCAtIGZhY3Q7DQoNCglpbmNvbC5yID0gbWluKG91dGNvbC5yLCB0ZXhjb2wucikgKiBmYWN0ICsgb3V0Y29sLnIgKiBmYWNtOw0KCWluY29sLmcgPSBtaW4ob3V0Y29sLmcsIHRleGNvbC5nKSAqIGZhY3QgKyBvdXRjb2wuZyAqIGZhY207DQoJaW5jb2wuYiA9IG1pbihvdXRjb2wuYiwgdGV4Y29sLmIpICogZmFjdCArIG91dGNvbC5iICogZmFjbTsNCn0NCg0Kdm9pZCBtdGV4X3JnYl9saWdodCh2ZWMzIG91dGNvbCwgdmVjMyB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCB2ZWMzIGluY29sKQ0Kew0KCWZsb2F0IGZhY20sIGNvbDsNCg0KCWZhY3QgKj0gZmFjZzsNCg0KCWNvbCA9IGZhY3QgKiB0ZXhjb2wucjsNCglpZiAoY29sID4gb3V0Y29sLnIpIGluY29sLnIgPSBjb2w7IGVsc2UgaW5jb2wuciA9IG91dGNvbC5yOw0KCWNvbCA9IGZhY3QgKiB0ZXhjb2wuZzsNCglpZiAoY29sID4gb3V0Y29sLmcpIGluY29sLmcgPSBjb2w7IGVsc2UgaW5jb2wuZyA9IG91dGNvbC5nOw0KCWNvbCA9IGZhY3QgKiB0ZXhjb2wuYjsNCglpZiAoY29sID4gb3V0Y29sLmIpIGluY29sLmIgPSBjb2w7IGVsc2UgaW5jb2wuYiA9IG91dGNvbC5iOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX2h1ZSh2ZWMzIG91dGNvbCwgdmVjMyB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCB2ZWMzIGluY29sKQ0Kew0KCXZlYzQgY29sOw0KDQoJbWl4X2h1ZShmYWN0ICogZmFjZywgdmVjNChvdXRjb2wsIDEuMCksIHZlYzQodGV4Y29sLCAxLjApLCBjb2wpOw0KCWluY29sLnJnYiA9IGNvbC5yZ2I7DQp9DQoNCnZvaWQgbXRleF9yZ2Jfc2F0KHZlYzMgb3V0Y29sLCB2ZWMzIHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IHZlYzMgaW5jb2wpDQp7DQoJdmVjNCBjb2w7DQoNCgltaXhfc2F0KGZhY3QgKiBmYWNnLCB2ZWM0KG91dGNvbCwgMS4wKSwgdmVjNCh0ZXhjb2wsIDEuMCksIGNvbCk7DQoJaW5jb2wucmdiID0gY29sLnJnYjsNCn0NCg0Kdm9pZCBtdGV4X3JnYl92YWwodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCgl2ZWM0IGNvbDsNCg0KCW1peF92YWwoZmFjdCAqIGZhY2csIHZlYzQob3V0Y29sLCAxLjApLCB2ZWM0KHRleGNvbCwgMS4wKSwgY29sKTsNCglpbmNvbC5yZ2IgPSBjb2wucmdiOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX2NvbG9yKHZlYzMgb3V0Y29sLCB2ZWMzIHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IHZlYzMgaW5jb2wpDQp7DQoJdmVjNCBjb2w7DQoNCgltaXhfY29sb3IoZmFjdCAqIGZhY2csIHZlYzQob3V0Y29sLCAxLjApLCB2ZWM0KHRleGNvbCwgMS4wKSwgY29sKTsNCglpbmNvbC5yZ2IgPSBjb2wucmdiOw0KfQ0KDQp2b2lkIG10ZXhfcmdiX3NvZnQodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCgl2ZWM0IGNvbDsNCg0KCW1peF9zb2Z0KGZhY3QgKiBmYWNnLCB2ZWM0KG91dGNvbCwgMS4wKSwgdmVjNCh0ZXhjb2wsIDEuMCksIGNvbCk7DQoJaW5jb2wucmdiID0gY29sLnJnYjsNCn0NCg0Kdm9pZCBtdGV4X3JnYl9saW5lYXIodmVjMyBvdXRjb2wsIHZlYzMgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgdmVjMyBpbmNvbCkNCnsNCglmYWN0ICo9IGZhY2c7DQoNCglpZiAodGV4Y29sLnIgPiAwLjUpDQoJCWluY29sLnIgPSBvdXRjb2wuciArIGZhY3QgKiAoMi4wICogKHRleGNvbC5yIC0gMC41KSk7DQoJZWxzZQ0KCQlpbmNvbC5yID0gb3V0Y29sLnIgKyBmYWN0ICogKDIuMCAqICh0ZXhjb2wucikgLSAxLjApOw0KDQoJaWYgKHRleGNvbC5nID4gMC41KQ0KCQlpbmNvbC5nID0gb3V0Y29sLmcgKyBmYWN0ICogKDIuMCAqICh0ZXhjb2wuZyAtIDAuNSkpOw0KCWVsc2UNCgkJaW5jb2wuZyA9IG91dGNvbC5nICsgZmFjdCAqICgyLjAgKiAodGV4Y29sLmcpIC0gMS4wKTsNCg0KCWlmICh0ZXhjb2wuYiA+IDAuNSkNCgkJaW5jb2wuYiA9IG91dGNvbC5iICsgZmFjdCAqICgyLjAgKiAodGV4Y29sLmIgLSAwLjUpKTsNCgllbHNlDQoJCWluY29sLmIgPSBvdXRjb2wuYiArIGZhY3QgKiAoMi4wICogKHRleGNvbC5iKSAtIDEuMCk7DQp9DQoNCnZvaWQgbXRleF92YWx1ZV92YXJzKGlub3V0IGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCBmbG9hdCBmYWNtKQ0Kew0KCWZhY3QgKj0gYWJzKGZhY2cpOw0KCWZhY20gPSAxLjAgLSBmYWN0Ow0KDQoJaWYgKGZhY2cgPCAwLjApIHsNCgkJZmxvYXQgdG1wID0gZmFjdDsNCgkJZmFjdCA9IGZhY207DQoJCWZhY20gPSB0bXA7DQoJfQ0KfQ0KDQp2b2lkIG10ZXhfdmFsdWVfYmxlbmQoZmxvYXQgb3V0Y29sLCBmbG9hdCB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCBmbG9hdCBpbmNvbCkNCnsNCglmbG9hdCBmYWNtOw0KCW10ZXhfdmFsdWVfdmFycyhmYWN0LCBmYWNnLCBmYWNtKTsNCg0KCWluY29sID0gZmFjdCAqIHRleGNvbCArIGZhY20gKiBvdXRjb2w7DQp9DQoNCnZvaWQgbXRleF92YWx1ZV9tdWwoZmxvYXQgb3V0Y29sLCBmbG9hdCB0ZXhjb2wsIGZsb2F0IGZhY3QsIGZsb2F0IGZhY2csIG91dCBmbG9hdCBpbmNvbCkNCnsNCglmbG9hdCBmYWNtOw0KCW10ZXhfdmFsdWVfdmFycyhmYWN0LCBmYWNnLCBmYWNtKTsNCg0KCWZhY20gPSAxLjAgLSBmYWNnOw0KCWluY29sID0gKGZhY20gKyBmYWN0ICogdGV4Y29sKSAqIG91dGNvbDsNCn0NCg0Kdm9pZCBtdGV4X3ZhbHVlX3NjcmVlbihmbG9hdCBvdXRjb2wsIGZsb2F0IHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IGZsb2F0IGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoJbXRleF92YWx1ZV92YXJzKGZhY3QsIGZhY2csIGZhY20pOw0KDQoJZmFjbSA9IDEuMCAtIGZhY2c7DQoJaW5jb2wgPSAxLjAgLSAoZmFjbSArIGZhY3QgKiAoMS4wIC0gdGV4Y29sKSkgKiAoMS4wIC0gb3V0Y29sKTsNCn0NCg0Kdm9pZCBtdGV4X3ZhbHVlX3N1YihmbG9hdCBvdXRjb2wsIGZsb2F0IHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IGZsb2F0IGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoJbXRleF92YWx1ZV92YXJzKGZhY3QsIGZhY2csIGZhY20pOw0KDQoJZmFjdCA9IC1mYWN0Ow0KCWluY29sID0gZmFjdCAqIHRleGNvbCArIG91dGNvbDsNCn0NCg0Kdm9pZCBtdGV4X3ZhbHVlX2FkZChmbG9hdCBvdXRjb2wsIGZsb2F0IHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IGZsb2F0IGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoJbXRleF92YWx1ZV92YXJzKGZhY3QsIGZhY2csIGZhY20pOw0KDQoJZmFjdCA9IGZhY3Q7DQoJaW5jb2wgPSBmYWN0ICogdGV4Y29sICsgb3V0Y29sOw0KfQ0KDQp2b2lkIG10ZXhfdmFsdWVfZGl2KGZsb2F0IG91dGNvbCwgZmxvYXQgdGV4Y29sLCBmbG9hdCBmYWN0LCBmbG9hdCBmYWNnLCBvdXQgZmxvYXQgaW5jb2wpDQp7DQoJZmxvYXQgZmFjbTsNCgltdGV4X3ZhbHVlX3ZhcnMoZmFjdCwgZmFjZywgZmFjbSk7DQoNCglpZiAodGV4Y29sICE9IDAuMCkNCgkJaW5jb2wgPSBmYWNtICogb3V0Y29sICsgZmFjdCAqIG91dGNvbCAvIHRleGNvbDsNCgllbHNlDQoJCWluY29sID0gMC4wOw0KfQ0KDQp2b2lkIG10ZXhfdmFsdWVfZGlmZihmbG9hdCBvdXRjb2wsIGZsb2F0IHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IGZsb2F0IGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoJbXRleF92YWx1ZV92YXJzKGZhY3QsIGZhY2csIGZhY20pOw0KDQoJaW5jb2wgPSBmYWNtICogb3V0Y29sICsgZmFjdCAqIGFicyh0ZXhjb2wgLSBvdXRjb2wpOw0KfQ0KDQp2b2lkIG10ZXhfdmFsdWVfZGFyayhmbG9hdCBvdXRjb2wsIGZsb2F0IHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IGZsb2F0IGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoJbXRleF92YWx1ZV92YXJzKGZhY3QsIGZhY2csIGZhY20pOw0KDQoJaW5jb2wgPSBmYWNtICogb3V0Y29sICsgZmFjdCAqIG1pbihvdXRjb2wsIHRleGNvbCk7DQp9DQoNCnZvaWQgbXRleF92YWx1ZV9saWdodChmbG9hdCBvdXRjb2wsIGZsb2F0IHRleGNvbCwgZmxvYXQgZmFjdCwgZmxvYXQgZmFjZywgb3V0IGZsb2F0IGluY29sKQ0Kew0KCWZsb2F0IGZhY207DQoJbXRleF92YWx1ZV92YXJzKGZhY3QsIGZhY2csIGZhY20pOw0KDQoJZmxvYXQgY29sID0gZmFjdCAqIHRleGNvbDsNCglpZiAoY29sID4gb3V0Y29sKSBpbmNvbCA9IGNvbDsgZWxzZSBpbmNvbCA9IG91dGNvbDsNCn0NCg0Kdm9pZCBtdGV4X3ZhbHVlX2NsYW1wX3Bvc2l0aXZlKGZsb2F0IGZhYywgb3V0IGZsb2F0IG91dGZhYykNCnsNCglvdXRmYWMgPSBtYXgoZmFjLCAwLjApOw0KfQ0KDQp2b2lkIG10ZXhfdmFsdWVfY2xhbXAoZmxvYXQgZmFjLCBvdXQgZmxvYXQgb3V0ZmFjKQ0Kew0KCW91dGZhYyA9IGNsYW1wKGZhYywgMC4wLCAxLjApOw0KfQ0KDQp2b2lkIG10ZXhfaGFyX2RpdmlkZShmbG9hdCBoYXIsIG91dCBmbG9hdCBvdXRoYXIpDQp7DQoJb3V0aGFyID0gaGFyIC8gMTI4LjA7DQp9DQoNCnZvaWQgbXRleF9oYXJfbXVsdGlwbHlfY2xhbXAoZmxvYXQgaGFyLCBvdXQgZmxvYXQgb3V0aGFyKQ0Kew0KCWhhciAqPSAxMjguMDsNCg0KCWlmIChoYXIgPCAxLjApIG91dGhhciA9IDEuMDsNCgllbHNlIGlmIChoYXIgPiA1MTEuMCkgb3V0aGFyID0gNTExLjA7DQoJZWxzZSBvdXRoYXIgPSBoYXI7DQp9DQoNCnZvaWQgbXRleF9hbHBoYV9mcm9tX2NvbCh2ZWM0IGNvbCwgb3V0IGZsb2F0IGFscGhhKQ0Kew0KCWFscGhhID0gY29sLmE7DQp9DQoNCnZvaWQgbXRleF9hbHBoYV90b19jb2wodmVjNCBjb2wsIGZsb2F0IGFscGhhLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJb3V0Y29sID0gdmVjNChjb2wucmdiLCBhbHBoYSk7DQp9DQoNCnZvaWQgbXRleF9hbHBoYV9tdWx0aXBseV92YWx1ZSh2ZWM0IGNvbCwgZmxvYXQgdmFsdWUsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglvdXRjb2wgPSB2ZWM0KGNvbC5yZ2IsIGNvbC5hICogdmFsdWUpOw0KfQ0KDQp2b2lkIG10ZXhfcmdidG9pbnQodmVjNCByZ2IsIG91dCBmbG9hdCBpbnRlbnNpdHkpDQp7DQoJaW50ZW5zaXR5ID0gZG90KHZlYzMoMC4zNSwgMC40NSwgMC4yKSwgcmdiLnJnYik7DQp9DQoNCnZvaWQgbXRleF92YWx1ZV9pbnZlcnQoZmxvYXQgaW52YWx1ZSwgb3V0IGZsb2F0IG91dHZhbHVlKQ0Kew0KCW91dHZhbHVlID0gMS4wIC0gaW52YWx1ZTsNCn0NCg0Kdm9pZCBtdGV4X3JnYl9pbnZlcnQodmVjNCBpbnJnYiwgb3V0IHZlYzQgb3V0cmdiKQ0Kew0KCW91dHJnYiA9IHZlYzQodmVjMygxLjApIC0gaW5yZ2IucmdiLCBpbnJnYi5hKTsNCn0NCg0Kdm9pZCBtdGV4X3ZhbHVlX3N0ZW5jaWwoZmxvYXQgc3RlbmNpbCwgZmxvYXQgaW50ZW5zaXR5LCBvdXQgZmxvYXQgb3V0c3RlbmNpbCwgb3V0IGZsb2F0IG91dGludGVuc2l0eSkNCnsNCglmbG9hdCBmYWN0ID0gaW50ZW5zaXR5Ow0KCW91dGludGVuc2l0eSA9IGludGVuc2l0eSAqIHN0ZW5jaWw7DQoJb3V0c3RlbmNpbCA9IHN0ZW5jaWwgKiBmYWN0Ow0KfQ0KDQp2b2lkIG10ZXhfcmdiX3N0ZW5jaWwoZmxvYXQgc3RlbmNpbCwgdmVjNCByZ2IsIG91dCBmbG9hdCBvdXRzdGVuY2lsLCBvdXQgdmVjNCBvdXRyZ2IpDQp7DQoJZmxvYXQgZmFjdCA9IHJnYi5hOw0KCW91dHJnYiA9IHZlYzQocmdiLnJnYiwgcmdiLmEgKiBzdGVuY2lsKTsNCglvdXRzdGVuY2lsID0gc3RlbmNpbCAqIGZhY3Q7DQp9DQoNCnZvaWQgbXRleF9tYXBwaW5nX29mcyh2ZWMzIHRleGNvLCB2ZWMzIG9mcywgb3V0IHZlYzMgb3V0dGV4Y28pDQp7DQoJb3V0dGV4Y28gPSB0ZXhjbyArIG9mczsNCn0NCg0Kdm9pZCBtdGV4X21hcHBpbmdfc2l6ZSh2ZWMzIHRleGNvLCB2ZWMzIHNpemUsIG91dCB2ZWMzIG91dHRleGNvKQ0Kew0KCW91dHRleGNvID0gc2l6ZSAqIHRleGNvOw0KfQ0KDQp2b2lkIG10ZXhfMmRfbWFwcGluZyh2ZWMzIHZlYywgb3V0IHZlYzMgb3V0dmVjKQ0Kew0KCW91dHZlYyA9IHZlYzModmVjLnh5ICogMC41ICsgdmVjMigwLjUpLCB2ZWMueik7DQp9DQoNCnZlYzMgbXRleF8yZF9tYXBwaW5nKHZlYzMgdmVjKQ0Kew0KCXJldHVybiB2ZWMzKHZlYy54eSAqIDAuNSArIHZlYzIoMC41KSwgdmVjLnopOw0KfQ0KDQp2b2lkIG10ZXhfY3ViZV9tYXAodmVjMyBjbywgc2FtcGxlckN1YmUgaW1hLCBvdXQgZmxvYXQgdmFsdWUsIG91dCB2ZWM0IGNvbG9yKQ0Kew0KCWNvbG9yID0gdGV4dHVyZUN1YmUoaW1hLCBjbyk7DQoJdmFsdWUgPSAxLjA7DQp9DQoNCnZvaWQgbXRleF9jdWJlX21hcF9yZWZsX2Zyb21fcmVmbGRpcigNCiAgICAgICAgc2FtcGxlckN1YmUgaW1hLCB2ZWMzIHJlZmxlY3RlZGRpcmVjdGlvbiwgb3V0IGZsb2F0IHZhbHVlLCBvdXQgdmVjNCBjb2xvcikNCnsNCiAgICAgICAgY29sb3IgPSB0ZXh0dXJlQ3ViZShpbWEsIHJlZmxlY3RlZGRpcmVjdGlvbik7DQogICAgICAgIHZhbHVlID0gY29sb3IuYTsNCn0NCg0Kdm9pZCBtdGV4X2N1YmVfbWFwX3JlZmwoDQogICAgICAgIHNhbXBsZXJDdWJlIGltYSwgdmVjMyB2cCwgdmVjMyB2biwgbWF0NCB2aWV3bWF0cml4aW52ZXJzZSwgbWF0NCB2aWV3bWF0cml4LA0KICAgICAgICBvdXQgZmxvYXQgdmFsdWUsIG91dCB2ZWM0IGNvbG9yKQ0Kew0KCXZlYzMgdmlld2RpcmVjdGlvbiA9IHZlYzModmlld21hdHJpeGludmVyc2UgKiB2ZWM0KHZwLCAwLjApKTsNCgl2ZWMzIG5vcm1hbGRpcmVjdGlvbiA9IG5vcm1hbGl6ZSh2ZWMzKHZlYzQodm4sIDAuMCkgKiB2aWV3bWF0cml4KSk7DQoJdmVjMyByZWZsZWN0ZWRkaXJlY3Rpb24gPSByZWZsZWN0KHZpZXdkaXJlY3Rpb24sIG5vcm1hbGRpcmVjdGlvbik7DQoJY29sb3IgPSB0ZXh0dXJlQ3ViZShpbWEsIHJlZmxlY3RlZGRpcmVjdGlvbik7DQoJdmFsdWUgPSAxLjA7DQp9DQoNCnZvaWQgbXRleF9pbWFnZSh2ZWMzIHRleGNvLCBzYW1wbGVyMkQgaW1hLCBvdXQgZmxvYXQgdmFsdWUsIG91dCB2ZWM0IGNvbG9yKQ0Kew0KCWNvbG9yID0gdGV4dHVyZTJEKGltYSwgdGV4Y28ueHkpOw0KCXZhbHVlID0gMS4wOw0KfQ0KDQp2b2lkIG10ZXhfbm9ybWFsKHZlYzMgdGV4Y28sIHNhbXBsZXIyRCBpbWEsIG91dCB2ZWMzIG5vcm1hbCkNCnsNCgkvLyBUaGUgaW52ZXJ0IG9mIHRoZSByZWQgY2hhbm5lbCBpcyB0byBtYWtlDQoJLy8gdGhlIG5vcm1hbCBtYXAgY29tcGxpYW50IHdpdGggdGhlIG91dHNpZGUgd29ybGQuDQoJLy8gSXQgbmVlZHMgdG8gYmUgZG9uZSBiZWNhdXNlIHZhcnlpbmcgQmxlbmRlcg0KCS8vIHRoZSBub3JtYWwgdXNlZCBwb2ludHMgaW53YXJkLg0KCS8vIFNob3VsZCB0aGlzIGV2ZXIgY2hhbmdlIHRoaXMgbmVnYXRlIG11c3QgYmUgcmVtb3ZlZC4NCgl2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKGltYSwgdGV4Y28ueHkpOw0KCW5vcm1hbCA9IDIuMCAqICh2ZWMzKC1jb2xvci5yLCBjb2xvci5nLCBjb2xvci5iKSAtIHZlYzMoLTAuNSwgMC41LCAwLjUpKTsNCn0NCg0Kdm9pZCBtdGV4X2J1bXBfbm9ybWFsc19pbml0KHZlYzMgdk4sIG91dCB2ZWMzIHZOb3JnLCBvdXQgdmVjMyB2TmFjYywgb3V0IGZsb2F0IGZQcmV2TWFnbml0dWRlKQ0Kew0KCXZOb3JnID0gdk47DQoJdk5hY2MgPSB2TjsNCglmUHJldk1hZ25pdHVkZSA9IDEuMDsNCn0NCg0KLyoqIGhlbHBlciBtZXRob2QgdG8gZXh0cmFjdCB0aGUgdXBwZXIgbGVmdCAzeDMgbWF0cml4IGZyb20gYSA0eDQgbWF0cml4ICovDQptYXQzIHRvX21hdDMobWF0NCBtNCkNCnsNCgltYXQzIG0zOw0KCW0zWzBdID0gbTRbMF0ueHl6Ow0KCW0zWzFdID0gbTRbMV0ueHl6Ow0KCW0zWzJdID0gbTRbMl0ueHl6Ow0KCXJldHVybiBtMzsNCn0NCg0Kdm9pZCBtdGV4X2J1bXBfaW5pdF9vYmpzcGFjZSgNCiAgICAgICAgdmVjMyBzdXJmX3BvcywgdmVjMyBzdXJmX25vcm0sDQogICAgICAgIG1hdDQgbVZpZXcsIG1hdDQgbVZpZXdJbnYsIG1hdDQgbU9iaiwgbWF0NCBtT2JqSW52LA0KICAgICAgICBmbG9hdCBmUHJldk1hZ25pdHVkZV9pbiwgdmVjMyB2TmFjY19pbiwNCiAgICAgICAgb3V0IGZsb2F0IGZQcmV2TWFnbml0dWRlX291dCwgb3V0IHZlYzMgdk5hY2Nfb3V0LA0KICAgICAgICBvdXQgdmVjMyB2UjEsIG91dCB2ZWMzIHZSMiwgb3V0IGZsb2F0IGZEZXQpDQp7DQoJbWF0MyBvYmoydmlldyA9IHRvX21hdDMoYmxfTW9kZWxWaWV3TWF0cml4KTsNCgltYXQzIHZpZXcyb2JqID0gdG9fbWF0MyhibF9Nb2RlbFZpZXdNYXRyaXhJbnZlcnNlKTsNCg0KCXZlYzMgdlNpZ21hUyA9IHZpZXcyb2JqICogZEZkeChzdXJmX3Bvcyk7DQoJdmVjMyB2U2lnbWFUID0gdmlldzJvYmogKiBkRmR5KHN1cmZfcG9zKTsNCgl2ZWMzIHZOID0gbm9ybWFsaXplKHN1cmZfbm9ybSAqIG9iajJ2aWV3KTsNCg0KCXZSMSA9IGNyb3NzKHZTaWdtYVQsIHZOKTsNCgl2UjIgPSBjcm9zcyh2TiwgdlNpZ21hUyk7DQoJZkRldCA9IGRvdCh2U2lnbWFTLCB2UjEpOw0KDQoJLyogcHJldHJhbnNmb3JtIHZOYWNjICh2YXJ5aW5nIG10ZXhfYnVtcF9hcHBseSkgdXNpbmcgdGhlIGludmVyc2UgdHJhbnNwb3NlZCAqLw0KCXZSMSA9IHZSMSAqIHZpZXcyb2JqOw0KCXZSMiA9IHZSMiAqIHZpZXcyb2JqOw0KCXZOID0gdk4gKiB2aWV3Mm9iajsNCg0KCWZsb2F0IGZNYWduaXR1ZGUgPSBhYnMoZkRldCkgKiBsZW5ndGgodk4pOw0KCXZOYWNjX291dCA9IHZOYWNjX2luICogKGZNYWduaXR1ZGUgLyBmUHJldk1hZ25pdHVkZV9pbik7DQoJZlByZXZNYWduaXR1ZGVfb3V0ID0gZk1hZ25pdHVkZTsNCn0NCg0Kdm9pZCBtdGV4X2J1bXBfaW5pdF90ZXh0dXJlc3BhY2UoDQogICAgICAgIHZlYzMgc3VyZl9wb3MsIHZlYzMgc3VyZl9ub3JtLA0KICAgICAgICBmbG9hdCBmUHJldk1hZ25pdHVkZV9pbiwgdmVjMyB2TmFjY19pbiwNCiAgICAgICAgb3V0IGZsb2F0IGZQcmV2TWFnbml0dWRlX291dCwgb3V0IHZlYzMgdk5hY2Nfb3V0LA0KICAgICAgICBvdXQgdmVjMyB2UjEsIG91dCB2ZWMzIHZSMiwgb3V0IGZsb2F0IGZEZXQpDQp7DQoJdmVjMyB2U2lnbWFTID0gZEZkeChzdXJmX3Bvcyk7DQoJdmVjMyB2U2lnbWFUID0gZEZkeShzdXJmX3Bvcyk7DQoJdmVjMyB2TiA9IHN1cmZfbm9ybTsgLyogbm9ybWFsaXplZCBpbnRlcnBvbGF0ZWQgdmVydGV4IG5vcm1hbCAqLw0KDQoJdlIxID0gbm9ybWFsaXplKGNyb3NzKHZTaWdtYVQsIHZOKSk7DQoJdlIyID0gbm9ybWFsaXplKGNyb3NzKHZOLCB2U2lnbWFTKSk7DQoJZkRldCA9IHNpZ24oZG90KHZTaWdtYVMsIHZSMSkpOw0KDQoJZmxvYXQgZk1hZ25pdHVkZSA9IGFicyhmRGV0KTsNCgl2TmFjY19vdXQgPSB2TmFjY19pbiAqIChmTWFnbml0dWRlIC8gZlByZXZNYWduaXR1ZGVfaW4pOw0KCWZQcmV2TWFnbml0dWRlX291dCA9IGZNYWduaXR1ZGU7DQp9DQoNCnZvaWQgbXRleF9idW1wX2luaXRfdmlld3NwYWNlKA0KICAgICAgICB2ZWMzIHN1cmZfcG9zLCB2ZWMzIHN1cmZfbm9ybSwNCiAgICAgICAgZmxvYXQgZlByZXZNYWduaXR1ZGVfaW4sIHZlYzMgdk5hY2NfaW4sDQogICAgICAgIG91dCBmbG9hdCBmUHJldk1hZ25pdHVkZV9vdXQsIG91dCB2ZWMzIHZOYWNjX291dCwNCiAgICAgICAgb3V0IHZlYzMgdlIxLCBvdXQgdmVjMyB2UjIsIG91dCBmbG9hdCBmRGV0KQ0Kew0KCXZlYzMgdlNpZ21hUyA9IGRGZHgoc3VyZl9wb3MpOw0KCXZlYzMgdlNpZ21hVCA9IGRGZHkoc3VyZl9wb3MpOw0KCXZlYzMgdk4gPSBzdXJmX25vcm07IC8qIG5vcm1hbGl6ZWQgaW50ZXJwb2xhdGVkIHZlcnRleCBub3JtYWwgKi8NCg0KCXZSMSA9IGNyb3NzKHZTaWdtYVQsIHZOKTsNCgl2UjIgPSBjcm9zcyh2TiwgdlNpZ21hUyk7DQoJZkRldCA9IGRvdCh2U2lnbWFTLCB2UjEpOw0KDQoJZmxvYXQgZk1hZ25pdHVkZSA9IGFicyhmRGV0KTsNCgl2TmFjY19vdXQgPSB2TmFjY19pbiAqIChmTWFnbml0dWRlIC8gZlByZXZNYWduaXR1ZGVfaW4pOw0KCWZQcmV2TWFnbml0dWRlX291dCA9IGZNYWduaXR1ZGU7DQp9DQoNCnZvaWQgbXRleF9idW1wX3RhcDMoDQogICAgICAgIHZlYzMgdGV4Y28sIHNhbXBsZXIyRCBpbWEsIGZsb2F0IGhTY2FsZSwNCiAgICAgICAgb3V0IGZsb2F0IGRCcywgb3V0IGZsb2F0IGRCdCkNCnsNCgl2ZWMyIFNUbGwgPSB0ZXhjby54eTsNCgl2ZWMyIFNUbHIgPSB0ZXhjby54eSArIGRGZHgodGV4Y28ueHkpOw0KCXZlYzIgU1R1bCA9IHRleGNvLnh5ICsgZEZkeSh0ZXhjby54eSk7DQoNCglmbG9hdCBIbGwsIEhsciwgSHVsOw0KCXJnYnRvYncodGV4dHVyZTJEKGltYSwgU1RsbCksIEhsbCk7DQoJcmdidG9idyh0ZXh0dXJlMkQoaW1hLCBTVGxyKSwgSGxyKTsNCglyZ2J0b2J3KHRleHR1cmUyRChpbWEsIFNUdWwpLCBIdWwpOw0KDQoJZEJzID0gaFNjYWxlICogKEhsciAtIEhsbCk7DQoJZEJ0ID0gaFNjYWxlICogKEh1bCAtIEhsbCk7DQp9DQoNCiNpZmRlZiBCVU1QX0JJQ1VCSUMNCg0Kdm9pZCBtdGV4X2J1bXBfYmljdWJpYygNCiAgICAgICAgdmVjMyB0ZXhjbywgc2FtcGxlcjJEIGltYSwgZmxvYXQgaFNjYWxlLA0KICAgICAgICBvdXQgZmxvYXQgZEJzLCBvdXQgZmxvYXQgZEJ0ICkNCnsNCglmbG9hdCBIbDsNCglmbG9hdCBIcjsNCglmbG9hdCBIZDsNCglmbG9hdCBIdTsNCg0KCXZlYzIgVGV4RHggPSBkRmR4KHRleGNvLnh5KTsNCgl2ZWMyIFRleER5ID0gZEZkeSh0ZXhjby54eSk7DQoNCgl2ZWMyIFNUbCA9IHRleGNvLnh5IC0gMC41ICogVGV4RHg7DQoJdmVjMiBTVHIgPSB0ZXhjby54eSArIDAuNSAqIFRleER4Ow0KCXZlYzIgU1RkID0gdGV4Y28ueHkgLSAwLjUgKiBUZXhEeTsNCgl2ZWMyIFNUdSA9IHRleGNvLnh5ICsgMC41ICogVGV4RHk7DQoNCglyZ2J0b2J3KHRleHR1cmUyRChpbWEsIFNUbCksIEhsKTsNCglyZ2J0b2J3KHRleHR1cmUyRChpbWEsIFNUciksIEhyKTsNCglyZ2J0b2J3KHRleHR1cmUyRChpbWEsIFNUZCksIEhkKTsNCglyZ2J0b2J3KHRleHR1cmUyRChpbWEsIFNUdSksIEh1KTsNCg0KCXZlYzIgZEhkeHkgPSB2ZWMyKEhyIC0gSGwsIEh1IC0gSGQpOw0KCWZsb2F0IGZCbGVuZCA9IGNsYW1wKDEuMCAtIHRleHR1cmVRdWVyeUxPRChpbWEsIHRleGNvLnh5KS54LCAwLjAsIDEuMCk7DQoJaWYgKGZCbGVuZCAhPSAwLjApIHsNCgkJLy8gdGhlIGRlcml2YXRpdmUgb2YgdGhlIGJpY3ViaWMgc2FtcGxpbmcgb2YgbGV2ZWwgMA0KCQlpdmVjMiB2RGltOw0KCQl2RGltID0gdGV4dHVyZVNpemUoaW1hLCAwKTsNCg0KCQkvLyB0YWtpbmcgdGhlIGZyYWN0IHBhcnQgb2YgdGhlIHRleHR1cmUgY29vcmRpbmF0ZSBpcyBhIGhhcmRjb2RlZCB3cmFwIG1vZGUuDQoJCS8vIHRoaXMgaXMgYWNjZXB0YWJsZSBhcyB0ZXh0dXJlcyB1c2Ugd3JhcCBtb2RlIGV4Y2x1c2l2ZWx5IHZhcnlpbmcgM0QgdmlldyBlbHNld2hlcmUgdmFyeWluZyBibGVuZGVyLg0KCQkvLyB0aGlzIGlzIGRvbmUgc28gdGhhdCB3ZSBjYW4gc3RpbGwgZ2V0IGEgdmFsaWQgdGV4ZWwgd2l0aCB1dnMgb3V0c2lkZSB0aGUgMCwxIHJhbmdlDQoJCS8vIGJ5IHRleGVsRmV0Y2ggYmVsb3csIGFzIGNvb3JkaW5hdGVzIGFyZSBjbGFtcGVkIHdoZW4gdXNpbmcgdGhpcyBmdW5jdGlvbi4NCgkJdmVjMiBmVGV4TG9jID0gdkRpbSAqIGZyYWN0KHRleGNvLnh5KSAtIHZlYzIoMC41LCAwLjUpOw0KCQlpdmVjMiBpVGV4TG9jID0gaXZlYzIoZmxvb3IoZlRleExvYykpOw0KCQl2ZWMyIHQgPSBjbGFtcChmVGV4TG9jIC0gaVRleExvYywgMC4wLCAxLjApOyAgICAgICAgLy8gc2F0IGp1c3QgdG8gYmUgcGVkYW50aWMNCg0KLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiAqIFRoaXMgYmxvY2sgd2lsbCByZXBsYWNlIHRoZSBvbmUgYmVsb3cgd2hlbiBvbmUgY2hhbm5lbCB0ZXh0dXJlcyBhcmUgcHJvcGVybHkgc3VwcG9ydGVkLiAqDQogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KCQl2ZWM0IHZTYW1wbGVzVUwgPSB0ZXh0dXJlR2F0aGVyKGltYSwgKGlUZXhMb2MraXZlYzIoLTEsLTEpICsgdmVjMigwLjUsMC41KSkvdkRpbSk7DQoJCXZlYzQgdlNhbXBsZXNVUiA9IHRleHR1cmVHYXRoZXIoaW1hLCAoaVRleExvYytpdmVjMigxLC0xKSArIHZlYzIoMC41LDAuNSkpL3ZEaW0pOw0KCQl2ZWM0IHZTYW1wbGVzTEwgPSB0ZXh0dXJlR2F0aGVyKGltYSwgKGlUZXhMb2MraXZlYzIoLTEsMSkgKyB2ZWMyKDAuNSwwLjUpKS92RGltKTsNCgkJdmVjNCB2U2FtcGxlc0xSID0gdGV4dHVyZUdhdGhlcihpbWEsIChpVGV4TG9jK2l2ZWMyKDEsMSkgKyB2ZWMyKDAuNSwwLjUpKS92RGltKTsNCg0KCQltYXQ0IEggPSBtYXQ0KHZTYW1wbGVzVUwudywgdlNhbXBsZXNVTC54LCB2U2FtcGxlc0xMLncsIHZTYW1wbGVzTEwueCwNCgkJICAgICAgICAgICAgdlNhbXBsZXNVTC56LCB2U2FtcGxlc1VMLnksIHZTYW1wbGVzTEwueiwgdlNhbXBsZXNMTC55LA0KCQkgICAgICAgICAgICB2U2FtcGxlc1VSLncsIHZTYW1wbGVzVVIueCwgdlNhbXBsZXNMUi53LCB2U2FtcGxlc0xSLngsDQoJCSAgICAgICAgICAgIHZTYW1wbGVzVVIueiwgdlNhbXBsZXNVUi55LCB2U2FtcGxlc0xSLnosIHZTYW1wbGVzTFIueSk7DQogKi8NCgkJaXZlYzIgaVRleExvY01vZCA9IGlUZXhMb2MgKyBpdmVjMigtMSwgLTEpOw0KDQoJCW1hdDQgSDsNCg0KCQlmb3IgKGludCBpID0gMDsgaSA8IDQ7IGkrKykgew0KCQkJZm9yIChpbnQgaiA9IDA7IGogPCA0OyBqKyspIHsNCgkJCQlpdmVjMiBpVGV4VG1wID0gaVRleExvY01vZCArIGl2ZWMyKGksIGopOw0KDQoJCQkJLy8gd3JhcCB0ZXh0dXJlIGNvb3JkaW5hdGVzIG1hbnVhbGx5IGZvciB0ZXhlbEZldGNoIHRvIHdvcmsgb24gdXZzIG9pdHNpZGUgdGhlIDAsMSByYW5nZS4NCgkJCQkvLyB0aGlzIGlzIGd1YXJhbnRlZWQgdG8gd29yayBzaW5jZSB3ZSB0YWtlIHRoZSBmcmFjdGlvbmFsIHBhcnQgb2YgdGhlIHV2IGFib3ZlLg0KCQkJCWlUZXhUbXAueCA9IChpVGV4VG1wLnggPCAwKSA/IGlUZXhUbXAueCArIHZEaW0ueCA6ICgoaVRleFRtcC54ID49IHZEaW0ueCkgPyBpVGV4VG1wLnggLSB2RGltLnggOiBpVGV4VG1wLngpOw0KCQkJCWlUZXhUbXAueSA9IChpVGV4VG1wLnkgPCAwKSA/IGlUZXhUbXAueSArIHZEaW0ueSA6ICgoaVRleFRtcC55ID49IHZEaW0ueSkgPyBpVGV4VG1wLnkgLSB2RGltLnkgOiBpVGV4VG1wLnkpOw0KDQoJCQkJcmdidG9idyh0ZXhlbEZldGNoKGltYSwgaVRleFRtcCwgMCksIEhbaV1bal0pOw0KCQkJfQ0KCQl9DQoNCgkJZmxvYXQgeCA9IHQueCwgeSA9IHQueTsNCgkJZmxvYXQgeDIgPSB4ICogeCwgeDMgPSB4MiAqIHgsIHkyID0geSAqIHksIHkzID0geTIgKiB5Ow0KDQoJCXZlYzQgWCAgPSB2ZWM0KC0wLjUgKiAoeDMgKyB4KSArIHgyLCAgICAxLjUgKiB4MyAtIDIuNSAqIHgyICsgMSwgLTEuNSAqIHgzICsgMiAqIHgyICsgMC41ICogeCwgMC41ICogKHgzIC0geDIpKTsNCgkJdmVjNCBZICA9IHZlYzQoLTAuNSAqICh5MyArIHkpICsgeTIsICAgIDEuNSAqIHkzIC0gMi41ICogeTIgKyAxLCAtMS41ICogeTMgKyAyICogeTIgKyAwLjUgKiB5LCAwLjUgKiAoeTMgLSB5MikpOw0KCQl2ZWM0IGRYID0gdmVjNCgtMS41ICogeDIgKyAyICogeCAtIDAuNSwgNC41ICogeDIgLSA1ICogeCwgICAgICAgIC00LjUgKiB4MiArIDQgKiB4ICsgMC41LCAgICAgIDEuNSAqIHgyIC0geCk7DQoJCXZlYzQgZFkgPSB2ZWM0KC0xLjUgKiB5MiArIDIgKiB5IC0gMC41LCA0LjUgKiB5MiAtIDUgKiB5LCAgICAgICAgLTQuNSAqIHkyICsgNCAqIHkgKyAwLjUsICAgICAgMS41ICogeTIgLSB5KTsNCg0KCQkvLyBjb21wbGV0ZSBkZXJpdmF0aXZlIHZhcnlpbmcgbm9ybWFsaXplZCBjb29yZGluYXRlcyAobXVsIGJ5IHZEaW0pDQoJCXZlYzIgZEhkU1QgPSB2RGltICogdmVjMihkb3QoWSwgSCAqIGRYKSwgZG90KGRZLCBIICogWCkpOw0KDQoJCS8vIHRyYW5zZm9ybSBkZXJpdmF0aXZlIHRvIHNjcmVlbi1zcGFjZQ0KCQl2ZWMyIGRIZHh5X2JpY3ViaWMgPSB2ZWMyKGRIZFNULnggKiBUZXhEeC54ICsgZEhkU1QueSAqIFRleER4LnksDQoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgZEhkU1QueCAqIFRleER5LnggKyBkSGRTVC55ICogVGV4RHkueSk7DQoNCgkJLy8gYmxlbmQgYmV0d2VlbiB0aGUgdHdvDQoJCWRIZHh5ID0gZEhkeHkgKiAoMSAtIGZCbGVuZCkgKyBkSGR4eV9iaWN1YmljICogZkJsZW5kOw0KCX0NCg0KCWRCcyA9IGhTY2FsZSAqIGRIZHh5Lng7DQoJZEJ0ID0gaFNjYWxlICogZEhkeHkueTsNCn0NCg0KI2VuZGlmDQoNCnZvaWQgbXRleF9idW1wX3RhcDUoDQogICAgICAgIHZlYzMgdGV4Y28sIHNhbXBsZXIyRCBpbWEsIGZsb2F0IGhTY2FsZSwNCiAgICAgICAgb3V0IGZsb2F0IGRCcywgb3V0IGZsb2F0IGRCdCkNCnsNCgl2ZWMyIFRleER4ID0gZEZkeCh0ZXhjby54eSk7DQoJdmVjMiBUZXhEeSA9IGRGZHkodGV4Y28ueHkpOw0KDQoJdmVjMiBTVGMgPSB0ZXhjby54eTsNCgl2ZWMyIFNUbCA9IHRleGNvLnh5IC0gMC41ICogVGV4RHg7DQoJdmVjMiBTVHIgPSB0ZXhjby54eSArIDAuNSAqIFRleER4Ow0KCXZlYzIgU1RkID0gdGV4Y28ueHkgLSAwLjUgKiBUZXhEeTsNCgl2ZWMyIFNUdSA9IHRleGNvLnh5ICsgMC41ICogVGV4RHk7DQoNCglmbG9hdCBIYywgSGwsIEhyLCBIZCwgSHU7DQoJcmdidG9idyh0ZXh0dXJlMkQoaW1hLCBTVGMpLCBIYyk7DQoJcmdidG9idyh0ZXh0dXJlMkQoaW1hLCBTVGwpLCBIbCk7DQoJcmdidG9idyh0ZXh0dXJlMkQoaW1hLCBTVHIpLCBIcik7DQoJcmdidG9idyh0ZXh0dXJlMkQoaW1hLCBTVGQpLCBIZCk7DQoJcmdidG9idyh0ZXh0dXJlMkQoaW1hLCBTVHUpLCBIdSk7DQoNCglkQnMgPSBoU2NhbGUgKiAoSHIgLSBIbCk7DQoJZEJ0ID0gaFNjYWxlICogKEh1IC0gSGQpOw0KfQ0KDQp2b2lkIG10ZXhfYnVtcF9kZXJpdigNCiAgICAgICAgdmVjMyB0ZXhjbywgc2FtcGxlcjJEIGltYSwgZmxvYXQgaW1hX3gsIGZsb2F0IGltYV95LCBmbG9hdCBoU2NhbGUsDQogICAgICAgIG91dCBmbG9hdCBkQnMsIG91dCBmbG9hdCBkQnQpDQp7DQoJZmxvYXQgcyA9IDEuMDsgICAgICAvLyBuZWdhdGUgdGhpcyBpZiBmbGlwcGVkIHRleHR1cmUgY29vcmRpbmF0ZQ0KCXZlYzIgVGV4RHggPSBkRmR4KHRleGNvLnh5KTsNCgl2ZWMyIFRleER5ID0gZEZkeSh0ZXhjby54eSk7DQoNCgkvLyB0aGlzIHZhcmlhbnQgdXNpbmcgYSBkZXJpdmF0aXZlIG1hcCBpcyBkZXNjcmliZWQgaGVyZQ0KCS8vIGh0dHA6Ly9tbWlra2Vsc2VuM2QuYmxvZ3Nwb3QuY29tLzIwMTEvMDcvZGVyaXZhdGl2ZS1tYXBzLmh0bWwNCgl2ZWMyIGRpbSA9IHZlYzIoaW1hX3gsIGltYV95KTsNCgl2ZWMyIGRCZHV2ID0gaFNjYWxlICogZGltICogKDIuMCAqIHRleHR1cmUyRChpbWEsIHRleGNvLnh5KS54eSAtIDEuMCk7DQoNCglkQnMgPSBkQmR1di54ICogVGV4RHgueCArIHMgKiBkQmR1di55ICogVGV4RHgueTsNCglkQnQgPSBkQmR1di54ICogVGV4RHkueCArIHMgKiBkQmR1di55ICogVGV4RHkueTsNCn0NCg0Kdm9pZCBtdGV4X2J1bXBfYXBwbHkoDQogICAgICAgIGZsb2F0IGZEZXQsIGZsb2F0IGRCcywgZmxvYXQgZEJ0LCB2ZWMzIHZSMSwgdmVjMyB2UjIsIHZlYzMgdk5hY2NfaW4sDQogICAgICAgIG91dCB2ZWMzIHZOYWNjX291dCwgb3V0IHZlYzMgcGVydHVyYmVkX25vcm0pDQp7DQoJdmVjMyB2U3VyZkdyYWQgPSBzaWduKGZEZXQpICogKGRCcyAqIHZSMSArIGRCdCAqIHZSMik7DQoNCgl2TmFjY19vdXQgPSB2TmFjY19pbiAtIHZTdXJmR3JhZDsNCglwZXJ0dXJiZWRfbm9ybSA9IG5vcm1hbGl6ZSh2TmFjY19vdXQpOw0KfQ0KDQp2b2lkIG10ZXhfYnVtcF9hcHBseV90ZXhzcGFjZSgNCiAgICAgICAgZmxvYXQgZkRldCwgZmxvYXQgZEJzLCBmbG9hdCBkQnQsIHZlYzMgdlIxLCB2ZWMzIHZSMiwNCiAgICAgICAgc2FtcGxlcjJEIGltYSwgdmVjMyB0ZXhjbywgZmxvYXQgaW1hX3gsIGZsb2F0IGltYV95LCB2ZWMzIHZOYWNjX2luLA0KICAgICAgICBvdXQgdmVjMyB2TmFjY19vdXQsIG91dCB2ZWMzIHBlcnR1cmJlZF9ub3JtKQ0Kew0KCXZlYzIgVGV4RHggPSBkRmR4KHRleGNvLnh5KTsNCgl2ZWMyIFRleER5ID0gZEZkeSh0ZXhjby54eSk7DQoNCgl2ZWMzIHZTdXJmR3JhZCA9IHNpZ24oZkRldCkgKiAoDQoJICAgICAgICBkQnMgLyBsZW5ndGgodmVjMihpbWFfeCAqIFRleER4LngsIGltYV95ICogVGV4RHgueSkpICogdlIxICsNCgkgICAgICAgIGRCdCAvIGxlbmd0aCh2ZWMyKGltYV94ICogVGV4RHkueCwgaW1hX3kgKiBUZXhEeS55KSkgKiB2UjIpOw0KDQoJdk5hY2Nfb3V0ID0gdk5hY2NfaW4gLSB2U3VyZkdyYWQ7DQoJcGVydHVyYmVkX25vcm0gPSBub3JtYWxpemUodk5hY2Nfb3V0KTsNCn0NCg0Kdm9pZCBtdGV4X25lZ2F0ZV90ZXhub3JtYWwodmVjMyBub3JtYWwsIG91dCB2ZWMzIG91dG5vcm1hbCkNCnsNCglvdXRub3JtYWwgPSB2ZWMzKC1ub3JtYWwueCwgLW5vcm1hbC55LCBub3JtYWwueik7DQp9DQoNCnZvaWQgbXRleF9uc3BhY2VfdGFuZ2VudCh2ZWM0IHRhbmdlbnQsIHZlYzMgbm9ybWFsLCB2ZWMzIHRleG5vcm1hbCwgb3V0IHZlYzMgb3V0bm9ybWFsKQ0Kew0KCXZlYzMgQiA9IHRhbmdlbnQudyAqIGNyb3NzKG5vcm1hbCwgdGFuZ2VudC54eXopOw0KDQoJb3V0bm9ybWFsID0gdGV4bm9ybWFsLnggKiB0YW5nZW50Lnh5eiArIHRleG5vcm1hbC55ICogQiArIHRleG5vcm1hbC56ICogbm9ybWFsOw0KCW91dG5vcm1hbCA9IG5vcm1hbGl6ZShvdXRub3JtYWwpOw0KfQ0KDQp2b2lkIG10ZXhfbnNwYWNlX3dvcmxkKG1hdDQgdmlld21hdCwgdmVjMyB0ZXhub3JtYWwsIG91dCB2ZWMzIG91dG5vcm1hbCkNCnsNCglvdXRub3JtYWwgPSBub3JtYWxpemUoKHZpZXdtYXQgKiB2ZWM0KHRleG5vcm1hbCwgMC4wKSkueHl6KTsNCn0NCg0Kdm9pZCBtdGV4X25zcGFjZV9vYmplY3QodmVjMyB0ZXhub3JtYWwsIG91dCB2ZWMzIG91dG5vcm1hbCkNCnsNCglvdXRub3JtYWwgPSBub3JtYWxpemUoYmxfTm9ybWFsTWF0cml4ICogdGV4bm9ybWFsKTsNCn0NCg0Kdm9pZCBtdGV4X2JsZW5kX25vcm1hbChmbG9hdCBub3JmYWMsIHZlYzMgbm9ybWFsLCB2ZWMzIG5ld25vcm1hbCwgb3V0IHZlYzMgb3V0bm9ybWFsKQ0Kew0KCW91dG5vcm1hbCA9ICgxLjAgLSBub3JmYWMpICogbm9ybWFsICsgbm9yZmFjICogbmV3bm9ybWFsOw0KCW91dG5vcm1hbCA9IG5vcm1hbGl6ZShvdXRub3JtYWwpOw0KfQ0KDQovKioqKioqKiBNQVRFUklBTCAqKioqKioqKiovDQoNCnZvaWQgbGFtcF92aXNpYmlsaXR5X3N1bl9oZW1pKHZlYzMgbGFtcHZlYywgb3V0IHZlYzMgbHYsIG91dCBmbG9hdCBkaXN0LCBvdXQgZmxvYXQgdmlzaWZhYykNCnsNCglsdiA9IGxhbXB2ZWM7DQoJZGlzdCA9IDEuMDsNCgl2aXNpZmFjID0gMS4wOw0KfQ0KDQp2b2lkIGxhbXBfdmlzaWJpbGl0eV9vdGhlcih2ZWMzIGNvLCB2ZWMzIGxhbXBjbywgb3V0IHZlYzMgbHYsIG91dCBmbG9hdCBkaXN0LCBvdXQgZmxvYXQgdmlzaWZhYykNCnsNCglsdiA9IGNvIC0gbGFtcGNvOw0KCWRpc3QgPSBsZW5ndGgobHYpOw0KCWx2ID0gbm9ybWFsaXplKGx2KTsNCgl2aXNpZmFjID0gMS4wOw0KfQ0KDQp2b2lkIGxhbXBfZmFsbG9mZl9pbnZsaW5lYXIoZmxvYXQgbGFtcGRpc3QsIGZsb2F0IGRpc3QsIG91dCBmbG9hdCB2aXNpZmFjKQ0Kew0KCXZpc2lmYWMgPSBsYW1wZGlzdCAvIChsYW1wZGlzdCArIGRpc3QpOw0KfQ0KDQp2b2lkIGxhbXBfZmFsbG9mZl9pbnZzcXVhcmUoZmxvYXQgbGFtcGRpc3QsIGZsb2F0IGRpc3QsIG91dCBmbG9hdCB2aXNpZmFjKQ0Kew0KCXZpc2lmYWMgPSBsYW1wZGlzdCAvIChsYW1wZGlzdCArIGRpc3QgKiBkaXN0KTsNCn0NCg0Kdm9pZCBsYW1wX2ZhbGxvZmZfc2xpZGVycyhmbG9hdCBsYW1wZGlzdCwgZmxvYXQgbGQxLCBmbG9hdCBsZDIsIGZsb2F0IGRpc3QsIG91dCBmbG9hdCB2aXNpZmFjKQ0Kew0KCWZsb2F0IGxhbXBkaXN0a3cgPSBsYW1wZGlzdCAqIGxhbXBkaXN0Ow0KDQoJdmlzaWZhYyA9IGxhbXBkaXN0IC8gKGxhbXBkaXN0ICsgbGQxICogZGlzdCk7DQoJdmlzaWZhYyAqPSBsYW1wZGlzdGt3IC8gKGxhbXBkaXN0a3cgKyBsZDIgKiBkaXN0ICogZGlzdCk7DQp9DQoNCnZvaWQgbGFtcF9mYWxsb2ZmX2ludmNvZWZmaWNpZW50cyhmbG9hdCBjb2VmZl9jb25zdCwgZmxvYXQgY29lZmZfbGluLCBmbG9hdCBjb2VmZl9xdWFkLCBmbG9hdCBkaXN0LCBvdXQgZmxvYXQgdmlzaWZhYykNCnsNCgl2ZWMzIGNvZWZmID0gdmVjMyhjb2VmZl9jb25zdCwgY29lZmZfbGluLCBjb2VmZl9xdWFkKTsNCgl2ZWMzIGRfY29lZmYgPSB2ZWMzKDEuMCwgZGlzdCwgZGlzdCAqIGRpc3QpOw0KCWZsb2F0IHZpc2lmYWNfciA9IGRvdChjb2VmZiwgZF9jb2VmZik7DQoJaWYgKHZpc2lmYWNfciA+IDAuMCkNCgkJdmlzaWZhYyA9IDEuMCAvIHZpc2lmYWNfcjsNCgllbHNlDQoJCXZpc2lmYWMgPSAwLjA7DQp9DQoNCnZvaWQgbGFtcF9mYWxsb2ZmX2N1cnZlKGZsb2F0IGxhbXBkaXN0LCBzYW1wbGVyMkQgY3VydmVtYXAsIGZsb2F0IGRpc3QsIG91dCBmbG9hdCB2aXNpZmFjKQ0Kew0KCXZpc2lmYWMgPSB0ZXh0dXJlMkQoY3VydmVtYXAsIHZlYzIoZGlzdCAvIGxhbXBkaXN0LCAwLjApKS54Ow0KfQ0KDQp2b2lkIGxhbXBfdmlzaWJpbGl0eV9zcGhlcmUoZmxvYXQgbGFtcGRpc3QsIGZsb2F0IGRpc3QsIGZsb2F0IHZpc2lmYWMsIG91dCBmbG9hdCBvdXR2aXNpZmFjKQ0Kew0KCWZsb2F0IHQgPSBsYW1wZGlzdCAtIGRpc3Q7DQoNCglvdXR2aXNpZmFjID0gdmlzaWZhYyAqIG1heCh0LCAwLjApIC8gbGFtcGRpc3Q7DQp9DQoNCnZvaWQgbGFtcF92aXNpYmlsaXR5X3Nwb3Rfc3F1YXJlKHZlYzMgbGFtcHZlYywgbWF0NCBsYW1waW1hdCwgdmVjMiBzY2FsZSwgdmVjMyBsdiwgb3V0IGZsb2F0IGlucHIpDQp7DQoJaWYgKGRvdChsdiwgbGFtcHZlYykgPiAwLjApIHsNCgkJdmVjMyBsdnJvdCA9IChsYW1waW1hdCAqIHZlYzQobHYsIDAuMCkpLnh5ejsNCgkJLyogd2l0aG91dCBjbGV2ZXIgbm9uLXVuaWZvcm0gc2NhbGUsIHdlIGNvdWxkIGRvOiAqLw0KCQkvLyBmbG9hdCB4ID0gbWF4KGFicyhsdnJvdC54IC8gbHZyb3QueiksIGFicyhsdnJvdC55IC8gbHZyb3QueikpOw0KCQlmbG9hdCB4ID0gbWF4KGFicygobHZyb3QueCAvIHNjYWxlLngpIC8gbHZyb3QueiksIGFicygobHZyb3QueSAvIHNjYWxlLnkpIC8gbHZyb3QueikpOw0KDQoJCWlucHIgPSAxLjAgLyBzcXJ0KDEuMCArIHggKiB4KTsNCgl9DQoJZWxzZQ0KCQlpbnByID0gMC4wOw0KfQ0KDQp2b2lkIGxhbXBfdmlzaWJpbGl0eV9zcG90X2NpcmNsZSh2ZWMzIGxhbXB2ZWMsIG1hdDQgbGFtcGltYXQsIHZlYzIgc2NhbGUsIHZlYzMgbHYsIG91dCBmbG9hdCBpbnByKQ0Kew0KCS8qIHdpdGhvdXQgY2xldmVyIG5vbi11bmlmb3JtIHNjYWxlLCB3ZSBjb3VsZCBkbzogKi8NCgkvLyBpbnByID0gZG90KGx2LCBsYW1wdmVjKTsNCglpZiAoZG90KGx2LCBsYW1wdmVjKSA+IDAuMCkgew0KCQl2ZWMzIGx2cm90ID0gKGxhbXBpbWF0ICogdmVjNChsdiwgMC4wKSkueHl6Ow0KCQlmbG9hdCB4ID0gYWJzKGx2cm90LnggLyBsdnJvdC56KTsNCgkJZmxvYXQgeSA9IGFicyhsdnJvdC55IC8gbHZyb3Queik7DQoNCgkJZmxvYXQgZWxsaXBzZSA9IGFicygoeCAqIHgpIC8gKHNjYWxlLnggKiBzY2FsZS54KSArICh5ICogeSkgLyAoc2NhbGUueSAqIHNjYWxlLnkpKTsNCg0KCQlpbnByID0gMS4wIC8gc3FydCgxLjAgKyBlbGxpcHNlKTsNCgl9DQoJZWxzZQ0KCQlpbnByID0gMC4wOw0KfQ0KDQp2b2lkIGxhbXBfdmlzaWJpbGl0eV9zcG90KGZsb2F0IHNwb3RzaSwgZmxvYXQgc3BvdGJsLCBmbG9hdCBpbnByLCBmbG9hdCB2aXNpZmFjLCBvdXQgZmxvYXQgb3V0dmlzaWZhYykNCnsNCglmbG9hdCB0ID0gc3BvdHNpOw0KDQoJaWYgKGlucHIgPD0gdCkgew0KCQlvdXR2aXNpZmFjID0gMC4wOw0KCX0NCgllbHNlIHsNCgkJdCA9IGlucHIgLSB0Ow0KDQoJCS8qIHNvZnQgYXJlYSAqLw0KCQlpZiAoc3BvdGJsICE9IDAuMCkNCgkJCWlucHIgKj0gc21vb3Roc3RlcCgwLjAsIDEuMCwgdCAvIHNwb3RibCk7DQoNCgkJb3V0dmlzaWZhYyA9IHZpc2lmYWMgKiBpbnByOw0KCX0NCn0NCg0Kdm9pZCBsYW1wX3Zpc2liaWxpdHlfY2xhbXAoZmxvYXQgdmlzaWZhYywgb3V0IGZsb2F0IG91dHZpc2lmYWMpDQp7DQoJb3V0dmlzaWZhYyA9ICh2aXNpZmFjIDwgMC4wMDEpID8gMC4wIDogdmlzaWZhYzsNCn0NCg0Kdm9pZCB3b3JsZF9wYXBlcl92aWV3KHZlYzMgdmVjLCBvdXQgdmVjMyBvdXR2ZWMpDQp7DQoJdmVjMyBudmVjID0gbm9ybWFsaXplKHZlYyk7DQoJb3V0dmVjID0gKGJsX1Byb2plY3Rpb25NYXRyaXhbM11bM10gPT0gMC4wKSA/IHZlYzMobnZlYy54LCAwLjAsIG52ZWMueSkgOiB2ZWMzKDAuMCwgMC4wLCAtMS4wKTsNCn0NCg0Kdm9pZCB3b3JsZF96ZW5fbWFwcGluZyh2ZWMzIHZpZXcsIGZsb2F0IHplbnVwLCBmbG9hdCB6ZW5kb3duLCBvdXQgZmxvYXQgemVuZmFjKQ0Kew0KCWlmICh2aWV3LnogPj0gMC4wKQ0KCQl6ZW5mYWMgPSB6ZW51cDsNCgllbHNlDQoJCXplbmZhYyA9IHplbmRvd247DQp9DQoNCnZvaWQgd29ybGRfYmxlbmRfcGFwZXJfcmVhbCh2ZWMzIHZlYywgb3V0IGZsb2F0IGJsZW5kKQ0Kew0KCWJsZW5kID0gYWJzKHZlYy55KTsNCn0NCg0Kdm9pZCB3b3JsZF9ibGVuZF9wYXBlcih2ZWMzIHZlYywgb3V0IGZsb2F0IGJsZW5kKQ0Kew0KCWJsZW5kID0gKHZlYy55ICsgMS4wKSAqIDAuNTsNCn0NCg0Kdm9pZCB3b3JsZF9ibGVuZF9yZWFsKHZlYzMgdmVjLCBvdXQgZmxvYXQgYmxlbmQpDQp7DQoJYmxlbmQgPSBhYnMobm9ybWFsaXplKHZlYykueik7DQp9DQoNCnZvaWQgd29ybGRfYmxlbmQodmVjMyB2ZWMsIG91dCBmbG9hdCBibGVuZCkNCnsNCglibGVuZCA9IChub3JtYWxpemUodmVjKS56ICsgMS4wKSAqIDAuNTsNCn0NCg0Kdm9pZCBzaGFkZV92aWV3KHZlYzMgY28sIG91dCB2ZWMzIHZpZXcpDQp7DQoJLyogaGFuZGxlIHBlcnNwZWN0aXZlL29ydGhvZ3JhcGhpYyAqLw0KCXZpZXcgPSAoYmxfUHJvamVjdGlvbk1hdHJpeFszXVszXSA9PSAwLjApID8gbm9ybWFsaXplKGNvKSA6IHZlYzMoMC4wLCAwLjAsIC0xLjApOw0KfQ0KDQp2b2lkIHNoYWRlX3RhbmdlbnRfdih2ZWMzIGx2LCB2ZWMzIHRhbmcsIG91dCB2ZWMzIHZuKQ0Kew0KCXZlYzMgYyA9IGNyb3NzKGx2LCB0YW5nKTsNCgl2ZWMzIHZub3IgPSBjcm9zcyhjLCB0YW5nKTsNCg0KCXZuID0gLW5vcm1hbGl6ZSh2bm9yKTsNCn0NCg0Kdm9pZCBzaGFkZV9pbnAodmVjMyB2biwgdmVjMyBsdiwgb3V0IGZsb2F0IGlucCkNCnsNCglpbnAgPSBkb3Qodm4sIGx2KTsNCn0NCg0Kdm9pZCBzaGFkZV9pc19ub19kaWZmdXNlKG91dCBmbG9hdCBpcykNCnsNCglpcyA9IDAuMDsNCn0NCg0Kdm9pZCBzaGFkZV9pc19oZW1pKGZsb2F0IGlucCwgb3V0IGZsb2F0IGlzKQ0Kew0KCWlzID0gMC41ICogaW5wICsgMC41Ow0KfQ0KDQpmbG9hdCBhcmVhX2xhbXBfZW5lcmd5KG1hdDQgYXJlYSwgdmVjMyBjbywgdmVjMyB2bikNCnsNCgl2ZWMzIHZlY1s0XSwgY1s0XTsNCglmbG9hdCByYWRbNF0sIGZhYzsNCg0KCXZlY1swXSA9IG5vcm1hbGl6ZShjbyAtIGFyZWFbMF0ueHl6KTsNCgl2ZWNbMV0gPSBub3JtYWxpemUoY28gLSBhcmVhWzFdLnh5eik7DQoJdmVjWzJdID0gbm9ybWFsaXplKGNvIC0gYXJlYVsyXS54eXopOw0KCXZlY1szXSA9IG5vcm1hbGl6ZShjbyAtIGFyZWFbM10ueHl6KTsNCg0KCWNbMF0gPSBub3JtYWxpemUoY3Jvc3ModmVjWzBdLCB2ZWNbMV0pKTsNCgljWzFdID0gbm9ybWFsaXplKGNyb3NzKHZlY1sxXSwgdmVjWzJdKSk7DQoJY1syXSA9IG5vcm1hbGl6ZShjcm9zcyh2ZWNbMl0sIHZlY1szXSkpOw0KCWNbM10gPSBub3JtYWxpemUoY3Jvc3ModmVjWzNdLCB2ZWNbMF0pKTsNCg0KCXJhZFswXSA9IGFjb3MoZG90KHZlY1swXSwgdmVjWzFdKSk7DQoJcmFkWzFdID0gYWNvcyhkb3QodmVjWzFdLCB2ZWNbMl0pKTsNCglyYWRbMl0gPSBhY29zKGRvdCh2ZWNbMl0sIHZlY1szXSkpOw0KCXJhZFszXSA9IGFjb3MoZG90KHZlY1szXSwgdmVjWzBdKSk7DQoNCglmYWMgPSAgcmFkWzBdICogZG90KHZuLCBjWzBdKTsNCglmYWMgKz0gcmFkWzFdICogZG90KHZuLCBjWzFdKTsNCglmYWMgKz0gcmFkWzJdICogZG90KHZuLCBjWzJdKTsNCglmYWMgKz0gcmFkWzNdICogZG90KHZuLCBjWzNdKTsNCg0KCXJldHVybiBtYXgoZmFjLCAwLjApOw0KfQ0KDQp2b2lkIHNoYWRlX2lucF9hcmVhKA0KICAgICAgICB2ZWMzIHBvc2l0aW9uLCB2ZWMzIGxhbXBjbywgdmVjMyBsYW1wdmVjLCB2ZWMzIHZuLCBtYXQ0IGFyZWEsIGZsb2F0IGFyZWFzaXplLCBmbG9hdCBrLA0KICAgICAgICBvdXQgZmxvYXQgaW5wKQ0Kew0KCXZlYzMgY28gPSBwb3NpdGlvbjsNCgl2ZWMzIHZlYyA9IGNvIC0gbGFtcGNvOw0KDQoJaWYgKGRvdCh2ZWMsIGxhbXB2ZWMpIDwgMC4wKSB7DQoJCWlucCA9IDAuMDsNCgl9DQoJZWxzZSB7DQoJCWZsb2F0IGludGVucyA9IGFyZWFfbGFtcF9lbmVyZ3koYXJlYSwgY28sIHZuKTsNCg0KCQlpbnAgPSBwb3coaW50ZW5zICogYXJlYXNpemUsIGspOw0KCX0NCn0NCg0Kdm9pZCBzaGFkZV9kaWZmdXNlX29yZW5fbmF5ZXIoZmxvYXQgbmwsIHZlYzMgbiwgdmVjMyBsLCB2ZWMzIHYsIGZsb2F0IHJvdWdoLCBvdXQgZmxvYXQgaXMpDQp7DQoJdmVjMyBoID0gbm9ybWFsaXplKHYgKyBsKTsNCglmbG9hdCBuaCA9IG1heChkb3QobiwgaCksIDAuMCk7DQoJZmxvYXQgbnYgPSBtYXgoZG90KG4sIHYpLCAwLjApOw0KCWZsb2F0IHJlYWxubCA9IGRvdChuLCBsKTsNCg0KCWlmIChyZWFsbmwgPCAwLjApIHsNCgkJaXMgPSAwLjA7DQoJfQ0KCWVsc2UgaWYgKG5sIDwgMC4wKSB7DQoJCWlzID0gMC4wOw0KCX0NCgllbHNlIHsNCgkJZmxvYXQgdmggPSBtYXgoZG90KHYsIGgpLCAwLjApOw0KCQlmbG9hdCBMaXRfQSA9IGFjb3MocmVhbG5sKTsNCgkJZmxvYXQgVmlld19BID0gYWNvcyhudik7DQoNCgkJdmVjMyBMaXRfQiA9IG5vcm1hbGl6ZShsIC0gcmVhbG5sICogbik7DQoJCXZlYzMgVmlld19CID0gbm9ybWFsaXplKHYgLSBudiAqIG4pOw0KDQoJCWZsb2F0IHQgPSBtYXgoZG90KExpdF9CLCBWaWV3X0IpLCAwLjApOw0KDQoJCWZsb2F0IGEsIGI7DQoNCgkJaWYgKExpdF9BID4gVmlld19BKSB7DQoJCQlhID0gTGl0X0E7DQoJCQliID0gVmlld19BOw0KCQl9DQoJCWVsc2Ugew0KCQkJYSA9IFZpZXdfQTsNCgkJCWIgPSBMaXRfQTsNCgkJfQ0KDQoJCWZsb2F0IEEgPSAxLjAgLSAoMC41ICogKChyb3VnaCAqIHJvdWdoKSAvICgocm91Z2ggKiByb3VnaCkgKyAwLjMzKSkpOw0KCQlmbG9hdCBCID0gMC40NSAqICgocm91Z2ggKiByb3VnaCkgLyAoKHJvdWdoICogcm91Z2gpICsgMC4wOSkpOw0KDQoJCWIgKj0gMC45NTsNCgkJaXMgPSBubCAqIChBICsgKEIgKiB0ICogc2luKGEpICogdGFuKGIpKSk7DQoJfQ0KfQ0KDQp2b2lkIHNoYWRlX2RpZmZ1c2VfdG9vbih2ZWMzIG4sIHZlYzMgbCwgdmVjMyB2LCBmbG9hdCBzaXplLCBmbG9hdCB0c21vb3RoLCBvdXQgZmxvYXQgaXMpDQp7DQoJZmxvYXQgcnNsdCA9IGRvdChuLCBsKTsNCglmbG9hdCBhbmcgPSBhY29zKHJzbHQpOw0KDQoJaWYgKGFuZyA8IHNpemUpIGlzID0gMS4wOw0KCWVsc2UgaWYgKGFuZyA+IChzaXplICsgdHNtb290aCkgfHwgdHNtb290aCA9PSAwLjApIGlzID0gMC4wOw0KCWVsc2UgaXMgPSAxLjAgLSAoKGFuZyAtIHNpemUpIC8gdHNtb290aCk7DQp9DQoNCnZvaWQgc2hhZGVfZGlmZnVzZV9taW5uYWVydChmbG9hdCBubCwgdmVjMyBuLCB2ZWMzIHYsIGZsb2F0IGRhcmtuZXNzLCBvdXQgZmxvYXQgaXMpDQp7DQoJaWYgKG5sIDw9IDAuMCkgew0KCQlpcyA9IDAuMDsNCgl9DQoJZWxzZSB7DQoJCWZsb2F0IG52ID0gbWF4KGRvdChuLCB2KSwgMC4wKTsNCg0KCQlpZiAoZGFya25lc3MgPD0gMS4wKQ0KCQkJaXMgPSBubCAqIHBvdyhtYXgobnYgKiBubCwgMC4xKSwgZGFya25lc3MgLSAxLjApOw0KCQllbHNlDQoJCQlpcyA9IG5sICogcG93KDEuMDAwMSAtIG52LCBkYXJrbmVzcyAtIDEuMCk7DQoJfQ0KfQ0KDQpmbG9hdCBmcmVzbmVsX2ZhYyh2ZWMzIHZpZXcsIHZlYzMgdm4sIGZsb2F0IGdyYWQsIGZsb2F0IGZhYykNCnsNCglmbG9hdCB0MSwgdDI7DQoJZmxvYXQgZmZhYzsNCg0KCWlmIChmYWMgPT0gMC4wKSB7DQoJCWZmYWMgPSAxLjA7DQoJfQ0KCWVsc2Ugew0KCQl0MSA9IGRvdCh2aWV3LCB2bik7DQoJCWlmICh0MSA+IDAuMCkgdDIgPSAxLjAgKyB0MTsNCgkJZWxzZSB0MiA9IDEuMCAtIHQxOw0KDQoJCXQyID0gZ3JhZCArICgxLjAgLSBncmFkKSAqIHBvdyh0MiwgZmFjKTsNCg0KCQlpZiAodDIgPCAwLjApIGZmYWMgPSAwLjA7DQoJCWVsc2UgaWYgKHQyID4gMS4wKSBmZmFjID0gMS4wOw0KCQllbHNlIGZmYWMgPSB0MjsNCgl9DQoNCglyZXR1cm4gZmZhYzsNCn0NCg0Kdm9pZCBzaGFkZV9kaWZmdXNlX2ZyZXNuZWwodmVjMyB2biwgdmVjMyBsdiwgdmVjMyB2aWV3LCBmbG9hdCBmYWNfaSwgZmxvYXQgZmFjLCBvdXQgZmxvYXQgaXMpDQp7DQoJaXMgPSBmcmVzbmVsX2ZhYyhsdiwgdm4sIGZhY19pLCBmYWMpOw0KfQ0KDQp2b2lkIHNoYWRlX2N1YmljKGZsb2F0IGlzLCBvdXQgZmxvYXQgb3V0aXMpDQp7DQoJaWYgKGlzID4gMC4wICYmIGlzIDwgMS4wKQ0KCQlvdXRpcyA9IHNtb290aHN0ZXAoMC4wLCAxLjAsIGlzKTsNCgllbHNlDQoJCW91dGlzID0gaXM7DQp9DQoNCnZvaWQgc2hhZGVfdmlzaWZhYyhmbG9hdCBpLCBmbG9hdCB2aXNpZmFjLCBmbG9hdCByZWZsLCBvdXQgZmxvYXQgb3V0aSkNCnsNCgkvKmlmIChpID4gMC4wKSovDQoJb3V0aSA9IG1heChpICogdmlzaWZhYyAqIHJlZmwsIDAuMCk7DQoJLyplbHNlDQoJICAgIG91dGkgPSBpOyovDQp9DQoNCnZvaWQgc2hhZGVfdGFuZ2VudF92X3NwZWModmVjMyB0YW5nLCBvdXQgdmVjMyB2bikNCnsNCgl2biA9IHRhbmc7DQp9DQoNCnZvaWQgc2hhZGVfYWRkX3RvX2RpZmZ1c2UoZmxvYXQgaSwgdmVjMyBsYW1wY29sLCB2ZWMzIGNvbCwgb3V0IHZlYzMgb3V0Y29sKQ0Kew0KCWlmIChpID4gMC4wKQ0KCQlvdXRjb2wgPSBpICogbGFtcGNvbCAqIGNvbDsNCgllbHNlDQoJCW91dGNvbCA9IHZlYzMoMC4wLCAwLjAsIDAuMCk7DQp9DQoNCnZvaWQgc2hhZGVfaGVtaV9zcGVjKHZlYzMgdm4sIHZlYzMgbHYsIHZlYzMgdmlldywgZmxvYXQgc3BlYywgZmxvYXQgaGFyZCwgZmxvYXQgdmlzaWZhYywgb3V0IGZsb2F0IHQpDQp7DQoJbHYgKz0gdmlldzsNCglsdiA9IG5vcm1hbGl6ZShsdik7DQoNCgl0ID0gZG90KHZuLCBsdik7DQoJdCA9IDAuNSAqIHQgKyAwLjU7DQoNCgl0ID0gdmlzaWZhYyAqIHNwZWMgKiBwb3codCwgaGFyZCk7DQp9DQoNCnZvaWQgc2hhZGVfcGhvbmdfc3BlYyh2ZWMzIG4sIHZlYzMgbCwgdmVjMyB2LCBmbG9hdCBoYXJkLCBvdXQgZmxvYXQgc3BlY2ZhYykNCnsNCgl2ZWMzIGggPSBub3JtYWxpemUobCArIHYpOw0KCWZsb2F0IHJzbHQgPSBtYXgoZG90KGgsIG4pLCAwLjApOw0KDQoJc3BlY2ZhYyA9IHBvdyhyc2x0LCBoYXJkKTsNCn0NCg0Kdm9pZCBzaGFkZV9jb29rdG9ycl9zcGVjKHZlYzMgbiwgdmVjMyBsLCB2ZWMzIHYsIGZsb2F0IGhhcmQsIG91dCBmbG9hdCBzcGVjZmFjKQ0Kew0KCXZlYzMgaCA9IG5vcm1hbGl6ZSh2ICsgbCk7DQoJZmxvYXQgbmggPSBkb3QobiwgaCk7DQoNCglpZiAobmggPCAwLjApIHsNCgkJc3BlY2ZhYyA9IDAuMDsNCgl9DQoJZWxzZSB7DQoJCWZsb2F0IG52ID0gbWF4KGRvdChuLCB2KSwgMC4wKTsNCgkJZmxvYXQgaSA9IHBvdyhuaCwgaGFyZCk7DQoNCgkJaSA9IGkgLyAoMC4xICsgbnYpOw0KCQlzcGVjZmFjID0gaTsNCgl9DQp9DQoNCnZvaWQgc2hhZGVfYmxpbm5fc3BlYyh2ZWMzIG4sIHZlYzMgbCwgdmVjMyB2LCBmbG9hdCByZWZyYWMsIGZsb2F0IHNwZWNfcG93ZXIsIG91dCBmbG9hdCBzcGVjZmFjKQ0Kew0KCWlmIChyZWZyYWMgPCAxLjApIHsNCgkJc3BlY2ZhYyA9IDAuMDsNCgl9DQoJZWxzZSBpZiAoc3BlY19wb3dlciA9PSAwLjApIHsNCgkJc3BlY2ZhYyA9IDAuMDsNCgl9DQoJZWxzZSB7DQoJCWlmIChzcGVjX3Bvd2VyIDwgMTAwLjApDQoJCQlzcGVjX3Bvd2VyID0gc3FydCgxLjAgLyBzcGVjX3Bvd2VyKTsNCgkJZWxzZQ0KCQkJc3BlY19wb3dlciA9IDEwLjAgLyBzcGVjX3Bvd2VyOw0KDQoJCXZlYzMgaCA9IG5vcm1hbGl6ZSh2ICsgbCk7DQoJCWZsb2F0IG5oID0gZG90KG4sIGgpOw0KCQlpZiAobmggPCAwLjApIHsNCgkJCXNwZWNmYWMgPSAwLjA7DQoJCX0NCgkJZWxzZSB7DQoJCQlmbG9hdCBudiA9IG1heChkb3QobiwgdiksIDAuMDEpOw0KCQkJZmxvYXQgbmwgPSBkb3QobiwgbCk7DQoJCQlpZiAobmwgPD0gMC4wMSkgew0KCQkJCXNwZWNmYWMgPSAwLjA7DQoJCQl9DQoJCQllbHNlIHsNCgkJCQlmbG9hdCB2aCA9IG1heChkb3QodiwgaCksIDAuMDEpOw0KDQoJCQkJZmxvYXQgYSA9IDEuMDsNCgkJCQlmbG9hdCBiID0gKDIuMCAqIG5oICogbnYpIC8gdmg7DQoJCQkJZmxvYXQgYyA9ICgyLjAgKiBuaCAqIG5sKSAvIHZoOw0KDQoJCQkJZmxvYXQgZyA9IDAuMDsNCg0KCQkJCWlmIChhIDwgYiAmJiBhIDwgYykgZyA9IGE7DQoJCQkJZWxzZSBpZiAoYiA8IGEgJiYgYiA8IGMpIGcgPSBiOw0KCQkJCWVsc2UgaWYgKGMgPCBhICYmIGMgPCBiKSBnID0gYzsNCg0KCQkJCWZsb2F0IHAgPSBzcXJ0KCgocmVmcmFjICogcmVmcmFjKSArICh2aCAqIHZoKSAtIDEuMCkpOw0KCQkJCWZsb2F0IGYgPSAoKCgocCAtIHZoKSAqIChwIC0gdmgpKSAvICgocCArIHZoKSAqIChwICsgdmgpKSkgKg0KCQkJCSAgICAgICAgICAgKDEuMCArICgoKCh2aCAqIChwICsgdmgpKSAtIDEuMCkgKiAoKHZoICogKHAgKyB2aCkpIC0gMS4wKSkgLw0KCQkJCSAgICAgICAgICAgICAgICAgICAoKCh2aCAqIChwIC0gdmgpKSArIDEuMCkgKiAoKHZoICogKHAgLSB2aCkpICsgMS4wKSkpKSk7DQoJCQkJZmxvYXQgYW5nID0gYWNvcyhuaCk7DQoNCgkJCQlzcGVjZmFjID0gbWF4KGYgKiBnICogZXhwX2JsZW5kZXIoKC0oYW5nICogYW5nKSAvICgyLjAgKiBzcGVjX3Bvd2VyICogc3BlY19wb3dlcikpKSwgMC4wKTsNCgkJCX0NCgkJfQ0KCX0NCn0NCg0Kdm9pZCBzaGFkZV93YXJkaXNvX3NwZWModmVjMyBuLCB2ZWMzIGwsIHZlYzMgdiwgZmxvYXQgcm1zLCBvdXQgZmxvYXQgc3BlY2ZhYykNCnsNCgl2ZWMzIGggPSBub3JtYWxpemUobCArIHYpOw0KCWZsb2F0IG5oID0gbWF4KGRvdChuLCBoKSwgMC4wMDEpOw0KCWZsb2F0IG52ID0gbWF4KGRvdChuLCB2KSwgMC4wMDEpOw0KCWZsb2F0IG5sID0gbWF4KGRvdChuLCBsKSwgMC4wMDEpOw0KCWZsb2F0IGFuZ2xlID0gdGFuKGFjb3MobmgpKTsNCglmbG9hdCBhbHBoYSA9IG1heChybXMsIDAuMDAxKTsNCg0KCXNwZWNmYWMgPSBubCAqICgxLjAgLyAoNC4wICogTV9QSSAqIGFscGhhICogYWxwaGEpKSAqIChleHBfYmxlbmRlcigtKGFuZ2xlICogYW5nbGUpIC8gKGFscGhhICogYWxwaGEpKSAvIChzcXJ0KG52ICogbmwpKSk7DQp9DQoNCnZvaWQgc2hhZGVfdG9vbl9zcGVjKHZlYzMgbiwgdmVjMyBsLCB2ZWMzIHYsIGZsb2F0IHNpemUsIGZsb2F0IHRzbW9vdGgsIG91dCBmbG9hdCBzcGVjZmFjKQ0Kew0KCXZlYzMgaCA9IG5vcm1hbGl6ZShsICsgdik7DQoJZmxvYXQgcnNsdCA9IGRvdChoLCBuKTsNCglmbG9hdCBhbmcgPSBhY29zKHJzbHQpOw0KDQoJaWYgKGFuZyA8IHNpemUpIHJzbHQgPSAxLjA7DQoJZWxzZSBpZiAoYW5nID49IChzaXplICsgdHNtb290aCkgfHwgdHNtb290aCA9PSAwLjApIHJzbHQgPSAwLjA7DQoJZWxzZSByc2x0ID0gMS4wIC0gKChhbmcgLSBzaXplKSAvIHRzbW9vdGgpOw0KDQoJc3BlY2ZhYyA9IHJzbHQ7DQp9DQoNCnZvaWQgc2hhZGVfc3BlY19hcmVhX2lucChmbG9hdCBzcGVjZmFjLCBmbG9hdCBpbnAsIG91dCBmbG9hdCBvdXRzcGVjZmFjKQ0Kew0KCW91dHNwZWNmYWMgPSBzcGVjZmFjICogaW5wOw0KfQ0KDQp2b2lkIHNoYWRlX3NwZWNfdChmbG9hdCBzaGFkZmFjLCBmbG9hdCBzcGVjLCBmbG9hdCB2aXNpZmFjLCBmbG9hdCBzcGVjZmFjLCBvdXQgZmxvYXQgdCkNCnsNCgl0ID0gc2hhZGZhYyAqIHNwZWMgKiB2aXNpZmFjICogc3BlY2ZhYzsNCn0NCg0Kdm9pZCBzaGFkZV9hZGRfc3BlYyhmbG9hdCB0LCB2ZWMzIGxhbXBjb2wsIHZlYzMgc3BlY2NvbCwgb3V0IHZlYzMgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IHQgKiBsYW1wY29sICogc3BlY2NvbDsNCn0NCg0Kdm9pZCBzaGFkZV9hZGRfbWlycm9yKHZlYzMgbWlyLCB2ZWM0IHJlZmNvbCwgdmVjMyBjb21iaW5lZCwgb3V0IHZlYzMgcmVzdWx0KQ0Kew0KCXJlc3VsdCA9IG1pciAqIHJlZmNvbC5nYmEgKyAodmVjMygxLjApIC0gbWlyICogcmVmY29sLnJycikgKiBjb21iaW5lZDsNCn0NCg0Kdm9pZCBhbHBoYV9zcGVjX2NvcnJlY3Rpb24odmVjMyBzcGVjLCBmbG9hdCBzcGVjdHJhLCBmbG9hdCBhbHBoYSwgb3V0IGZsb2F0IG91dGFscGhhKQ0Kew0KCWlmIChzcGVjdHJhID4gMC4wKSB7DQoJCWZsb2F0IHQgPSBjbGFtcChtYXgobWF4KHNwZWMuciwgc3BlYy5nKSwgc3BlYy5iKSAqIHNwZWN0cmEsIDAuMCwgMS4wKTsNCgkJb3V0YWxwaGEgPSAoMS4wIC0gdCkgKiBhbHBoYSArIHQ7DQoJfQ0KCWVsc2Ugew0KCQlvdXRhbHBoYSA9IGFscGhhOw0KCX0NCn0NCg0Kdm9pZCBzaGFkZV9hZGQodmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglvdXRjb2wgPSBjb2wxICsgY29sMjsNCn0NCg0Kdm9pZCBzaGFkZV9tYWRkKHZlYzQgY29sLCB2ZWM0IGNvbDEsIHZlYzQgY29sMiwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IGNvbCArIGNvbDEgKiBjb2wyOw0KfQ0KDQp2b2lkIHNoYWRlX2FkZF9jbGFtcGVkKHZlYzQgY29sMSwgdmVjNCBjb2wyLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJb3V0Y29sID0gY29sMSArIG1heChjb2wyLCB2ZWM0KDAuMCwgMC4wLCAwLjAsIDAuMCkpOw0KfQ0KDQp2b2lkIHNoYWRlX21hZGRfY2xhbXBlZCh2ZWM0IGNvbCwgdmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglvdXRjb2wgPSBjb2wgKyBtYXgoY29sMSAqIGNvbDIsIHZlYzQoMC4wLCAwLjAsIDAuMCwgMC4wKSk7DQp9DQoNCnZvaWQgZW52X2FwcGx5KHZlYzQgY29sLCB2ZWMzIGhvciwgdmVjMyB6ZW4sIHZlYzQgZiwgbWF0NCB2bSwgdmVjMyB2biwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCXZlYzMgdnYgPSBub3JtYWxpemUodm1bMl0ueHl6KTsNCglmbG9hdCBza3lmYWMgPSAwLjUgKiAoMS4wICsgZG90KHZuLCAtdnYpKTsNCglvdXRjb2wgPSBjb2wgKyBmICogdmVjNChtaXgoaG9yLCB6ZW4sIHNreWZhYyksIDApOw0KfQ0KDQp2b2lkIHNoYWRlX21hZGRmKHZlYzQgY29sLCBmbG9hdCBmLCB2ZWM0IGNvbDEsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglvdXRjb2wgPSBjb2wgKyBmICogY29sMTsNCn0NCg0Kdm9pZCBzaGFkZV9tdWwodmVjNCBjb2wxLCB2ZWM0IGNvbDIsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglvdXRjb2wgPSBjb2wxICogY29sMjsNCn0NCg0Kdm9pZCBzaGFkZV9tdWxfdmFsdWUoZmxvYXQgZmFjLCB2ZWM0IGNvbCwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IGNvbCAqIGZhYzsNCn0NCg0Kdm9pZCBzaGFkZV9tdWxfdmFsdWVfdjMoZmxvYXQgZmFjLCB2ZWMzIGNvbCwgb3V0IHZlYzMgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IGNvbCAqIGZhYzsNCn0NCg0Kdm9pZCBzaGFkZV9vYmNvbG9yKHZlYzQgY29sLCB2ZWM0IG9iY29sLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJb3V0Y29sID0gdmVjNChjb2wucmdiICogb2Jjb2wucmdiLCBjb2wuYSk7DQp9DQoNCnZvaWQgcmFtcF9yZ2J0b2J3KHZlYzMgY29sb3IsIG91dCBmbG9hdCBvdXR2YWwpDQp7DQoJb3V0dmFsID0gY29sb3IuciAqIDAuMyArIGNvbG9yLmcgKiAwLjU4ICsgY29sb3IuYiAqIDAuMTI7DQp9DQoNCnZvaWQgc2hhZGVfb25seV9zaGFkb3coZmxvYXQgaSwgZmxvYXQgc2hhZGZhYywgZmxvYXQgZW5lcmd5LCB2ZWMzIHNoYWRjb2wsIG91dCB2ZWMzIG91dHNoYWRyZ2IpDQp7DQoJb3V0c2hhZHJnYiA9IGkgKiBlbmVyZ3kgKiAoMS4wIC0gc2hhZGZhYykgKiAodmVjMygxLjApIC0gc2hhZGNvbCk7DQp9DQoNCnZvaWQgc2hhZGVfb25seV9zaGFkb3dfZGlmZnVzZSh2ZWMzIHNoYWRyZ2IsIHZlYzMgcmdiLCB2ZWM0IGRpZmYsIG91dCB2ZWM0IG91dGRpZmYpDQp7DQoJb3V0ZGlmZiA9IGRpZmYgLSB2ZWM0KHJnYiAqIHNoYWRyZ2IsIDAuMCk7DQp9DQoNCnZvaWQgc2hhZGVfb25seV9zaGFkb3dfc3BlY3VsYXIodmVjMyBzaGFkcmdiLCB2ZWMzIHNwZWNyZ2IsIHZlYzQgc3BlYywgb3V0IHZlYzQgb3V0c3BlYykNCnsNCglvdXRzcGVjID0gc3BlYyAtIHZlYzQoc3BlY3JnYiAqIHNoYWRyZ2IsIDAuMCk7DQp9DQoNCnZvaWQgc2hhZGVfY2xhbXBfcG9zaXRpdmUodmVjNCBjb2wsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglvdXRjb2wgPSBtYXgoY29sLCB2ZWM0KDAuMCkpOw0KfQ0KDQp2b2lkIHRlc3Rfc2hhZG93YnVmKA0KICAgICAgICB2ZWMzIHJjbywgc2FtcGxlcjJEIHNoYWRvd21hcCwgbWF0NCBzaGFkb3dwZXJzbWF0LCBmbG9hdCBzaGFkb3diaWFzLCBmbG9hdCBpbnAsDQogICAgICAgIG91dCBmbG9hdCByZXN1bHQpDQp7DQoJaWYgKGlucCA8PSAwLjApIHsNCgkJcmVzdWx0ID0gMC4wOw0KCX0NCgllbHNlIHsNCgkJdmVjNCBjbyA9IHNoYWRvd3BlcnNtYXQgKiB2ZWM0KHJjbywgMS4wKTsNCg0KCQkvL2Zsb2F0IGJpYXMgPSAoMS41IC0gaW5wKmlucCkqc2hhZG93YmlhczsNCgkJY28ueiAtPSBzaGFkb3diaWFzICogY28udzsNCg0KCQlpZiAoY28udyA+IDAuMCAmJiBjby54ID4gMC4wICYmIGNvLnggLyBjby53IDwgMS4wICYmIGNvLnkgPiAwLjAgJiYgY28ueSAvIGNvLncgPCAxLjApDQoJCQlyZXN1bHQgPSB0ZXh0dXJlMkRQcm9qKHNoYWRvd21hcCwgY28pLng7DQoJCWVsc2UNCgkJCXJlc3VsdCA9IDEuMDsNCgl9DQp9DQoNCnZvaWQgdGVzdF9zaGFkb3didWZfdnNtKA0KICAgICAgICB2ZWMzIHJjbywgc2FtcGxlcjJEIHNoYWRvd21hcCwgbWF0NCBzaGFkb3dwZXJzbWF0LCBmbG9hdCBzaGFkb3diaWFzLCBmbG9hdCBibGVlZGJpYXMsIGZsb2F0IGlucCwNCiAgICAgICAgb3V0IGZsb2F0IHJlc3VsdCkNCnsNCglpZiAoaW5wIDw9IDAuMCkgew0KCQlyZXN1bHQgPSAwLjA7DQoJfQ0KCWVsc2Ugew0KCQl2ZWM0IGNvID0gc2hhZG93cGVyc21hdCAqIHZlYzQocmNvLCAxLjApOw0KCQlpZiAoY28udyA+IDAuMCAmJiBjby54ID4gMC4wICYmIGNvLnggLyBjby53IDwgMS4wICYmIGNvLnkgPiAwLjAgJiYgY28ueSAvIGNvLncgPCAxLjApIHsNCgkJCXZlYzIgbW9tZW50cyA9IHRleHR1cmUyRFByb2ooc2hhZG93bWFwLCBjbykucmc7DQoJCQlmbG9hdCBkaXN0ID0gY28ueiAvIGNvLnc7DQoJCQlmbG9hdCBwID0gMC4wOw0KDQoJCQlpZiAoZGlzdCA8PSBtb21lbnRzLngpDQoJCQkJcCA9IDEuMDsNCg0KCQkJZmxvYXQgdmFyaWFuY2UgPSBtb21lbnRzLnkgLSAobW9tZW50cy54ICogbW9tZW50cy54KTsNCgkJCXZhcmlhbmNlID0gbWF4KHZhcmlhbmNlLCBzaGFkb3diaWFzIC8gMTAuMCk7DQoNCgkJCWZsb2F0IGQgPSBtb21lbnRzLnggLSBkaXN0Ow0KCQkJZmxvYXQgcF9tYXggPSB2YXJpYW5jZSAvICh2YXJpYW5jZSArIGQgKiBkKTsNCg0KCQkJLy8gTm93IHJlZHVjZSBsaWdodC1ibGVlZGluZyBieSByZW1vdmluZyB0aGUgWzAsIHhdIHRhaWwgYW5kIGxpbmVhcmx5IHJlc2NhbGluZyAoeCwgMV0NCgkJCXBfbWF4ID0gY2xhbXAoKHBfbWF4IC0gYmxlZWRiaWFzKSAvICgxLjAgLSBibGVlZGJpYXMpLCAwLjAsIDEuMCk7DQoNCgkJCXJlc3VsdCA9IG1heChwLCBwX21heCk7DQoJCX0NCgkJZWxzZSB7DQoJCQlyZXN1bHQgPSAxLjA7DQoJCX0NCgl9DQp9DQoNCnZvaWQgc2hhZG93c19vbmx5KA0KICAgICAgICB2ZWMzIHJjbywgc2FtcGxlcjJEIHNoYWRvd21hcCwgbWF0NCBzaGFkb3dwZXJzbWF0LA0KICAgICAgICBmbG9hdCBzaGFkb3diaWFzLCB2ZWMzIHNoYWRvd2NvbG9yLCBmbG9hdCBpbnAsDQogICAgICAgIG91dCB2ZWMzIHJlc3VsdCkNCnsNCglyZXN1bHQgPSB2ZWMzKDEuMCk7DQoNCglpZiAoaW5wID4gMC4wKSB7DQoJCWZsb2F0IHNoYWRmYWM7DQoNCgkJdGVzdF9zaGFkb3didWYocmNvLCBzaGFkb3dtYXAsIHNoYWRvd3BlcnNtYXQsIHNoYWRvd2JpYXMsIGlucCwgc2hhZGZhYyk7DQoJCXJlc3VsdCAtPSAoMS4wIC0gc2hhZGZhYykgKiAodmVjMygxLjApIC0gc2hhZG93Y29sb3IpOw0KCX0NCn0NCg0Kdm9pZCBzaGFkb3dzX29ubHlfdnNtKA0KICAgICAgICB2ZWMzIHJjbywgc2FtcGxlcjJEIHNoYWRvd21hcCwgbWF0NCBzaGFkb3dwZXJzbWF0LA0KICAgICAgICBmbG9hdCBzaGFkb3diaWFzLCBmbG9hdCBibGVlZGJpYXMsIHZlYzMgc2hhZG93Y29sb3IsIGZsb2F0IGlucCwNCiAgICAgICAgb3V0IHZlYzMgcmVzdWx0KQ0Kew0KCXJlc3VsdCA9IHZlYzMoMS4wKTsNCg0KCWlmIChpbnAgPiAwLjApIHsNCgkJZmxvYXQgc2hhZGZhYzsNCg0KCQl0ZXN0X3NoYWRvd2J1Zl92c20ocmNvLCBzaGFkb3dtYXAsIHNoYWRvd3BlcnNtYXQsIHNoYWRvd2JpYXMsIGJsZWVkYmlhcywgaW5wLCBzaGFkZmFjKTsNCgkJcmVzdWx0IC09ICgxLjAgLSBzaGFkZmFjKSAqICh2ZWMzKDEuMCkgLSBzaGFkb3djb2xvcik7DQoJfQ0KfQ0KDQp2b2lkIHNoYWRlX2xpZ2h0X3RleHR1cmUodmVjMyByY28sIHNhbXBsZXIyRCBjb29raWUsIG1hdDQgc2hhZG93cGVyc21hdCwgb3V0IHZlYzQgcmVzdWx0KQ0Kew0KDQoJdmVjNCBjbyA9IHNoYWRvd3BlcnNtYXQgKiB2ZWM0KHJjbywgMS4wKTsNCg0KCXJlc3VsdCA9IHRleHR1cmUyRFByb2ooY29va2llLCBjbyk7DQp9DQoNCnZvaWQgc2hhZGVfZXhwb3N1cmVfY29ycmVjdCh2ZWMzIGNvbCwgZmxvYXQgbGluZmFjLCBmbG9hdCBsb2dmYWMsIG91dCB2ZWMzIG91dGNvbCkNCnsNCglvdXRjb2wgPSBsaW5mYWMgKiAoMS4wIC0gZXhwKGNvbCAqIGxvZ2ZhYykpOw0KfQ0KDQp2b2lkIHNoYWRlX21pc3RfZmFjdG9yKA0KICAgICAgICB2ZWMzIGNvLCBmbG9hdCBlbmFibGUsIGZsb2F0IG1pc3RzdGEsIGZsb2F0IG1pc3RkaXN0LCBmbG9hdCBtaXN0dHlwZSwgZmxvYXQgbWlzaSwNCiAgICAgICAgb3V0IGZsb2F0IG91dGZhYykNCnsNCglpZiAoZW5hYmxlID09IDEuMCkgew0KCQlmbG9hdCBmYWMsIHpjb3I7DQoNCgkJemNvciA9IChibF9Qcm9qZWN0aW9uTWF0cml4WzNdWzNdID09IDAuMCkgPyBsZW5ndGgoY28pIDogLWNvWzJdOw0KDQoJCWZhYyA9IGNsYW1wKCh6Y29yIC0gbWlzdHN0YSkgLyBtaXN0ZGlzdCwgMC4wLCAxLjApOw0KCQlpZiAobWlzdHR5cGUgPT0gMC4wKSBmYWMgKj0gZmFjOw0KCQllbHNlIGlmIChtaXN0dHlwZSA9PSAxLjApIDsNCgkJZWxzZSBmYWMgPSBzcXJ0KGZhYyk7DQoNCgkJb3V0ZmFjID0gMS4wIC0gKDEuMCAtIGZhYykgKiAoMS4wIC0gbWlzaSk7DQoJfQ0KCWVsc2Ugew0KCQlvdXRmYWMgPSAwLjA7DQoJfQ0KfQ0KDQp2b2lkIHNoYWRlX3dvcmxkX21peCh2ZWMzIGhvciwgdmVjNCBjb2wsIG91dCB2ZWM0IG91dGNvbCkNCnsNCglmbG9hdCBmYWMgPSBjbGFtcChjb2wuYSwgMC4wLCAxLjApOw0KCW91dGNvbCA9IHZlYzQobWl4KGhvciwgY29sLnJnYiwgZmFjKSwgY29sLmEpOw0KfQ0KDQp2b2lkIHNoYWRlX2FscGhhX29wYXF1ZSh2ZWM0IGNvbCwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IHZlYzQoY29sLnJnYiwgMS4wKTsNCn0NCg0Kdm9pZCBzaGFkZV9hbHBoYV9vYmNvbG9yKHZlYzQgY29sLCB2ZWM0IG9iY29sLCBvdXQgdmVjNCBvdXRjb2wpDQp7DQoJb3V0Y29sID0gdmVjNChjb2wucmdiLCBjb2wuYSAqIG9iY29sLmEpOw0KfQ0KDQovKioqKioqKioqKiogTkVXIFNIQURFUiBVVElMSVRJRVMgKioqKioqKioqKioqKiovDQoNCmZsb2F0IGZyZXNuZWxfZGllbGVjdHJpY18wKGZsb2F0IGV0YSkNCnsNCgkvKiBjb21wdXRlIGZyZXNuZWwgcmVmbGFjdGFuY2UgYXQgbm9ybWFsIGluY2lkZW5jZSA9PiBjb3NpID0gMS4wICovDQoJZmxvYXQgQSA9IChldGEgLSAxLjApIC8gKGV0YSArIDEuMCk7DQoNCglyZXR1cm4gQSAqIEE7DQp9DQoNCmZsb2F0IGZyZXNuZWxfZGllbGVjdHJpY19jb3MoZmxvYXQgY29zaSwgZmxvYXQgZXRhKQ0Kew0KCS8qIGNvbXB1dGUgZnJlc25lbCByZWZsZWN0YW5jZSB3aXRob3V0IGV4cGxpY2l0bHkgY29tcHV0aW5nDQoJICogdGhlIHJlZnJhY3RlZCBkaXJlY3Rpb24gKi8NCglmbG9hdCBjID0gYWJzKGNvc2kpOw0KCWZsb2F0IGcgPSBldGEgKiBldGEgLSAxLjAgKyBjICogYzsNCglmbG9hdCByZXN1bHQ7DQoNCglpZiAoZyA+IDAuMCkgew0KCQlnID0gc3FydChnKTsNCgkJZmxvYXQgQSA9IChnIC0gYykgLyAoZyArIGMpOw0KCQlmbG9hdCBCID0gKGMgKiAoZyArIGMpIC0gMS4wKSAvIChjICogKGcgLSBjKSArIDEuMCk7DQoJCXJlc3VsdCA9IDAuNSAqIEEgKiBBICogKDEuMCArIEIgKiBCKTsNCgl9DQoJZWxzZSB7DQoJCXJlc3VsdCA9IDEuMDsgIC8qIFRJUiAobm8gcmVmcmFjdGVkIGNvbXBvbmVudCkgKi8NCgl9DQoNCglyZXR1cm4gcmVzdWx0Ow0KfQ0KDQpmbG9hdCBmcmVzbmVsX2RpZWxlY3RyaWModmVjMyBJbmNvbWluZywgdmVjMyBOb3JtYWwsIGZsb2F0IGV0YSkNCnsNCgkvKiBjb21wdXRlIGZyZXNuZWwgcmVmbGVjdGFuY2Ugd2l0aG91dCBleHBsaWNpdGx5IGNvbXB1dGluZw0KCSAqIHRoZSByZWZyYWN0ZWQgZGlyZWN0aW9uICovDQoJcmV0dXJuIGZyZXNuZWxfZGllbGVjdHJpY19jb3MoZG90KEluY29taW5nLCBOb3JtYWwpLCBldGEpOw0KfQ0KDQpmbG9hdCBoeXBvdChmbG9hdCB4LCBmbG9hdCB5KQ0Kew0KCXJldHVybiBzcXJ0KHggKiB4ICsgeSAqIHkpOw0KfQ0KDQp2b2lkIGdlbmVyYXRlZF9mcm9tX29yY28odmVjMyBvcmNvLCBvdXQgdmVjMyBnZW5lcmF0ZWQpDQp7DQoJZ2VuZXJhdGVkID0gb3JjbyAqIDAuNSArIHZlYzMoMC41KTsNCn0NCg0KaW50IGZsb29yX3RvX2ludChmbG9hdCB4KQ0Kew0KCXJldHVybiBpbnQoZmxvb3IoeCkpOw0KfQ0KDQppbnQgcXVpY2tfZmxvb3IoZmxvYXQgeCkNCnsNCglyZXR1cm4gaW50KHgpIC0gKCh4IDwgMCkgPyAxIDogMCk7DQp9DQoNCiNpZmRlZiBCSVRfT1BFUkFUSU9OUw0KZmxvYXQgaW50ZWdlcl9ub2lzZShpbnQgbikNCnsNCglpbnQgbm47DQoJbiA9IChuICsgMTAxMykgJiAweDdmZmZmZmZmOw0KCW4gPSAobiA+PiAxMykgXiBuOw0KCW5uID0gKG4gKiAobiAqIG4gKiA2MDQ5MyArIDE5OTkwMzAzKSArIDEzNzYzMTI1ODkpICYgMHg3ZmZmZmZmZjsNCglyZXR1cm4gMC41ICogKGZsb2F0KG5uKSAvIDEwNzM3NDE4MjQuMCk7DQp9DQoNCnVpbnQgaGFzaCh1aW50IGt4LCB1aW50IGt5LCB1aW50IGt6KQ0Kew0KI2RlZmluZSByb3QoeCwgaykgKCgoeCkgPDwgKGspKSB8ICgoeCkgPj4gKDMyIC0gKGspKSkpDQojZGVmaW5lIGZpbmFsKGEsIGIsIGMpIFwNCnsgXA0KCWMgXj0gYjsgYyAtPSByb3QoYiwgMTQpOyBcDQoJYSBePSBjOyBhIC09IHJvdChjLCAxMSk7IFwNCgliIF49IGE7IGIgLT0gcm90KGEsIDI1KTsgXA0KCWMgXj0gYjsgYyAtPSByb3QoYiwgMTYpOyBcDQoJYSBePSBjOyBhIC09IHJvdChjLCA0KTsgIFwNCgliIF49IGE7IGIgLT0gcm90KGEsIDE0KTsgXA0KCWMgXj0gYjsgYyAtPSByb3QoYiwgMjQpOyBcDQp9DQoJLy8gbm93IGhhc2ggdGhlIGRhdGEhDQoJdWludCBhLCBiLCBjLCBsZW4gPSAzdTsNCglhID0gYiA9IGMgPSAweGRlYWRiZWVmdSArIChsZW4gPDwgMnUpICsgMTN1Ow0KDQoJYyArPSBrejsNCgliICs9IGt5Ow0KCWEgKz0ga3g7DQoJZmluYWwgKGEsIGIsIGMpOw0KDQoJcmV0dXJuIGM7DQojdW5kZWYgcm90DQojdW5kZWYgZmluYWwNCn0NCg0KdWludCBoYXNoKGludCBreCwgaW50IGt5LCBpbnQga3opDQp7DQoJcmV0dXJuIGhhc2godWludChreCksIHVpbnQoa3kpLCB1aW50KGt6KSk7DQp9DQoNCmZsb2F0IGJpdHNfdG9fMDEodWludCBiaXRzKQ0Kew0KCWZsb2F0IHggPSBmbG9hdChiaXRzKSAqICgxLjAgLyBmbG9hdCgweGZmZmZmZmZmdSkpOw0KCXJldHVybiB4Ow0KfQ0KDQpmbG9hdCBjZWxsbm9pc2UodmVjMyBwKQ0Kew0KCWludCBpeCA9IHF1aWNrX2Zsb29yKHAueCk7DQoJaW50IGl5ID0gcXVpY2tfZmxvb3IocC55KTsNCglpbnQgaXogPSBxdWlja19mbG9vcihwLnopOw0KDQoJcmV0dXJuIGJpdHNfdG9fMDEoaGFzaCh1aW50KGl4KSwgdWludChpeSksIHVpbnQoaXopKSk7DQp9DQoNCnZlYzMgY2VsbG5vaXNlX2NvbG9yKHZlYzMgcCkNCnsNCglmbG9hdCByID0gY2VsbG5vaXNlKHApOw0KCWZsb2F0IGcgPSBjZWxsbm9pc2UodmVjMyhwLnksIHAueCwgcC56KSk7DQoJZmxvYXQgYiA9IGNlbGxub2lzZSh2ZWMzKHAueSwgcC56LCBwLngpKTsNCg0KCXJldHVybiB2ZWMzKHIsIGcsIGIpOw0KfQ0KI2VuZGlmICAvLyBCSVRfT1BFUkFUSU9OUw0KDQpmbG9hdCBmbG9vcmZyYWMoZmxvYXQgeCwgb3V0IGludCBpKQ0Kew0KCWkgPSBmbG9vcl90b19pbnQoeCk7DQoJcmV0dXJuIHggLSBpOw0KfQ0KDQoNCi8qIFByaW5jaXBsZWQgQlNERiBvcGVyYXRpb25zICovDQoNCmZsb2F0IHNxcihmbG9hdCBhKQ0Kew0KCXJldHVybiBhKmE7DQp9DQoNCmZsb2F0IHNjaGxpY2tfZnJlc25lbChmbG9hdCB1KQ0Kew0KCWZsb2F0IG0gPSBjbGFtcCgxLjAgLSB1LCAwLjAsIDEuMCk7DQoJZmxvYXQgbTIgPSBtICogbTsNCglyZXR1cm4gbTIgKiBtMiAqIG07IC8vIHBvdyhtLDUpDQp9DQoNCmZsb2F0IEdUUjEoZmxvYXQgTmRvdEgsIGZsb2F0IGEpDQp7DQoJaWYgKGEgPj0gMS4wKSByZXR1cm4gTV8xX1BJOw0KCWZsb2F0IGEyID0gYSphOw0KCWZsb2F0IHQgPSAxLjAgKyAoYTIgLSAxLjApICogTmRvdEgqTmRvdEg7DQoJcmV0dXJuIChhMiAtIDEuMCkgLyAoTV9QSSAqIGxvZyhhMikgKiB0KTsNCn0NCg0KZmxvYXQgR1RSMihmbG9hdCBOZG90SCwgZmxvYXQgYSkNCnsNCglmbG9hdCBhMiA9IGEqYTsNCglmbG9hdCB0ID0gMS4wICsgKGEyIC0gMS4wKSAqIE5kb3RIKk5kb3RIOw0KCXJldHVybiBhMiAvIChNX1BJICogdCp0KTsNCn0NCg0KZmxvYXQgR1RSMl9hbmlzbyhmbG9hdCBOZG90SCwgZmxvYXQgSGRvdFgsIGZsb2F0IEhkb3RZLCBmbG9hdCBheCwgZmxvYXQgYXkpDQp7DQoJcmV0dXJuIDEuMCAvIChNX1BJICogYXgqYXkgKiBzcXIoc3FyKEhkb3RYIC8gYXgpICsgc3FyKEhkb3RZIC8gYXkpICsgTmRvdEgqTmRvdEgpKTsNCn0NCg0KZmxvYXQgc21pdGhHX0dHWChmbG9hdCBOZG90ViwgZmxvYXQgYWxwaGFHKQ0Kew0KCWZsb2F0IGEgPSBhbHBoYUcqYWxwaGFHOw0KCWZsb2F0IGIgPSBOZG90VipOZG90VjsNCglyZXR1cm4gMS4wIC8gKE5kb3RWICsgc3FydChhICsgYiAtIGEgKiBiKSk7DQp9DQoNCnZlYzMgcm90YXRlX3ZlY3Rvcih2ZWMzIHAsIHZlYzMgbiwgZmxvYXQgdGhldGEpIHsNCglyZXR1cm4gKA0KCSAgICAgICAgICAgcCAqIGNvcyh0aGV0YSkgKyBjcm9zcyhuLCBwKSAqDQoJICAgICAgICAgICBzaW4odGhldGEpICsgbiAqIGRvdChwLCBuKSAqDQoJICAgICAgICAgICAoMS4wIC0gY29zKHRoZXRhKSkNCgkgICAgICAgKTsNCn0NCg0KDQovKioqKioqKioqKiogTkVXIFNIQURFUiBOT0RFUyAqKioqKioqKioqKioqKiovDQoNCiNkZWZpbmUgTlVNX0xJR0hUUyAzDQoNCi8qIGJzZGZzICovDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCnZvaWQgbm9kZV9hbWJpZW50X29jY2x1c2lvbih2ZWM0IGNvbG9yLCBvdXQgdmVjNCByZXN1bHQpDQp7DQoJcmVzdWx0ID0gY29sb3I7DQp9DQoNCi8qIGVtaXNzaW9uICovDQoNCnZvaWQgbm9kZV9lbWlzc2lvbih2ZWM0IGNvbG9yLCBmbG9hdCBzdHJlbmd0aCwgdmVjMyBOLCBvdXQgdmVjNCByZXN1bHQpDQp7DQoJcmVzdWx0ID0gY29sb3IgKiBzdHJlbmd0aDsNCn0NCg0KLyogYmFja2dyb3VuZCAqLw0KDQp2b2lkIGJhY2tncm91bmRfdHJhbnNmb3JtX3RvX3dvcmxkKHZlYzMgdmlld3ZlYywgb3V0IHZlYzMgd29ybGR2ZWMpDQp7DQoJdmVjNCB2ID0gKGJsX1Byb2plY3Rpb25NYXRyaXhbM11bM10gPT0gMC4wKSA/IHZlYzQodmlld3ZlYywgMS4wKSA6IHZlYzQoMC4wLCAwLjAsIDEuMCwgMS4wKTsNCgl2ZWM0IGNvX2hvbW9nZW5vdXMgPSAoYmxfUHJvamVjdGlvbk1hdHJpeEludmVyc2UgKiB2KTsNCg0KCXZlYzQgY28gPSB2ZWM0KGNvX2hvbW9nZW5vdXMueHl6IC8gY29faG9tb2dlbm91cy53LCAwLjApOw0KCXdvcmxkdmVjID0gKGJsX01vZGVsVmlld01hdHJpeEludmVyc2UgKiBjbykueHl6Ow0KfQ0KDQp2b2lkIG5vZGVfYmFja2dyb3VuZCh2ZWM0IGNvbG9yLCBmbG9hdCBzdHJlbmd0aCwgdmVjMyBOLCBvdXQgdmVjNCByZXN1bHQpDQp7DQoJcmVzdWx0ID0gY29sb3IgKiBzdHJlbmd0aDsNCn0NCg0KLyogY2xvc3VyZXMgKi8NCg0Kdm9pZCBub2RlX21peF9zaGFkZXIoZmxvYXQgZmFjLCB2ZWM0IHNoYWRlcjEsIHZlYzQgc2hhZGVyMiwgb3V0IHZlYzQgc2hhZGVyKQ0Kew0KCXNoYWRlciA9IG1peChzaGFkZXIxLCBzaGFkZXIyLCBmYWMpOw0KfQ0KDQp2b2lkIG5vZGVfYWRkX3NoYWRlcih2ZWM0IHNoYWRlcjEsIHZlYzQgc2hhZGVyMiwgb3V0IHZlYzQgc2hhZGVyKQ0Kew0KCXNoYWRlciA9IHNoYWRlcjEgKyBzaGFkZXIyOw0KfQ0KDQovKiBmcmVzbmVsICovDQoNCnZvaWQgbm9kZV9mcmVzbmVsKGZsb2F0IGlvciwgdmVjMyBOLCB2ZWMzIEksIG91dCBmbG9hdCByZXN1bHQpDQp7DQoJLyogaGFuZGxlIHBlcnNwZWN0aXZlL29ydGhvZ3JhcGhpYyAqLw0KCXZlYzMgSV92aWV3ID0gKGJsX1Byb2plY3Rpb25NYXRyaXhbM11bM10gPT0gMC4wKSA/IG5vcm1hbGl6ZShJKSA6IHZlYzMoMC4wLCAwLjAsIC0xLjApOw0KDQoJZmxvYXQgZXRhID0gbWF4KGlvciwgMC4wMDAwMSk7DQoJcmVzdWx0ID0gZnJlc25lbF9kaWVsZWN0cmljKElfdmlldywgTiwgKGdsX0Zyb250RmFjaW5nKSA/IGV0YSA6IDEuMCAvIGV0YSk7DQp9DQoNCi8qIGxheWVyX3dlaWdodCAqLw0KDQp2b2lkIG5vZGVfbGF5ZXJfd2VpZ2h0KGZsb2F0IGJsZW5kLCB2ZWMzIE4sIHZlYzMgSSwgb3V0IGZsb2F0IGZyZXNuZWwsIG91dCBmbG9hdCBmYWNpbmcpDQp7DQoJLyogZnJlc25lbCAqLw0KCWZsb2F0IGV0YSA9IG1heCgxLjAgLSBibGVuZCwgMC4wMDAwMSk7DQoJdmVjMyBJX3ZpZXcgPSAoYmxfUHJvamVjdGlvbk1hdHJpeFszXVszXSA9PSAwLjApID8gbm9ybWFsaXplKEkpIDogdmVjMygwLjAsIDAuMCwgLTEuMCk7DQoNCglmcmVzbmVsID0gZnJlc25lbF9kaWVsZWN0cmljKElfdmlldywgTiwgKGdsX0Zyb250RmFjaW5nKSA/IDEuMCAvIGV0YSA6IGV0YSk7DQoNCgkvKiBmYWNpbmcgKi8NCglmYWNpbmcgPSBhYnMoZG90KElfdmlldywgTikpOw0KCWlmIChibGVuZCAhPSAwLjUpIHsNCgkJYmxlbmQgPSBjbGFtcChibGVuZCwgMC4wLCAwLjk5OTk5KTsNCgkJYmxlbmQgPSAoYmxlbmQgPCAwLjUpID8gMi4wICogYmxlbmQgOiAwLjUgLyAoMS4wIC0gYmxlbmQpOw0KCQlmYWNpbmcgPSBwb3coZmFjaW5nLCBibGVuZCk7DQoJfQ0KCWZhY2luZyA9IDEuMCAtIGZhY2luZzsNCn0NCg0KLyogZ2FtbWEgKi8NCg0Kdm9pZCBub2RlX2dhbW1hKHZlYzQgY29sLCBmbG9hdCBnYW1tYSwgb3V0IHZlYzQgb3V0Y29sKQ0Kew0KCW91dGNvbCA9IGNvbDsNCg0KCWlmIChjb2wuciA+IDAuMCkNCgkJb3V0Y29sLnIgPSBjb21wYXRpYmxlX3Bvdyhjb2wuciwgZ2FtbWEpOw0KCWlmIChjb2wuZyA+IDAuMCkNCgkJb3V0Y29sLmcgPSBjb21wYXRpYmxlX3Bvdyhjb2wuZywgZ2FtbWEpOw0KCWlmIChjb2wuYiA+IDAuMCkNCgkJb3V0Y29sLmIgPSBjb21wYXRpYmxlX3Bvdyhjb2wuYiwgZ2FtbWEpOw0KfQ0KDQovKiBnZW9tZXRyeSAqLw0KDQp2b2lkIG5vZGVfYXR0cmlidXRlKHZlYzMgYXR0ciwgb3V0IHZlYzQgb3V0Y29sLCBvdXQgdmVjMyBvdXR2ZWMsIG91dCBmbG9hdCBvdXRmKQ0Kew0KCW91dGNvbCA9IHZlYzQoYXR0ciwgMS4wKTsNCglvdXR2ZWMgPSBhdHRyOw0KCW91dGYgPSAoYXR0ci54ICsgYXR0ci55ICsgYXR0ci56KSAvIDMuMDsNCn0NCg0Kdm9pZCBub2RlX3V2bWFwKHZlYzMgYXR0cl91diwgb3V0IHZlYzMgb3V0dmVjKQ0Kew0KCW91dHZlYyA9IGF0dHJfdXY7DQp9DQoNCnZvaWQgbm9kZV9nZW9tZXRyeSgNCiAgICAgICAgdmVjMyBJLCB2ZWMzIE4sIG1hdDQgdG93b3JsZCwNCiAgICAgICAgb3V0IHZlYzMgcG9zaXRpb24sIG91dCB2ZWMzIG5vcm1hbCwgb3V0IHZlYzMgdGFuZ2VudCwNCiAgICAgICAgb3V0IHZlYzMgdHJ1ZV9ub3JtYWwsIG91dCB2ZWMzIGluY29taW5nLCBvdXQgdmVjMyBwYXJhbWV0cmljLA0KICAgICAgICBvdXQgZmxvYXQgYmFja2ZhY2luZywgb3V0IGZsb2F0IHBvaW50aW5lc3MpDQp7DQoJcG9zaXRpb24gPSAodG93b3JsZCAqIHZlYzQoSSwgMS4wKSkueHl6Ow0KCW5vcm1hbCA9ICh0b3dvcmxkICogdmVjNChOLCAwLjApKS54eXo7DQoJdGFuZ2VudCA9IHZlYzMoMC4wKTsNCgl0cnVlX25vcm1hbCA9IG5vcm1hbDsNCg0KCS8qIGhhbmRsZSBwZXJzcGVjdGl2ZS9vcnRob2dyYXBoaWMgKi8NCgl2ZWMzIElfdmlldyA9IChibF9Qcm9qZWN0aW9uTWF0cml4WzNdWzNdID09IDAuMCkgPyBub3JtYWxpemUoSSkgOiB2ZWMzKDAuMCwgMC4wLCAtMS4wKTsNCglpbmNvbWluZyA9IC0odG93b3JsZCAqIHZlYzQoSV92aWV3LCAwLjApKS54eXo7DQoNCglwYXJhbWV0cmljID0gdmVjMygwLjApOw0KCWJhY2tmYWNpbmcgPSAoZ2xfRnJvbnRGYWNpbmcpID8gMC4wIDogMS4wOw0KCXBvaW50aW5lc3MgPSAwLjU7DQp9DQoNCnZvaWQgbm9kZV90ZXhfY29vcmQoDQogICAgICAgIHZlYzMgSSwgdmVjMyBOLCBtYXQ0IHZpZXdpbnZtYXQsIG1hdDQgb2JpbnZtYXQsIHZlYzQgY2FtZXJhZmFjLA0KICAgICAgICB2ZWMzIGF0dHJfb3JjbywgdmVjMyBhdHRyX3V2LA0KICAgICAgICBvdXQgdmVjMyBnZW5lcmF0ZWQsIG91dCB2ZWMzIG5vcm1hbCwgb3V0IHZlYzMgdXYsIG91dCB2ZWMzIG9iamVjdCwNCiAgICAgICAgb3V0IHZlYzMgY2FtZXJhLCBvdXQgdmVjMyB3aW5kb3csIG91dCB2ZWMzIHJlZmxlY3Rpb24pDQp7DQoJZ2VuZXJhdGVkID0gYXR0cl9vcmNvICogMC41ICsgdmVjMygwLjUpOw0KCW5vcm1hbCA9IG5vcm1hbGl6ZSgob2JpbnZtYXQgKiAodmlld2ludm1hdCAqIHZlYzQoTiwgMC4wKSkpLnh5eik7DQoJdXYgPSBhdHRyX3V2Ow0KCW9iamVjdCA9IChvYmludm1hdCAqICh2aWV3aW52bWF0ICogdmVjNChJLCAxLjApKSkueHl6Ow0KCWNhbWVyYSA9IHZlYzMoSS54eSwgLUkueik7DQoJdmVjNCBwcm9qdmVjID0gYmxfUHJvamVjdGlvbk1hdHJpeCAqIHZlYzQoSSwgMS4wKTsNCgl3aW5kb3cgPSB2ZWMzKG10ZXhfMmRfbWFwcGluZyhwcm9qdmVjLnh5eiAvIHByb2p2ZWMudykueHkgKiBjYW1lcmFmYWMueHkgKyBjYW1lcmFmYWMuencsIDAuMCk7DQoNCgl2ZWMzIHNoYWRlX0k7DQoJc2hhZGVfdmlldyhJLCBzaGFkZV9JKTsNCgl2ZWMzIHZpZXdfcmVmbGVjdGlvbiA9IHJlZmxlY3Qoc2hhZGVfSSwgbm9ybWFsaXplKE4pKTsNCglyZWZsZWN0aW9uID0gKHZpZXdpbnZtYXQgKiB2ZWM0KHZpZXdfcmVmbGVjdGlvbiwgMC4wKSkueHl6Ow0KfQ0KDQp2b2lkIG5vZGVfdGV4X2Nvb3JkX2JhY2tncm91bmQoDQogICAgICAgIHZlYzMgSSwgdmVjMyBOLCBtYXQ0IHZpZXdpbnZtYXQsIG1hdDQgb2JpbnZtYXQsIHZlYzQgY2FtZXJhZmFjLA0KICAgICAgICB2ZWMzIGF0dHJfb3JjbywgdmVjMyBhdHRyX3V2LA0KICAgICAgICBvdXQgdmVjMyBnZW5lcmF0ZWQsIG91dCB2ZWMzIG5vcm1hbCwgb3V0IHZlYzMgdXYsIG91dCB2ZWMzIG9iamVjdCwNCiAgICAgICAgb3V0IHZlYzMgY2FtZXJhLCBvdXQgdmVjMyB3aW5kb3csIG91dCB2ZWMzIHJlZmxlY3Rpb24pDQp7DQoJdmVjNCB2ID0gKGJsX1Byb2plY3Rpb25NYXRyaXhbM11bM10gPT0gMC4wKSA/IHZlYzQoSSwgMS4wKSA6IHZlYzQoMC4wLCAwLjAsIDEuMCwgMS4wKTsNCgl2ZWM0IGNvX2hvbW9nZW5vdXMgPSAoYmxfUHJvamVjdGlvbk1hdHJpeEludmVyc2UgKiB2KTsNCg0KCXZlYzQgY28gPSB2ZWM0KGNvX2hvbW9nZW5vdXMueHl6IC8gY29faG9tb2dlbm91cy53LCAwLjApOw0KDQoJY28gPSBub3JtYWxpemUoY28pOw0KCXZlYzMgY29vcmRzID0gKGJsX01vZGVsVmlld01hdHJpeEludmVyc2UgKiBjbykueHl6Ow0KDQoJZ2VuZXJhdGVkID0gY29vcmRzOw0KCW5vcm1hbCA9IC1jb29yZHM7DQoJdXYgPSB2ZWMzKGF0dHJfdXYueHksIDAuMCk7DQoJb2JqZWN0ID0gY29vcmRzOw0KDQoJY2FtZXJhID0gdmVjMyhjby54eSwgLWNvLnopOw0KCXdpbmRvdyA9IChibF9Qcm9qZWN0aW9uTWF0cml4WzNdWzNdID09IDAuMCkgPw0KCSAgICAgICAgIHZlYzMobXRleF8yZF9tYXBwaW5nKEkpLnh5ICogY2FtZXJhZmFjLnh5ICsgY2FtZXJhZmFjLnp3LCAwLjApIDoNCgkgICAgICAgICB2ZWMzKHZlYzIoMC41KSAqIGNhbWVyYWZhYy54eSArIGNhbWVyYWZhYy56dywgMC4wKTsNCg0KCXJlZmxlY3Rpb24gPSAtY29vcmRzOw0KfQ0KDQovKiB0ZXh0dXJlcyAqLw0KDQpmbG9hdCBjYWxjX2dyYWRpZW50KHZlYzMgcCwgaW50IGdyYWRpZW50X3R5cGUpDQp7DQoJZmxvYXQgeCwgeSwgejsNCgl4ID0gcC54Ow0KCXkgPSBwLnk7DQoJeiA9IHAuejsNCglpZiAoZ3JhZGllbnRfdHlwZSA9PSAwKSB7ICAvKiBsaW5lYXIgKi8NCgkJcmV0dXJuIHg7DQoJfQ0KCWVsc2UgaWYgKGdyYWRpZW50X3R5cGUgPT0gMSkgeyAgLyogcXVhZHJhdGljICovDQoJCWZsb2F0IHIgPSBtYXgoeCwgMC4wKTsNCgkJcmV0dXJuIHIgKiByOw0KCX0NCgllbHNlIGlmIChncmFkaWVudF90eXBlID09IDIpIHsgIC8qIGVhc2luZyAqLw0KCQlmbG9hdCByID0gbWluKG1heCh4LCAwLjApLCAxLjApOw0KCQlmbG9hdCB0ID0gciAqIHI7DQoJCXJldHVybiAoMy4wICogdCAtIDIuMCAqIHQgKiByKTsNCgl9DQoJZWxzZSBpZiAoZ3JhZGllbnRfdHlwZSA9PSAzKSB7ICAvKiBkaWFnb25hbCAqLw0KCQlyZXR1cm4gKHggKyB5KSAqIDAuNTsNCgl9DQoJZWxzZSBpZiAoZ3JhZGllbnRfdHlwZSA9PSA0KSB7ICAvKiByYWRpYWwgKi8NCgkJcmV0dXJuIGF0YW4oeSwgeCkgLyAoTV9QSSAqIDIpICsgMC41Ow0KCX0NCgllbHNlIHsNCgkJZmxvYXQgciA9IG1heCgxLjAgLSBzcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeiksIDAuMCk7DQoJCWlmIChncmFkaWVudF90eXBlID09IDUpIHsgIC8qIHF1YWRyYXRpYyBzcGhlcmUgKi8NCgkJCXJldHVybiByICogcjsNCgkJfQ0KCQllbHNlIGlmIChncmFkaWVudF90eXBlID09IDYpIHsgIC8qIHNwaGVyZSAqLw0KCQkJcmV0dXJuIHI7DQoJCX0NCgl9DQoJcmV0dXJuIDAuMDsNCn0NCg0Kdm9pZCBub2RlX3RleF9ncmFkaWVudCh2ZWMzIGNvLCBmbG9hdCBncmFkaWVudF90eXBlLCBvdXQgdmVjNCBjb2xvciwgb3V0IGZsb2F0IGZhYykNCnsNCglmbG9hdCBmID0gY2FsY19ncmFkaWVudChjbywgaW50KGdyYWRpZW50X3R5cGUpKTsNCglmID0gY2xhbXAoZiwgMC4wLCAxLjApOw0KDQoJY29sb3IgPSB2ZWM0KGYsIGYsIGYsIDEuMCk7DQoJZmFjID0gZjsNCn0NCg0Kdm9pZCBub2RlX3RleF9jaGVja2VyKHZlYzMgY28sIHZlYzQgY29sb3IxLCB2ZWM0IGNvbG9yMiwgZmxvYXQgc2NhbGUsIG91dCB2ZWM0IGNvbG9yLCBvdXQgZmxvYXQgZmFjKQ0Kew0KCXZlYzMgcCA9IGNvICogc2NhbGU7DQoNCgkvKiBQcmV2ZW50IHByZWNpc2lvbiBpc3N1ZXMgb24gdW5pdCBjb29yZGluYXRlcy4gKi8NCglwLnggPSAocC54ICsgMC4wMDAwMDEpICogMC45OTk5OTk7DQoJcC55ID0gKHAueSArIDAuMDAwMDAxKSAqIDAuOTk5OTk5Ow0KCXAueiA9IChwLnogKyAwLjAwMDAwMSkgKiAwLjk5OTk5OTsNCg0KCWludCB4aSA9IGludChhYnMoZmxvb3IocC54KSkpOw0KCWludCB5aSA9IGludChhYnMoZmxvb3IocC55KSkpOw0KCWludCB6aSA9IGludChhYnMoZmxvb3IocC56KSkpOw0KDQoJYm9vbCBjaGVjayA9ICgobW9kKHhpLCAyKSA9PSBtb2QoeWksIDIpKSA9PSBib29sKG1vZCh6aSwgMikpKTsNCg0KCWNvbG9yID0gY2hlY2sgPyBjb2xvcjEgOiBjb2xvcjI7DQoJZmFjID0gY2hlY2sgPyAxLjAgOiAwLjA7DQp9DQoNCiNpZmRlZiBCSVRfT1BFUkFUSU9OUw0KdmVjMiBjYWxjX2JyaWNrX3RleHR1cmUodmVjMyBwLCBmbG9hdCBtb3J0YXJfc2l6ZSwgZmxvYXQgbW9ydGFyX3Ntb290aCwgZmxvYXQgYmlhcywNCiAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0IGJyaWNrX3dpZHRoLCBmbG9hdCByb3dfaGVpZ2h0LA0KICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQgb2Zmc2V0X2Ftb3VudCwgaW50IG9mZnNldF9mcmVxdWVuY3ksDQogICAgICAgICAgICAgICAgICAgICAgICBmbG9hdCBzcXVhc2hfYW1vdW50LCBpbnQgc3F1YXNoX2ZyZXF1ZW5jeSkNCnsNCglpbnQgYnJpY2tudW0sIHJvd251bTsNCglmbG9hdCBvZmZzZXQgPSAwLjA7DQoJZmxvYXQgeCwgeTsNCg0KCXJvd251bSA9IGZsb29yX3RvX2ludChwLnkgLyByb3dfaGVpZ2h0KTsNCg0KCWlmIChvZmZzZXRfZnJlcXVlbmN5ICE9IDAgJiYgc3F1YXNoX2ZyZXF1ZW5jeSAhPSAwKSB7DQoJCWJyaWNrX3dpZHRoICo9IChyb3dudW0gJSBzcXVhc2hfZnJlcXVlbmN5ICE9IDApID8gMS4wIDogc3F1YXNoX2Ftb3VudDsgLyogc3F1YXNoICovDQoJCW9mZnNldCA9IChyb3dudW0gJSBvZmZzZXRfZnJlcXVlbmN5ICE9IDApID8gMC4wIDogKGJyaWNrX3dpZHRoICogb2Zmc2V0X2Ftb3VudCk7IC8qIG9mZnNldCAqLw0KCX0NCg0KCWJyaWNrbnVtID0gZmxvb3JfdG9faW50KChwLnggKyBvZmZzZXQpIC8gYnJpY2tfd2lkdGgpOw0KDQoJeCA9IChwLnggKyBvZmZzZXQpIC0gYnJpY2tfd2lkdGggKiBicmlja251bTsNCgl5ID0gcC55IC0gcm93X2hlaWdodCAqIHJvd251bTsNCg0KCWZsb2F0IHRpbnQgPSBjbGFtcCgoaW50ZWdlcl9ub2lzZSgocm93bnVtIDw8IDE2KSArIChicmlja251bSAmIDB4RkZGRikpICsgYmlhcyksIDAuMCwgMS4wKTsNCg0KCWZsb2F0IG1pbl9kaXN0ID0gbWluKG1pbih4LCB5KSwgbWluKGJyaWNrX3dpZHRoIC0geCwgcm93X2hlaWdodCAtIHkpKTsNCglpZiAobWluX2Rpc3QgPj0gbW9ydGFyX3NpemUpIHsNCgkJcmV0dXJuIHZlYzIodGludCwgMC4wKTsNCgl9DQoJZWxzZSBpZiAobW9ydGFyX3Ntb290aCA9PSAwLjApIHsNCgkJcmV0dXJuIHZlYzIodGludCwgMS4wKTsNCgl9DQoJZWxzZSB7DQoJCW1pbl9kaXN0ID0gMS4wIC0gbWluX2Rpc3QvbW9ydGFyX3NpemU7DQoJCXJldHVybiB2ZWMyKHRpbnQsIHNtb290aHN0ZXAoMC4wLCBtb3J0YXJfc21vb3RoLCBtaW5fZGlzdCkpOw0KCX0NCn0NCiNlbmRpZg0KDQp2b2lkIG5vZGVfdGV4X2JyaWNrKHZlYzMgY28sDQogICAgICAgICAgICAgICAgICAgIHZlYzQgY29sb3IxLCB2ZWM0IGNvbG9yMiwNCiAgICAgICAgICAgICAgICAgICAgdmVjNCBtb3J0YXIsIGZsb2F0IHNjYWxlLA0KICAgICAgICAgICAgICAgICAgICBmbG9hdCBtb3J0YXJfc2l6ZSwgZmxvYXQgbW9ydGFyX3Ntb290aCwgZmxvYXQgYmlhcywNCiAgICAgICAgICAgICAgICAgICAgZmxvYXQgYnJpY2tfd2lkdGgsIGZsb2F0IHJvd19oZWlnaHQsDQogICAgICAgICAgICAgICAgICAgIGZsb2F0IG9mZnNldF9hbW91bnQsIGZsb2F0IG9mZnNldF9mcmVxdWVuY3ksDQogICAgICAgICAgICAgICAgICAgIGZsb2F0IHNxdWFzaF9hbW91bnQsIGZsb2F0IHNxdWFzaF9mcmVxdWVuY3ksDQogICAgICAgICAgICAgICAgICAgIG91dCB2ZWM0IGNvbG9yLCBvdXQgZmxvYXQgZmFjKQ0Kew0KI2lmZGVmIEJJVF9PUEVSQVRJT05TDQoJdmVjMiBmMiA9IGNhbGNfYnJpY2tfdGV4dHVyZShjbyAqIHNjYWxlLA0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ydGFyX3NpemUsIG1vcnRhcl9zbW9vdGgsIGJpYXMsDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmlja193aWR0aCwgcm93X2hlaWdodCwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldF9hbW91bnQsIGludChvZmZzZXRfZnJlcXVlbmN5KSwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFzaF9hbW91bnQsIGludChzcXVhc2hfZnJlcXVlbmN5KSk7DQoJZmxvYXQgdGludCA9IGYyLng7DQoJZmxvYXQgZiA9IGYyLnk7DQoJaWYgKGYgIT0gMS4wKSB7DQoJCWZsb2F0IGZhY20gPSAxLjAgLSB0aW50Ow0KCQljb2xvcjEgPSBmYWNtICogY29sb3IxICsgdGludCAqIGNvbG9yMjsNCgl9DQoJY29sb3IgPSBtaXgoY29sb3IxLCBtb3J0YXIsIGYpOw0KCWZhYyA9IGY7DQojZWxzZQ0KCWNvbG9yID0gdmVjNCgxLjApOw0KCWZhYyA9IDEuMDsNCiNlbmRpZg0KfQ0KDQp2b2lkIG5vZGVfdGV4X2Nsb3Vkcyh2ZWMzIGNvLCBmbG9hdCBzaXplLCBvdXQgdmVjNCBjb2xvciwgb3V0IGZsb2F0IGZhYykNCnsNCgljb2xvciA9IHZlYzQoMS4wKTsNCglmYWMgPSAxLjA7DQp9DQoNCnZvaWQgbm9kZV90ZXhfZW52aXJvbm1lbnRfZXF1aXJlY3Rhbmd1bGFyKHZlYzMgY28sIHNhbXBsZXIyRCBpbWEsIG91dCB2ZWM0IGNvbG9yKQ0Kew0KCXZlYzMgbmNvID0gbm9ybWFsaXplKGNvKTsNCglmbG9hdCB1ID0gLWF0YW4obmNvLnksIG5jby54KSAvICgyLjAgKiBNX1BJKSArIDAuNTsNCglmbG9hdCB2ID0gYXRhbihuY28ueiwgaHlwb3QobmNvLngsIG5jby55KSkgLyBNX1BJICsgMC41Ow0KDQoJY29sb3IgPSB0ZXh0dXJlMkQoaW1hLCB2ZWMyKHUsIHYpKTsNCn0NCg0Kdm9pZCBub2RlX3RleF9lbnZpcm9ubWVudF9taXJyb3JfYmFsbCh2ZWMzIGNvLCBzYW1wbGVyMkQgaW1hLCBvdXQgdmVjNCBjb2xvcikNCnsNCgl2ZWMzIG5jbyA9IG5vcm1hbGl6ZShjbyk7DQoNCgluY28ueSAtPSAxLjA7DQoNCglmbG9hdCBkaXYgPSAyLjAgKiBzcXJ0KG1heCgtMC41ICogbmNvLnksIDAuMCkpOw0KCWlmIChkaXYgPiAwLjApDQoJCW5jbyAvPSBkaXY7DQoNCglmbG9hdCB1ID0gMC41ICogKG5jby54ICsgMS4wKTsNCglmbG9hdCB2ID0gMC41ICogKG5jby56ICsgMS4wKTsNCg0KCWNvbG9yID0gdGV4dHVyZTJEKGltYSwgdmVjMih1LCB2KSk7DQp9DQoNCnZvaWQgbm9kZV90ZXhfZW52aXJvbm1lbnRfZW1wdHkodmVjMyBjbywgb3V0IHZlYzQgY29sb3IpDQp7DQoJY29sb3IgPSB2ZWM0KDEuMCwgMC4wLCAxLjAsIDEuMCk7DQp9DQoNCnZvaWQgbm9kZV90ZXhfaW1hZ2UodmVjMyBjbywgc2FtcGxlcjJEIGltYSwgb3V0IHZlYzQgY29sb3IsIG91dCBmbG9hdCBhbHBoYSkNCnsNCgljb2xvciA9IHRleHR1cmUyRChpbWEsIGNvLnh5KTsNCglhbHBoYSA9IGNvbG9yLmE7DQp9DQoNCnZvaWQgbm9kZV90ZXhfaW1hZ2VfYm94KHZlYzMgdGV4Y28sDQogICAgICAgICAgICAgICAgICAgICAgICB2ZWMzIG5vYiwNCiAgICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZXIyRCBpbWEsDQogICAgICAgICAgICAgICAgICAgICAgICBmbG9hdCBibGVuZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIG91dCB2ZWM0IGNvbG9yLA0KICAgICAgICAgICAgICAgICAgICAgICAgb3V0IGZsb2F0IGFscGhhKQ0Kew0KCS8qIHByb2plY3QgZnJvbSBkaXJlY3Rpb24gdmVjdG9yIHRvIGJhcnljZW50cmljIGNvb3JkaW5hdGVzIHZhcnlpbmcgdHJpYW5nbGVzICovDQoJbm9iID0gdmVjMyhhYnMobm9iLngpLCBhYnMobm9iLnkpLCBhYnMobm9iLnopKTsNCglub2IgLz0gKG5vYi54ICsgbm9iLnkgKyBub2Iueik7DQoNCgkvKiBiYXNpYyBpZGVhIGlzIHRvIHRoaW5rIG9mIHRoaXMgYXMgYSB0cmlhbmdsZSwgZWFjaCBjb3JuZXIgcmVwcmVzZW50aW5nDQoJICogb25lIG9mIHRoZSAzIGZhY2VzIG9mIHRoZSBjdWJlLiB2YXJ5aW5nIHRoZSBjb3JuZXJzIHdlIGhhdmUgc2luZ2xlIHRleHR1cmVzLA0KCSAqIHZhcnlpbmcgYmV0d2VlbiB3ZSBibGVuZCBiZXR3ZWVuIHR3byB0ZXh0dXJlcywgYW5kIHZhcnlpbmcgdGhlIG1pZGRsZSB3ZSBhIGJsZW5kDQoJICogYmV0d2VlbiB0aHJlZSB0ZXh0dXJlcy4NCgkgKg0KCSAqIHRoZSBOeHl6IHZhbHVlcyBhcmUgdGhlIGJhcnljZW50cmljIGNvb3JkaW5hdGVzIHZhcnlpbmcgYW4gZXF1aWxhdGVyYWwNCgkgKiB0cmlhbmdsZSwgd2hpY2ggdmFyeWluZyBjYXNlIG9mIGJsZW5kaW5nLCB2YXJ5aW5nIHRoZSBtaWRkbGUgaGFzIGEgc21hbGxlcg0KCSAqIGVxdWlsYXRlcmFsIHRyaWFuZ2xlIHdoZXJlIDMgdGV4dHVyZXMgYmxlbmQuIHRoaXMgZGl2aWRlcyB0aGluZ3MgaW50bw0KCSAqIDcgem9uZXMsIHdpdGggYW4gaWYgKCkgdGVzdCBmb3IgZWFjaCB6b25lICovDQoNCgl2ZWMzIHdlaWdodCA9IHZlYzMoMC4wLCAwLjAsIDAuMCk7DQoJZmxvYXQgbGltaXQgPSAwLjUgKiAoMS4wICsgYmxlbmQpOw0KDQoJLyogZmlyc3QgdGVzdCBmb3IgY29ybmVycyB3aXRoIHNpbmdsZSB0ZXh0dXJlICovDQoJaWYgKG5vYi54ID4gbGltaXQgKiAobm9iLnggKyBub2IueSkgJiYgbm9iLnggPiBsaW1pdCAqIChub2IueCArIG5vYi56KSkgew0KCQl3ZWlnaHQueCA9IDEuMDsNCgl9DQoJZWxzZSBpZiAobm9iLnkgPiBsaW1pdCAqIChub2IueCArIG5vYi55KSAmJiBub2IueSA+IGxpbWl0ICogKG5vYi55ICsgbm9iLnopKSB7DQoJCXdlaWdodC55ID0gMS4wOw0KCX0NCgllbHNlIGlmIChub2IueiA+IGxpbWl0ICogKG5vYi54ICsgbm9iLnopICYmIG5vYi56ID4gbGltaXQgKiAobm9iLnkgKyBub2IueikpIHsNCgkJd2VpZ2h0LnogPSAxLjA7DQoJfQ0KCWVsc2UgaWYgKGJsZW5kID4gMC4wKSB7DQoJCS8qIHZhcnlpbmcgY2FzZSBvZiBibGVuZGluZywgdGVzdCBmb3IgbWl4ZXMgYmV0d2VlbiB0d28gdGV4dHVyZXMgKi8NCgkJaWYgKG5vYi56IDwgKDEuMCAtIGxpbWl0KSAqIChub2IueSArIG5vYi54KSkgew0KCQkJd2VpZ2h0LnggPSBub2IueCAvIChub2IueCArIG5vYi55KTsNCgkJCXdlaWdodC54ID0gY2xhbXAoKHdlaWdodC54IC0gMC41ICogKDEuMCAtIGJsZW5kKSkgLyBibGVuZCwgMC4wLCAxLjApOw0KCQkJd2VpZ2h0LnkgPSAxLjAgLSB3ZWlnaHQueDsNCgkJfQ0KCQllbHNlIGlmIChub2IueCA8ICgxLjAgLSBsaW1pdCkgKiAobm9iLnkgKyBub2IueikpIHsNCgkJCXdlaWdodC55ID0gbm9iLnkgLyAobm9iLnkgKyBub2Iueik7DQoJCQl3ZWlnaHQueSA9IGNsYW1wKCh3ZWlnaHQueSAtIDAuNSAqICgxLjAgLSBibGVuZCkpIC8gYmxlbmQsIDAuMCwgMS4wKTsNCgkJCXdlaWdodC56ID0gMS4wIC0gd2VpZ2h0Lnk7DQoJCX0NCgkJZWxzZSBpZiAobm9iLnkgPCAoMS4wIC0gbGltaXQpICogKG5vYi54ICsgbm9iLnopKSB7DQoJCQl3ZWlnaHQueCA9IG5vYi54IC8gKG5vYi54ICsgbm9iLnopOw0KCQkJd2VpZ2h0LnggPSBjbGFtcCgod2VpZ2h0LnggLSAwLjUgKiAoMS4wIC0gYmxlbmQpKSAvIGJsZW5kLCAwLjAsIDEuMCk7DQoJCQl3ZWlnaHQueiA9IDEuMCAtIHdlaWdodC54Ow0KCQl9DQoJCWVsc2Ugew0KCQkJLyogbGFzdCBjYXNlLCB3ZSBoYXZlIGEgbWl4IGJldHdlZW4gdGhyZWUgKi8NCgkJCXdlaWdodC54ID0gKCgyLjAgLSBsaW1pdCkgKiBub2IueCArIChsaW1pdCAtIDEuMCkpIC8gKDIuMCAqIGxpbWl0IC0gMS4wKTsNCgkJCXdlaWdodC55ID0gKCgyLjAgLSBsaW1pdCkgKiBub2IueSArIChsaW1pdCAtIDEuMCkpIC8gKDIuMCAqIGxpbWl0IC0gMS4wKTsNCgkJCXdlaWdodC56ID0gKCgyLjAgLSBsaW1pdCkgKiBub2IueiArIChsaW1pdCAtIDEuMCkpIC8gKDIuMCAqIGxpbWl0IC0gMS4wKTsNCgkJfQ0KCX0NCgllbHNlIHsNCgkJLyogRGVzcGVyYXRlIG1vZGUsIG5vIHZhbGlkIGNob2ljZSBhbnl3YXksIGZhbGxiYWNrIHRvIG9uZSBzaWRlLiovDQoJCXdlaWdodC54ID0gMS4wOw0KCX0NCgljb2xvciA9IHZlYzQoMCk7DQoJaWYgKHdlaWdodC54ID4gMC4wKSB7DQoJCWNvbG9yICs9IHdlaWdodC54ICogdGV4dHVyZTJEKGltYSwgdGV4Y28ueXopOw0KCX0NCglpZiAod2VpZ2h0LnkgPiAwLjApIHsNCgkJY29sb3IgKz0gd2VpZ2h0LnkgKiB0ZXh0dXJlMkQoaW1hLCB0ZXhjby54eik7DQoJfQ0KCWlmICh3ZWlnaHQueiA+IDAuMCkgew0KCQljb2xvciArPSB3ZWlnaHQueiAqIHRleHR1cmUyRChpbWEsIHRleGNvLnl4KTsNCgl9DQoNCglhbHBoYSA9IGNvbG9yLmE7DQp9DQoNCnZvaWQgbm9kZV90ZXhfaW1hZ2VfZW1wdHkodmVjMyBjbywgb3V0IHZlYzQgY29sb3IsIG91dCBmbG9hdCBhbHBoYSkNCnsNCgljb2xvciA9IHZlYzQoMC4wKTsNCglhbHBoYSA9IDAuMDsNCn0NCg0Kdm9pZCBub2RlX3RleF9tYWdpYyh2ZWMzIGNvLCBmbG9hdCBzY2FsZSwgZmxvYXQgZGlzdG9ydGlvbiwgZmxvYXQgZGVwdGgsIG91dCB2ZWM0IGNvbG9yLCBvdXQgZmxvYXQgZmFjKQ0Kew0KCXZlYzMgcCA9IGNvICogc2NhbGU7DQoJZmxvYXQgeCA9IHNpbigocC54ICsgcC55ICsgcC56KSAqIDUuMCk7DQoJZmxvYXQgeSA9IGNvcygoLXAueCArIHAueSAtIHAueikgKiA1LjApOw0KCWZsb2F0IHogPSAtY29zKCgtcC54IC0gcC55ICsgcC56KSAqIDUuMCk7DQoNCglpZiAoZGVwdGggPiAwKSB7DQoJCXggKj0gZGlzdG9ydGlvbjsNCgkJeSAqPSBkaXN0b3J0aW9uOw0KCQl6ICo9IGRpc3RvcnRpb247DQoJCXkgPSAtY29zKHggLSB5ICsgeik7DQoJCXkgKj0gZGlzdG9ydGlvbjsNCgkJaWYgKGRlcHRoID4gMSkgew0KCQkJeCA9IGNvcyh4IC0geSAtIHopOw0KCQkJeCAqPSBkaXN0b3J0aW9uOw0KCQkJaWYgKGRlcHRoID4gMikgew0KCQkJCXogPSBzaW4oLXggLSB5IC0geik7DQoJCQkJeiAqPSBkaXN0b3J0aW9uOw0KCQkJCWlmIChkZXB0aCA+IDMpIHsNCgkJCQkJeCA9IC1jb3MoLXggKyB5IC0geik7DQoJCQkJCXggKj0gZGlzdG9ydGlvbjsNCgkJCQkJaWYgKGRlcHRoID4gNCkgew0KCQkJCQkJeSA9IC1zaW4oLXggKyB5ICsgeik7DQoJCQkJCQl5ICo9IGRpc3RvcnRpb247DQoJCQkJCQlpZiAoZGVwdGggPiA1KSB7DQoJCQkJCQkJeSA9IC1jb3MoLXggKyB5ICsgeik7DQoJCQkJCQkJeSAqPSBkaXN0b3J0aW9uOw0KCQkJCQkJCWlmIChkZXB0aCA+IDYpIHsNCgkJCQkJCQkJeCA9IGNvcyh4ICsgeSArIHopOw0KCQkJCQkJCQl4ICo9IGRpc3RvcnRpb247DQoJCQkJCQkJCWlmIChkZXB0aCA+IDcpIHsNCgkJCQkJCQkJCXogPSBzaW4oeCArIHkgLSB6KTsNCgkJCQkJCQkJCXogKj0gZGlzdG9ydGlvbjsNCgkJCQkJCQkJCWlmIChkZXB0aCA+IDgpIHsNCgkJCQkJCQkJCQl4ID0gLWNvcygteCAtIHkgKyB6KTsNCgkJCQkJCQkJCQl4ICo9IGRpc3RvcnRpb247DQoJCQkJCQkJCQkJaWYgKGRlcHRoID4gOSkgew0KCQkJCQkJCQkJCQl5ID0gLXNpbih4IC0geSArIHopOw0KCQkJCQkJCQkJCQl5ICo9IGRpc3RvcnRpb247DQoJCQkJCQkJCQkJfQ0KCQkJCQkJCQkJfQ0KCQkJCQkJCQl9DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfQ0KCWlmIChkaXN0b3J0aW9uICE9IDAuMCkgew0KCQlkaXN0b3J0aW9uICo9IDIuMDsNCgkJeCAvPSBkaXN0b3J0aW9uOw0KCQl5IC89IGRpc3RvcnRpb247DQoJCXogLz0gZGlzdG9ydGlvbjsNCgl9DQoNCgljb2xvciA9IHZlYzQoMC41IC0geCwgMC41IC0geSwgMC41IC0geiwgMS4wKTsNCglmYWMgPSAoY29sb3IueCArIGNvbG9yLnkgKyBjb2xvci56KSAvIDMuMDsNCn0NCg0KI2lmZGVmIEJJVF9PUEVSQVRJT05TDQpmbG9hdCBub2lzZV9mYWRlKGZsb2F0IHQpDQp7DQoJcmV0dXJuIHQgKiB0ICogdCAqICh0ICogKHQgKiA2LjAgLSAxNS4wKSArIDEwLjApOw0KfQ0KDQpmbG9hdCBub2lzZV9zY2FsZTMoZmxvYXQgcmVzdWx0KQ0Kew0KCXJldHVybiAwLjk4MjAgKiByZXN1bHQ7DQp9DQoNCmZsb2F0IG5vaXNlX25lcnAoZmxvYXQgdCwgZmxvYXQgYSwgZmxvYXQgYikNCnsNCglyZXR1cm4gKDEuMCAtIHQpICogYSArIHQgKiBiOw0KfQ0KDQpmbG9hdCBub2lzZV9ncmFkKHVpbnQgaGFzaCwgZmxvYXQgeCwgZmxvYXQgeSwgZmxvYXQgeikNCnsNCgl1aW50IGggPSBoYXNoICYgMTV1Ow0KCWZsb2F0IHUgPSBoIDwgOHUgPyB4IDogeTsNCglmbG9hdCB2dCA9ICgoaCA9PSAxMnUpIHx8IChoID09IDE0dSkpID8geCA6IHo7DQoJZmxvYXQgdiA9IGggPCA0dSA/IHkgOiB2dDsNCglyZXR1cm4gKCgoaCAmIDF1KSAhPSAwdSkgPyAtdSA6IHUpICsgKCgoaCAmIDJ1KSAhPSAwdSkgPyAtdiA6IHYpOw0KfQ0KDQpmbG9hdCBub2lzZV9wZXJsaW4oZmxvYXQgeCwgZmxvYXQgeSwgZmxvYXQgeikNCnsNCglpbnQgWDsgZmxvYXQgZnggPSBmbG9vcmZyYWMoeCwgWCk7DQoJaW50IFk7IGZsb2F0IGZ5ID0gZmxvb3JmcmFjKHksIFkpOw0KCWludCBaOyBmbG9hdCBmeiA9IGZsb29yZnJhYyh6LCBaKTsNCg0KCWZsb2F0IHUgPSBub2lzZV9mYWRlKGZ4KTsNCglmbG9hdCB2ID0gbm9pc2VfZmFkZShmeSk7DQoJZmxvYXQgdyA9IG5vaXNlX2ZhZGUoZnopOw0KDQoJZmxvYXQgcmVzdWx0Ow0KDQoJcmVzdWx0ID0gbm9pc2VfbmVycCh3LCBub2lzZV9uZXJwKHYsIG5vaXNlX25lcnAodSwgbm9pc2VfZ3JhZChoYXNoKFgsIFksIFopLCBmeCwgZnksIGZ6KSwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2lzZV9ncmFkKGhhc2goWCArIDEsIFksIFopLCBmeCAtIDEuMCwgZnksIGZ6KSksDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vaXNlX25lcnAodSwgbm9pc2VfZ3JhZChoYXNoKFgsIFkgKyAxLCBaKSwgZngsIGZ5IC0gMS4wLCBmeiksDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9pc2VfZ3JhZChoYXNoKFggKyAxLCBZICsgMSwgWiksIGZ4IC0gMS4wLCBmeSAtIDEuMCwgZnopKSksDQoJICAgICAgICAgICAgICAgICAgICBub2lzZV9uZXJwKHYsIG5vaXNlX25lcnAodSwgbm9pc2VfZ3JhZChoYXNoKFgsIFksIFogKyAxKSwgZngsIGZ5LCBmeiAtIDEuMCksDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9pc2VfZ3JhZChoYXNoKFggKyAxLCBZLCBaICsgMSksIGZ4IC0gMS4wLCBmeSwgZnogLSAxLjApKSwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9pc2VfbmVycCh1LCBub2lzZV9ncmFkKGhhc2goWCwgWSArIDEsIFogKyAxKSwgZngsIGZ5IC0gMS4wLCBmeiAtIDEuMCksDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9pc2VfZ3JhZChoYXNoKFggKyAxLCBZICsgMSwgWiArIDEpLCBmeCAtIDEuMCwgZnkgLSAxLjAsIGZ6IC0gMS4wKSkpKTsNCglyZXR1cm4gbm9pc2Vfc2NhbGUzKHJlc3VsdCk7DQp9DQoNCmZsb2F0IG5vaXNlKHZlYzMgcCkNCnsNCglyZXR1cm4gMC41ICogbm9pc2VfcGVybGluKHAueCwgcC55LCBwLnopICsgMC41Ow0KfQ0KDQpmbG9hdCBzbm9pc2UodmVjMyBwKQ0Kew0KCXJldHVybiBub2lzZV9wZXJsaW4ocC54LCBwLnksIHAueik7DQp9DQoNCmZsb2F0IG5vaXNlX3R1cmJ1bGVuY2UodmVjMyBwLCBmbG9hdCBvY3RhdmVzLCBpbnQgaGFyZCkNCnsNCglmbG9hdCBmc2NhbGUgPSAxLjA7DQoJZmxvYXQgYW1wID0gMS4wOw0KCWZsb2F0IHN1bSA9IDAuMDsNCglpbnQgaSwgbjsNCglvY3RhdmVzID0gY2xhbXAob2N0YXZlcywgMC4wLCAxNi4wKTsNCgluID0gaW50KG9jdGF2ZXMpOw0KCWZvciAoaSA9IDA7IGkgPD0gbjsgaSsrKSB7DQoJCWZsb2F0IHQgPSBub2lzZShmc2NhbGUgKiBwKTsNCgkJaWYgKGhhcmQgIT0gMCkgew0KCQkJdCA9IGFicygyLjAgKiB0IC0gMS4wKTsNCgkJfQ0KCQlzdW0gKz0gdCAqIGFtcDsNCgkJYW1wICo9IDAuNTsNCgkJZnNjYWxlICo9IDIuMDsNCgl9DQoJZmxvYXQgcm1kID0gb2N0YXZlcyAtIGZsb29yKG9jdGF2ZXMpOw0KCWlmICAocm1kICE9IDAuMCkgew0KCQlmbG9hdCB0ID0gbm9pc2UoZnNjYWxlICogcCk7DQoJCWlmIChoYXJkICE9IDApIHsNCgkJCXQgPSBhYnMoMi4wICogdCAtIDEuMCk7DQoJCX0NCgkJZmxvYXQgc3VtMiA9IHN1bSArIHQgKiBhbXA7DQoJCXN1bSAqPSAoZmxvYXQoMSA8PCBuKSAvIGZsb2F0KCgxIDw8IChuICsgMSkpIC0gMSkpOw0KCQlzdW0yICo9IChmbG9hdCgxIDw8IChuICsgMSkpIC8gZmxvYXQoKDEgPDwgKG4gKyAyKSkgLSAxKSk7DQoJCXJldHVybiAoMS4wIC0gcm1kKSAqIHN1bSArIHJtZCAqIHN1bTI7DQoJfQ0KCWVsc2Ugew0KCQlzdW0gKj0gKGZsb2F0KDEgPDwgbikgLyBmbG9hdCgoMSA8PCAobiArIDEpKSAtIDEpKTsNCgkJcmV0dXJuIHN1bTsNCgl9DQp9DQojZW5kaWYgIC8vIEJJVF9PUEVSQVRJT05TDQoNCnZvaWQgbm9kZV90ZXhfbm9pc2UodmVjMyBjbywgZmxvYXQgc2NhbGUsIGZsb2F0IGRldGFpbCwgZmxvYXQgZGlzdG9ydGlvbiwgb3V0IHZlYzQgY29sb3IsIG91dCBmbG9hdCBmYWMpDQp7DQojaWZkZWYgQklUX09QRVJBVElPTlMNCgl2ZWMzIHAgPSBjbyAqIHNjYWxlOw0KCWludCBoYXJkID0gMDsNCglpZiAoZGlzdG9ydGlvbiAhPSAwLjApIHsNCgkJdmVjMyByLCBvZmZzZXQgPSB2ZWMzKDEzLjUsIDEzLjUsIDEzLjUpOw0KCQlyLnggPSBub2lzZShwICsgb2Zmc2V0KSAqIGRpc3RvcnRpb247DQoJCXIueSA9IG5vaXNlKHApICogZGlzdG9ydGlvbjsNCgkJci56ID0gbm9pc2UocCAtIG9mZnNldCkgKiBkaXN0b3J0aW9uOw0KCQlwICs9IHI7DQoJfQ0KDQoJZmFjID0gbm9pc2VfdHVyYnVsZW5jZShwLCBkZXRhaWwsIGhhcmQpOw0KCWNvbG9yID0gdmVjNChmYWMsDQoJICAgICAgICAgICAgIG5vaXNlX3R1cmJ1bGVuY2UodmVjMyhwLnksIHAueCwgcC56KSwgZGV0YWlsLCBoYXJkKSwNCgkgICAgICAgICAgICAgbm9pc2VfdHVyYnVsZW5jZSh2ZWMzKHAueSwgcC56LCBwLngpLCBkZXRhaWwsIGhhcmQpLA0KCSAgICAgICAgICAgICAxKTsNCiNlbHNlICAvLyBCSVRfT1BFUkFUSU9OUw0KCWNvbG9yID0gdmVjNCgxLjApOw0KCWZhYyA9IDEuMDsNCiNlbmRpZiAgLy8gQklUX09QRVJBVElPTlMNCn0NCg0KDQojaWZkZWYgQklUX09QRVJBVElPTlMNCg0KLyogTXVzZ3JhdmUgZkJtDQogKg0KICogSDogZnJhY3RhbCBpbmNyZW1lbnQgcGFyYW1ldGVyDQogKiBsYWN1bmFyaXR5OiBnYXAgYmV0d2VlbiBzdWNjZXNzaXZlIGZyZXF1ZW5jaWVzDQogKiBvY3RhdmVzOiBudW1iZXIgb2YgZnJlcXVlbmNpZXMgdmFyeWluZyB0aGUgZkJtDQogKg0KICogZnJvbSAiVGV4dHVyaW5nIGFuZCBNb2RlbGxpbmc6IEEgcHJvY2VkdXJhbCBhcHByb2FjaCINCiAqLw0KDQpmbG9hdCBub2lzZV9tdXNncmF2ZV9mQm0odmVjMyBwLCBmbG9hdCBILCBmbG9hdCBsYWN1bmFyaXR5LCBmbG9hdCBvY3RhdmVzKQ0Kew0KCWZsb2F0IHJtZDsNCglmbG9hdCB2YWx1ZSA9IDAuMDsNCglmbG9hdCBwd3IgPSAxLjA7DQoJZmxvYXQgcHdITCA9IHBvdyhsYWN1bmFyaXR5LCAtSCk7DQoJaW50IGk7DQoNCglmb3IgKGkgPSAwOyBpIDwgaW50KG9jdGF2ZXMpOyBpKyspIHsNCgkJdmFsdWUgKz0gc25vaXNlKHApICogcHdyOw0KCQlwd3IgKj0gcHdITDsNCgkJcCAqPSBsYWN1bmFyaXR5Ow0KCX0NCg0KCXJtZCA9IG9jdGF2ZXMgLSBmbG9vcihvY3RhdmVzKTsNCglpZiAocm1kICE9IDAuMCkNCgkJdmFsdWUgKz0gcm1kICogc25vaXNlKHApICogcHdyOw0KDQoJcmV0dXJuIHZhbHVlOw0KfQ0KDQovKiBNdXNncmF2ZSBNdWx0aWZyYWN0YWwNCiAqDQogKiBIOiBoaWdoZXN0IGZyYWN0YWwgZGltZW5zaW9uDQogKiBsYWN1bmFyaXR5OiBnYXAgYmV0d2VlbiBzdWNjZXNzaXZlIGZyZXF1ZW5jaWVzDQogKiBvY3RhdmVzOiBudW1iZXIgb2YgZnJlcXVlbmNpZXMgdmFyeWluZyB0aGUgZkJtDQogKi8NCg0KZmxvYXQgbm9pc2VfbXVzZ3JhdmVfbXVsdGlfZnJhY3RhbCh2ZWMzIHAsIGZsb2F0IEgsIGZsb2F0IGxhY3VuYXJpdHksIGZsb2F0IG9jdGF2ZXMpDQp7DQoJZmxvYXQgcm1kOw0KCWZsb2F0IHZhbHVlID0gMS4wOw0KCWZsb2F0IHB3ciA9IDEuMDsNCglmbG9hdCBwd0hMID0gcG93KGxhY3VuYXJpdHksIC1IKTsNCglpbnQgaTsNCg0KCWZvciAoaSA9IDA7IGkgPCBpbnQob2N0YXZlcyk7IGkrKykgew0KCQl2YWx1ZSAqPSAocHdyICogc25vaXNlKHApICsgMS4wKTsNCgkJcHdyICo9IHB3SEw7DQoJCXAgKj0gbGFjdW5hcml0eTsNCgl9DQoNCglybWQgPSBvY3RhdmVzIC0gZmxvb3Iob2N0YXZlcyk7DQoJaWYgKHJtZCAhPSAwLjApDQoJCXZhbHVlICo9IChybWQgKiBwd3IgKiBzbm9pc2UocCkgKyAxLjApOyAvKiBjb3JyZWN0PyAqLw0KDQoJcmV0dXJuIHZhbHVlOw0KfQ0KDQovKiBNdXNncmF2ZSBIZXRlcm9nZW5lb3VzIFRlcnJhaW4NCiAqDQogKiBIOiBmcmFjdGFsIGRpbWVuc2lvbiBvZiB0aGUgcm91Z2hlc3QgYXJlYQ0KICogbGFjdW5hcml0eTogZ2FwIGJldHdlZW4gc3VjY2Vzc2l2ZSBmcmVxdWVuY2llcw0KICogb2N0YXZlczogbnVtYmVyIG9mIGZyZXF1ZW5jaWVzIHZhcnlpbmcgdGhlIGZCbQ0KICogb2Zmc2V0OiByYWlzZXMgdGhlIHRlcnJhaW4gZnJvbSBgc2VhIGxldmVsJw0KICovDQoNCmZsb2F0IG5vaXNlX211c2dyYXZlX2hldGVyb190ZXJyYWluKHZlYzMgcCwgZmxvYXQgSCwgZmxvYXQgbGFjdW5hcml0eSwgZmxvYXQgb2N0YXZlcywgZmxvYXQgb2Zmc2V0KQ0Kew0KCWZsb2F0IHZhbHVlLCBpbmNyZW1lbnQsIHJtZDsNCglmbG9hdCBwd0hMID0gcG93KGxhY3VuYXJpdHksIC1IKTsNCglmbG9hdCBwd3IgPSBwd0hMOw0KCWludCBpOw0KDQoJLyogZmlyc3QgdW5zY2FsZWQgb2N0YXZlIG9mIGZ1bmN0aW9uOyBsYXRlciBvY3RhdmVzIGFyZSBzY2FsZWQgKi8NCgl2YWx1ZSA9IG9mZnNldCArIHNub2lzZShwKTsNCglwICo9IGxhY3VuYXJpdHk7DQoNCglmb3IgKGkgPSAxOyBpIDwgaW50KG9jdGF2ZXMpOyBpKyspIHsNCgkJaW5jcmVtZW50ID0gKHNub2lzZShwKSArIG9mZnNldCkgKiBwd3IgKiB2YWx1ZTsNCgkJdmFsdWUgKz0gaW5jcmVtZW50Ow0KCQlwd3IgKj0gcHdITDsNCgkJcCAqPSBsYWN1bmFyaXR5Ow0KCX0NCg0KCXJtZCA9IG9jdGF2ZXMgLSBmbG9vcihvY3RhdmVzKTsNCglpZiAocm1kICE9IDAuMCkgew0KCQlpbmNyZW1lbnQgPSAoc25vaXNlKHApICsgb2Zmc2V0KSAqIHB3ciAqIHZhbHVlOw0KCQl2YWx1ZSArPSBybWQgKiBpbmNyZW1lbnQ7DQoJfQ0KDQoJcmV0dXJuIHZhbHVlOw0KfQ0KDQovKiBIeWJyaWQgQWRkaXRpdmUvTXVsdGlwbGljYXRpdmUgTXVsdGlmcmFjdGFsIFRlcnJhaW4NCiAqDQogKiBIOiBmcmFjdGFsIGRpbWVuc2lvbiBvZiB0aGUgcm91Z2hlc3QgYXJlYQ0KICogbGFjdW5hcml0eTogZ2FwIGJldHdlZW4gc3VjY2Vzc2l2ZSBmcmVxdWVuY2llcw0KICogb2N0YXZlczogbnVtYmVyIG9mIGZyZXF1ZW5jaWVzIHZhcnlpbmcgdGhlIGZCbQ0KICogb2Zmc2V0OiByYWlzZXMgdGhlIHRlcnJhaW4gZnJvbSBgc2VhIGxldmVsJw0KICovDQoNCmZsb2F0IG5vaXNlX211c2dyYXZlX2h5YnJpZF9tdWx0aV9mcmFjdGFsKHZlYzMgcCwgZmxvYXQgSCwgZmxvYXQgbGFjdW5hcml0eSwgZmxvYXQgb2N0YXZlcywgZmxvYXQgb2Zmc2V0LCBmbG9hdCBnYWluKQ0Kew0KCWZsb2F0IHJlc3VsdCwgc2lnbmFsLCB3ZWlnaHQsIHJtZDsNCglmbG9hdCBwd0hMID0gcG93KGxhY3VuYXJpdHksIC1IKTsNCglmbG9hdCBwd3IgPSBwd0hMOw0KCWludCBpOw0KDQoJcmVzdWx0ID0gc25vaXNlKHApICsgb2Zmc2V0Ow0KCXdlaWdodCA9IGdhaW4gKiByZXN1bHQ7DQoJcCAqPSBsYWN1bmFyaXR5Ow0KDQoJZm9yIChpID0gMTsgKHdlaWdodCA+IDAuMDAxZikgJiYgKGkgPCBpbnQob2N0YXZlcykpOyBpKyspIHsNCgkJaWYgKHdlaWdodCA+IDEuMCkNCgkJCXdlaWdodCA9IDEuMDsNCg0KCQlzaWduYWwgPSAoc25vaXNlKHApICsgb2Zmc2V0KSAqIHB3cjsNCgkJcHdyICo9IHB3SEw7DQoJCXJlc3VsdCArPSB3ZWlnaHQgKiBzaWduYWw7DQoJCXdlaWdodCAqPSBnYWluICogc2lnbmFsOw0KCQlwICo9IGxhY3VuYXJpdHk7DQoJfQ0KDQoJcm1kID0gb2N0YXZlcyAtIGZsb29yKG9jdGF2ZXMpOw0KCWlmIChybWQgIT0gMC4wKQ0KCQlyZXN1bHQgKz0gcm1kICogKChzbm9pc2UocCkgKyBvZmZzZXQpICogcHdyKTsNCg0KCXJldHVybiByZXN1bHQ7DQp9DQoNCi8qIFJpZGdlZCBNdWx0aWZyYWN0YWwgVGVycmFpbg0KICoNCiAqIEg6IGZyYWN0YWwgZGltZW5zaW9uIG9mIHRoZSByb3VnaGVzdCBhcmVhDQogKiBsYWN1bmFyaXR5OiBnYXAgYmV0d2VlbiBzdWNjZXNzaXZlIGZyZXF1ZW5jaWVzDQogKiBvY3RhdmVzOiBudW1iZXIgb2YgZnJlcXVlbmNpZXMgdmFyeWluZyB0aGUgZkJtDQogKiBvZmZzZXQ6IHJhaXNlcyB0aGUgdGVycmFpbiBmcm9tIGBzZWEgbGV2ZWwnDQogKi8NCg0KZmxvYXQgbm9pc2VfbXVzZ3JhdmVfcmlkZ2VkX211bHRpX2ZyYWN0YWwodmVjMyBwLCBmbG9hdCBILCBmbG9hdCBsYWN1bmFyaXR5LCBmbG9hdCBvY3RhdmVzLCBmbG9hdCBvZmZzZXQsIGZsb2F0IGdhaW4pDQp7DQoJZmxvYXQgcmVzdWx0LCBzaWduYWwsIHdlaWdodDsNCglmbG9hdCBwd0hMID0gcG93KGxhY3VuYXJpdHksIC1IKTsNCglmbG9hdCBwd3IgPSBwd0hMOw0KCWludCBpOw0KDQoJc2lnbmFsID0gb2Zmc2V0IC0gYWJzKHNub2lzZShwKSk7DQoJc2lnbmFsICo9IHNpZ25hbDsNCglyZXN1bHQgPSBzaWduYWw7DQoJd2VpZ2h0ID0gMS4wOw0KDQoJZm9yIChpID0gMTsgaSA8IGludChvY3RhdmVzKTsgaSsrKSB7DQoJCXAgKj0gbGFjdW5hcml0eTsNCgkJd2VpZ2h0ID0gY2xhbXAoc2lnbmFsICogZ2FpbiwgMC4wLCAxLjApOw0KCQlzaWduYWwgPSBvZmZzZXQgLSBhYnMoc25vaXNlKHApKTsNCgkJc2lnbmFsICo9IHNpZ25hbDsNCgkJc2lnbmFsICo9IHdlaWdodDsNCgkJcmVzdWx0ICs9IHNpZ25hbCAqIHB3cjsNCgkJcHdyICo9IHB3SEw7DQoJfQ0KDQoJcmV0dXJuIHJlc3VsdDsNCn0NCg0KZmxvYXQgc3ZtX211c2dyYXZlKGludCB0eXBlLA0KICAgICAgICAgICAgICAgICAgIGZsb2F0IGRpbWVuc2lvbiwNCiAgICAgICAgICAgICAgICAgICBmbG9hdCBsYWN1bmFyaXR5LA0KICAgICAgICAgICAgICAgICAgIGZsb2F0IG9jdGF2ZXMsDQogICAgICAgICAgICAgICAgICAgZmxvYXQgb2Zmc2V0LA0KICAgICAgICAgICAgICAgICAgIGZsb2F0IGludGVuc2l0eSwNCiAgICAgICAgICAgICAgICAgICBmbG9hdCBnYWluLA0KICAgICAgICAgICAgICAgICAgIHZlYzMgcCkNCnsNCglpZiAodHlwZSA9PSAwIC8qTk9ERV9NVVNHUkFWRV9NVUxUSUZSQUNUQUwqLykNCgkJcmV0dXJuIGludGVuc2l0eSAqIG5vaXNlX211c2dyYXZlX211bHRpX2ZyYWN0YWwocCwgZGltZW5zaW9uLCBsYWN1bmFyaXR5LCBvY3RhdmVzKTsNCgllbHNlIGlmICh0eXBlID09IDEgLypOT0RFX01VU0dSQVZFX0ZCTSovKQ0KCQlyZXR1cm4gaW50ZW5zaXR5ICogbm9pc2VfbXVzZ3JhdmVfZkJtKHAsIGRpbWVuc2lvbiwgbGFjdW5hcml0eSwgb2N0YXZlcyk7DQoJZWxzZSBpZiAodHlwZSA9PSAyIC8qTk9ERV9NVVNHUkFWRV9IWUJSSURfTVVMVElGUkFDVEFMKi8pDQoJCXJldHVybiBpbnRlbnNpdHkgKiBub2lzZV9tdXNncmF2ZV9oeWJyaWRfbXVsdGlfZnJhY3RhbChwLCBkaW1lbnNpb24sIGxhY3VuYXJpdHksIG9jdGF2ZXMsIG9mZnNldCwgZ2Fpbik7DQoJZWxzZSBpZiAodHlwZSA9PSAzIC8qTk9ERV9NVVNHUkFWRV9SSURHRURfTVVMVElGUkFDVEFMKi8pDQoJCXJldHVybiBpbnRlbnNpdHkgKiBub2lzZV9tdXNncmF2ZV9yaWRnZWRfbXVsdGlfZnJhY3RhbChwLCBkaW1lbnNpb24sIGxhY3VuYXJpdHksIG9jdGF2ZXMsIG9mZnNldCwgZ2Fpbik7DQoJZWxzZSBpZiAodHlwZSA9PSA0IC8qTk9ERV9NVVNHUkFWRV9IRVRFUk9fVEVSUkFJTiovKQ0KCQlyZXR1cm4gaW50ZW5zaXR5ICogbm9pc2VfbXVzZ3JhdmVfaGV0ZXJvX3RlcnJhaW4ocCwgZGltZW5zaW9uLCBsYWN1bmFyaXR5LCBvY3RhdmVzLCBvZmZzZXQpOw0KCXJldHVybiAwLjA7DQp9DQojZW5kaWYgIC8vICNpZmRlZiBCSVRfT1BFUkFUSU9OUw0KDQp2b2lkIG5vZGVfdGV4X211c2dyYXZlKHZlYzMgY28sDQogICAgICAgICAgICAgICAgICAgICAgIGZsb2F0IHNjYWxlLA0KICAgICAgICAgICAgICAgICAgICAgICBmbG9hdCBkZXRhaWwsDQogICAgICAgICAgICAgICAgICAgICAgIGZsb2F0IGRpbWVuc2lvbiwNCiAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQgbGFjdW5hcml0eSwNCiAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQgb2Zmc2V0LA0KICAgICAgICAgICAgICAgICAgICAgICBmbG9hdCBnYWluLA0KICAgICAgICAgICAgICAgICAgICAgICBmbG9hdCB0eXBlLA0KICAgICAgICAgICAgICAgICAgICAgICBvdXQgdmVjNCBjb2xvciwNCiAgICAgICAgICAgICAgICAgICAgICAgb3V0IGZsb2F0IGZhYykNCnsNCiNpZmRlZiBCSVRfT1BFUkFUSU9OUw0KCWZhYyA9IHN2bV9tdXNncmF2ZShpbnQodHlwZSksDQoJICAgICAgICAgICAgICAgICAgIGRpbWVuc2lvbiwNCgkgICAgICAgICAgICAgICAgICAgbGFjdW5hcml0eSwNCgkgICAgICAgICAgICAgICAgICAgZGV0YWlsLA0KCSAgICAgICAgICAgICAgICAgICBvZmZzZXQsDQoJICAgICAgICAgICAgICAgICAgIDEuMCwNCgkgICAgICAgICAgICAgICAgICAgZ2FpbiwNCgkgICAgICAgICAgICAgICAgICAgY28gKiBzY2FsZSk7DQojZWxzZQ0KCWZhYyA9IDEuMDsNCiNlbmRpZg0KDQoJY29sb3IgPSB2ZWM0KGZhYywgZmFjLCBmYWMsIDEuMCk7DQp9DQoNCnZvaWQgbm9kZV90ZXhfc2t5KHZlYzMgY28sIG91dCB2ZWM0IGNvbG9yKQ0Kew0KCWNvbG9yID0gdmVjNCgxLjApOw0KfQ0KDQp2b2lkIG5vZGVfdGV4X3Zvcm9ub2kodmVjMyBjbywgZmxvYXQgc2NhbGUsIGZsb2F0IGNvbG9yaW5nLCBvdXQgdmVjNCBjb2xvciwgb3V0IGZsb2F0IGZhYykNCnsNCiNpZmRlZiBCSVRfT1BFUkFUSU9OUw0KCXZlYzMgcCA9IGNvICogc2NhbGU7DQoJaW50IHh4LCB5eSwgenosIHhpLCB5aSwgemk7DQoJZmxvYXQgZGFbNF07DQoJdmVjMyBwYVs0XTsNCg0KCXhpID0gZmxvb3JfdG9faW50KHBbMF0pOw0KCXlpID0gZmxvb3JfdG9faW50KHBbMV0pOw0KCXppID0gZmxvb3JfdG9faW50KHBbMl0pOw0KDQoJZGFbMF0gPSAxZSsxMDsNCglkYVsxXSA9IDFlKzEwOw0KCWRhWzJdID0gMWUrMTA7DQoJZGFbM10gPSAxZSsxMDsNCg0KCWZvciAoeHggPSB4aSAtIDE7IHh4IDw9IHhpICsgMTsgeHgrKykgew0KCQlmb3IgKHl5ID0geWkgLSAxOyB5eSA8PSB5aSArIDE7IHl5KyspIHsNCgkJCWZvciAoenogPSB6aSAtIDE7IHp6IDw9IHppICsgMTsgenorKykgew0KCQkJCXZlYzMgaXAgPSB2ZWMzKHh4LCB5eSwgenopOw0KCQkJCXZlYzMgdnAgPSBjZWxsbm9pc2VfY29sb3IoaXApOw0KCQkJCXZlYzMgcGQgPSBwIC0gKHZwICsgaXApOw0KCQkJCWZsb2F0IGQgPSBkb3QocGQsIHBkKTsNCgkJCQl2cCArPSB2ZWMzKHh4LCB5eSwgenopOw0KCQkJCWlmIChkIDwgZGFbMF0pIHsNCgkJCQkJZGFbM10gPSBkYVsyXTsNCgkJCQkJZGFbMl0gPSBkYVsxXTsNCgkJCQkJZGFbMV0gPSBkYVswXTsNCgkJCQkJZGFbMF0gPSBkOw0KCQkJCQlwYVszXSA9IHBhWzJdOw0KCQkJCQlwYVsyXSA9IHBhWzFdOw0KCQkJCQlwYVsxXSA9IHBhWzBdOw0KCQkJCQlwYVswXSA9IHZwOw0KCQkJCX0NCgkJCQllbHNlIGlmIChkIDwgZGFbMV0pIHsNCgkJCQkJZGFbM10gPSBkYVsyXTsNCgkJCQkJZGFbMl0gPSBkYVsxXTsNCgkJCQkJZGFbMV0gPSBkOw0KDQoJCQkJCXBhWzNdID0gcGFbMl07DQoJCQkJCXBhWzJdID0gcGFbMV07DQoJCQkJCXBhWzFdID0gdnA7DQoJCQkJfQ0KCQkJCWVsc2UgaWYgKGQgPCBkYVsyXSkgew0KCQkJCQlkYVszXSA9IGRhWzJdOw0KCQkJCQlkYVsyXSA9IGQ7DQoNCgkJCQkJcGFbM10gPSBwYVsyXTsNCgkJCQkJcGFbMl0gPSB2cDsNCgkJCQl9DQoJCQkJZWxzZSBpZiAoZCA8IGRhWzNdKSB7DQoJCQkJCWRhWzNdID0gZDsNCgkJCQkJcGFbM10gPSB2cDsNCgkJCQl9DQoJCQl9DQoJCX0NCgl9DQoNCglpZiAoY29sb3JpbmcgPT0gMC4wKSB7DQoJCWZhYyA9IGFicyhkYVswXSk7DQoJCWNvbG9yID0gdmVjNChmYWMsIGZhYywgZmFjLCAxKTsNCgl9DQoJZWxzZSB7DQoJCWNvbG9yID0gdmVjNChjZWxsbm9pc2VfY29sb3IocGFbMF0pLCAxKTsNCgkJZmFjID0gKGNvbG9yLnggKyBjb2xvci55ICsgY29sb3IueikgKiAoMS4wIC8gMy4wKTsNCgl9DQojZWxzZSAgLy8gQklUX09QRVJBVElPTlMNCgljb2xvciA9IHZlYzQoMS4wKTsNCglmYWMgPSAxLjA7DQojZW5kaWYgIC8vIEJJVF9PUEVSQVRJT05TDQp9DQoNCiNpZmRlZiBCSVRfT1BFUkFUSU9OUw0KZmxvYXQgY2FsY193YXZlKHZlYzMgcCwgZmxvYXQgZGlzdG9ydGlvbiwgZmxvYXQgZGV0YWlsLCBmbG9hdCBkZXRhaWxfc2NhbGUsIGludCB3YXZlX3R5cGUsIGludCB3YXZlX3Byb2ZpbGUpDQp7DQoJZmxvYXQgbjsNCg0KCWlmICh3YXZlX3R5cGUgPT0gMCkgLyogdHlwZSBiYW5kcyAqLw0KCQluID0gKHAueCArIHAueSArIHAueikgKiAxMC4wOw0KCWVsc2UgLyogdHlwZSByaW5ncyAqLw0KCQluID0gbGVuZ3RoKHApICogMjAuMDsNCg0KCWlmIChkaXN0b3J0aW9uICE9IDAuMCkNCgkJbiArPSBkaXN0b3J0aW9uICogbm9pc2VfdHVyYnVsZW5jZShwICogZGV0YWlsX3NjYWxlLCBkZXRhaWwsIDApOw0KDQoJaWYgKHdhdmVfcHJvZmlsZSA9PSAwKSB7IC8qIHByb2ZpbGUgc2luICovDQoJCXJldHVybiAwLjUgKyAwLjUgKiBzaW4obik7DQoJfQ0KCWVsc2UgeyAvKiBwcm9maWxlIHNhdyAqLw0KCQluIC89IDIuMCAqIE1fUEk7DQoJCW4gLT0gaW50KG4pOw0KCQlyZXR1cm4gKG4gPCAwLjApID8gbiArIDEuMCA6IG47DQoJfQ0KfQ0KI2VuZGlmICAvLyBCSVRfT1BFUkFUSU9OUw0KDQp2b2lkIG5vZGVfdGV4X3dhdmUoDQogICAgICAgIHZlYzMgY28sIGZsb2F0IHNjYWxlLCBmbG9hdCBkaXN0b3J0aW9uLCBmbG9hdCBkZXRhaWwsIGZsb2F0IGRldGFpbF9zY2FsZSwgZmxvYXQgd2F2ZV90eXBlLCBmbG9hdCB3YXZlX3Byb2ZpbGUsDQogICAgICAgIG91dCB2ZWM0IGNvbG9yLCBvdXQgZmxvYXQgZmFjKQ0Kew0KI2lmZGVmIEJJVF9PUEVSQVRJT05TDQoJZmxvYXQgZjsNCglmID0gY2FsY193YXZlKGNvICogc2NhbGUsIGRpc3RvcnRpb24sIGRldGFpbCwgZGV0YWlsX3NjYWxlLCBpbnQod2F2ZV90eXBlKSwgaW50KHdhdmVfcHJvZmlsZSkpOw0KDQoJY29sb3IgPSB2ZWM0KGYsIGYsIGYsIDEuMCk7DQoJZmFjID0gZjsNCiNlbHNlICAvLyBCSVRfT1BFUkFUSU9OUw0KCWNvbG9yID0gdmVjNCgxLjApOw0KCWZhYyA9IDE7DQojZW5kaWYgIC8vIEJJVF9PUEVSQVRJT05TDQp9DQoNCi8qIGxpZ2h0IHBhdGggKi8NCg0Kdm9pZCBub2RlX2xpZ2h0X3BhdGgoDQoJb3V0IGZsb2F0IGlzX2NhbWVyYV9yYXksDQoJb3V0IGZsb2F0IGlzX3NoYWRvd19yYXksDQoJb3V0IGZsb2F0IGlzX2RpZmZ1c2VfcmF5LA0KCW91dCBmbG9hdCBpc19nbG9zc3lfcmF5LA0KCW91dCBmbG9hdCBpc19zaW5ndWxhcl9yYXksDQoJb3V0IGZsb2F0IGlzX3JlZmxlY3Rpb25fcmF5LA0KCW91dCBmbG9hdCBpc190cmFuc21pc3Npb25fcmF5LA0KCW91dCBmbG9hdCByYXlfbGVuZ3RoLA0KCW91dCBmbG9hdCByYXlfZGVwdGgsDQoJb3V0IGZsb2F0IGRpZmZ1c2VfZGVwdGgsDQoJb3V0IGZsb2F0IGdsb3NzeV9kZXB0aCwNCglvdXQgZmxvYXQgdHJhbnNwYXJlbnRfZGVwdGgsDQoJb3V0IGZsb2F0IHRyYW5zbWlzc2lvbl9kZXB0aCkNCnsNCglpc19jYW1lcmFfcmF5ID0gMS4wOw0KCWlzX3NoYWRvd19yYXkgPSAwLjA7DQoJaXNfZGlmZnVzZV9yYXkgPSAwLjA7DQoJaXNfZ2xvc3N5X3JheSA9IDAuMDsNCglpc19zaW5ndWxhcl9yYXkgPSAwLjA7DQoJaXNfcmVmbGVjdGlvbl9yYXkgPSAwLjA7DQoJaXNfdHJhbnNtaXNzaW9uX3JheSA9IDAuMDsNCglyYXlfbGVuZ3RoID0gMS4wOw0KCXJheV9kZXB0aCA9IDEuMDsNCglkaWZmdXNlX2RlcHRoID0gMS4wOw0KCWdsb3NzeV9kZXB0aCA9IDEuMDsNCgl0cmFuc3BhcmVudF9kZXB0aCA9IDEuMDsNCgl0cmFuc21pc3Npb25fZGVwdGggPSAxLjA7DQp9DQoNCnZvaWQgbm9kZV9saWdodF9mYWxsb2ZmKGZsb2F0IHN0cmVuZ3RoLCBmbG9hdCB0c21vb3RoLCBvdXQgZmxvYXQgcXVhZHJhdGljLCBvdXQgZmxvYXQgbGluZWFyLCBvdXQgZmxvYXQgY29uc3RhbnQpDQp7DQoJcXVhZHJhdGljID0gc3RyZW5ndGg7DQoJbGluZWFyID0gc3RyZW5ndGg7DQoJY29uc3RhbnQgPSBzdHJlbmd0aDsNCn0NCg0Kdm9pZCBub2RlX29iamVjdF9pbmZvKG1hdDQgb2JtYXQsIHZlYzMgaW5mbywgb3V0IHZlYzMgbG9jYXRpb24sIG91dCBmbG9hdCBvYmplY3RfaW5kZXgsIG91dCBmbG9hdCBtYXRlcmlhbF9pbmRleCwgb3V0IGZsb2F0IHJhbmRvbSkNCnsNCglsb2NhdGlvbiA9IG9ibWF0WzNdLnh5ejsNCglvYmplY3RfaW5kZXggPSBpbmZvLng7DQoJbWF0ZXJpYWxfaW5kZXggPSBpbmZvLnk7DQoJcmFuZG9tID0gaW5mby56Ow0KfQ0KDQp2b2lkIG5vZGVfbm9ybWFsX21hcCh2ZWM0IHRhbmdlbnQsIHZlYzMgbm9ybWFsLCB2ZWMzIHRleG5vcm1hbCwgb3V0IHZlYzMgb3V0bm9ybWFsKQ0Kew0KCXZlYzMgQiA9IHRhbmdlbnQudyAqIGNyb3NzKG5vcm1hbCwgdGFuZ2VudC54eXopOw0KDQoJb3V0bm9ybWFsID0gdGV4bm9ybWFsLnggKiB0YW5nZW50Lnh5eiArIHRleG5vcm1hbC55ICogQiArIHRleG5vcm1hbC56ICogbm9ybWFsOw0KCW91dG5vcm1hbCA9IG5vcm1hbGl6ZShvdXRub3JtYWwpOw0KfQ0KDQp2b2lkIG5vZGVfYnVtcChmbG9hdCBzdHJlbmd0aCwgZmxvYXQgZGlzdCwgZmxvYXQgaGVpZ2h0LCB2ZWMzIE4sIHZlYzMgc3VyZl9wb3MsIGZsb2F0IGludmVydCwgb3V0IHZlYzMgcmVzdWx0KQ0Kew0KCWlmIChpbnZlcnQgIT0gMC4wKSB7DQoJCWRpc3QgKj0gLTEuMDsNCgl9DQoJdmVjMyBkUGR4ID0gZEZkeChzdXJmX3Bvcyk7DQoJdmVjMyBkUGR5ID0gZEZkeShzdXJmX3Bvcyk7DQoNCgkvKiBHZXQgc3VyZmFjZSB0YW5nZW50cyBmcm9tIG5vcm1hbC4gKi8NCgl2ZWMzIFJ4ID0gY3Jvc3MoZFBkeSwgTik7DQoJdmVjMyBSeSA9IGNyb3NzKE4sIGRQZHgpOw0KDQoJLyogQ29tcHV0ZSBzdXJmYWNlIGdyYWRpZW50IGFuZCBkZXRlcm1pbmFudC4gKi8NCglmbG9hdCBkZXQgPSBkb3QoZFBkeCwgUngpOw0KCWZsb2F0IGFic2RldCA9IGFicyhkZXQpOw0KDQoJZmxvYXQgZEhkeCA9IGRGZHgoaGVpZ2h0KTsNCglmbG9hdCBkSGR5ID0gZEZkeShoZWlnaHQpOw0KCXZlYzMgc3VyZmdyYWQgPSBkSGR4ICogUnggKyBkSGR5ICogUnk7DQoNCglzdHJlbmd0aCA9IG1heChzdHJlbmd0aCwgMC4wKTsNCg0KCXJlc3VsdCA9IG5vcm1hbGl6ZShhYnNkZXQgKiBOIC0gZGlzdCAqIHNpZ24oZGV0KSAqIHN1cmZncmFkKTsNCglyZXN1bHQgPSBub3JtYWxpemUoc3RyZW5ndGggKiByZXN1bHQgKyAoMS4wIC0gc3RyZW5ndGgpICogTik7DQp9DQoNCi8qIG91dHB1dCAqLw0KDQp2b2lkIG5vZGVfb3V0cHV0X21hdGVyaWFsKHZlYzQgc3VyZmFjZSwgdmVjNCB2b2x1bWUsIGZsb2F0IGRpc3BsYWNlbWVudCwgb3V0IHZlYzQgcmVzdWx0KQ0Kew0KCXJlc3VsdCA9IHN1cmZhY2U7DQp9DQoNCnZvaWQgbm9kZV9vdXRwdXRfd29ybGQodmVjNCBzdXJmYWNlLCB2ZWM0IHZvbHVtZSwgb3V0IHZlYzQgcmVzdWx0KQ0Kew0KCXJlc3VsdCA9IHN1cmZhY2U7DQp9DQoNCi8qICoqKioqKioqKioqKioqKioqKioqKiogbWF0Y2FwIHN0eWxlIHJlbmRlciAqKioqKioqKioqKioqKioqKioqKiAqLw0KDQp2b2lkIG1hdGVyaWFsX3ByZXZpZXdfbWF0Y2FwKHZlYzQgY29sb3IsIHNhbXBsZXIyRCBpbWEsIHZlYzQgTiwgdmVjNCBtYXNrLCBvdXQgdmVjNCByZXN1bHQpDQp7DQoJdmVjMyBub3JtYWw7DQoJdmVjMiB0ZXg7DQoJDQojaWZuZGVmIFVTRV9PUEVOU1VCRElWDQoJLyogcmVtYXAgdG8gMC4wIC0gMS4wIHJhbmdlLiBUaGlzIGlzIGRvbmUgYmVjYXVzZSBPcGVuR0wgMi4wIGNsYW1wcyBjb2xvcnMNCgkgKiBiZXR3ZWVuIHNoYWRlciBzdGFnZXMgYW5kIHdlIHdhbnQgdGhlIGZ1bGwgcmFuZ2Ugb2YgdGhlIG5vcm1hbCAqLw0KCW5vcm1hbCA9IHZlYzMoMi4wLCAyLjAsIDIuMCkgKiB2ZWMzKE4ueCwgTi55LCBOLnopIC0gdmVjMygxLjAsIDEuMCwgMS4wKTsNCglpZiAobm9ybWFsLnogPCAwLjApIHsNCgkJbm9ybWFsLnogPSAwLjA7DQoJfQ0KCW5vcm1hbCA9IG5vcm1hbGl6ZShub3JtYWwpOw0KI2Vsc2UNCglub3JtYWwgPSBpbnB0LnYubm9ybWFsOw0KCW1hc2sgPSB2ZWM0KDEuMCwgMS4wLCAxLjAsIDEuMCk7DQojZW5kaWYNCg0KCXRleC54ID0gMC41ICsgMC40OSAqIG5vcm1hbC54Ow0KCXRleC55ID0gMC41ICsgMC40OSAqIG5vcm1hbC55Ow0KCXJlc3VsdCA9IHRleHR1cmUyRChpbWEsIHRleCkgKiBtYXNrOw0KfQ0KY29uc3QgdmVjNCBjb25zMSA9IHZlYzQoMC4wMDAwMDAwMDAwMDAsIDAuMDAwMDAwMDAwMDAwLCAwLjAwMDAwMDAwMDAwMCwgMS4wMDAwMDAwMDAwMDApOwpjb25zdCBmbG9hdCBjb25zMiA9IGZsb2F0KDEwLjAwMDAwMDAwMDAwMCk7CnZhcnlpbmcgdmVjMyB2YXJub3JtYWw7CmNvbnN0IHZlYzQgY29uczYgPSB2ZWM0KDAuMDAwMDAwMDAwMDAwLCAwLjAwMDAwMDAwMDAwMCwgMC4wMDAwMDAwMDAwMDAsIDEuMDAwMDAwMDAwMDAwKTsKY29uc3QgZmxvYXQgY29uczcgPSBmbG9hdCgwLjAwMDAwMDAwMDAwMCk7Cgp2b2lkIG1haW4oKQp7Cgl2ZWMzIGZhY2luZ25vcm1hbCA9IGdsX0Zyb250RmFjaW5nPyB2YXJub3JtYWw6IC12YXJub3JtYWw7Cgl2ZWM0IHRtcDQ7Cgl2ZWM0IHRtcDg7Cgl2ZWM0IHRtcDEwOwoKCW5vZGVfZW1pc3Npb24oY29uczEsIGNvbnMyLCBmYWNpbmdub3JtYWwsIHRtcDQpOwoJbm9kZV9vdXRwdXRfbWF0ZXJpYWwodG1wNCwgY29uczYsIGNvbnM3LCB0bXA4KTsKCWxpbmVhcnJnYl90b19zcmdiKHRtcDgsIHRtcDEwKTsKCglnbF9GcmFnQ29sb3IgPSB0bXAxMDsKfQo="
        },
        "shaders_Neon OffVS": {
            "name": "Neon OffVS",
            "type": 35633,
            "uri": "data:text/plain;base64,I3ZlcnNpb24gMTAwCgpwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKcHJlY2lzaW9uIG1lZGl1bXAgaW50OwoKYXR0cmlidXRlIHZlYzQgYmxfVmVydGV4OwphdHRyaWJ1dGUgdmVjMyBibF9Ob3JtYWw7CnVuaWZvcm0gbWF0NCBibF9Nb2RlbFZpZXdNYXRyaXg7CnVuaWZvcm0gbWF0NCBibF9Qcm9qZWN0aW9uTWF0cml4Owp1bmlmb3JtIG1hdDMgYmxfTm9ybWFsTWF0cml4OwoKDQoNCnZhcnlpbmcgdmVjMyB2YXJwb3NpdGlvbjsNCnZhcnlpbmcgdmVjMyB2YXJub3JtYWw7DQoNCg0KDQoNCi8qIENvbG9yLCBrZWVwIGF0dHJpYnV0ZSBzeW5jIHdpdGg6IGdwdV9zaGFkZXJfdmVydGV4X3dvcmxkLmdsc2wgKi8NCg0KZmxvYXQgc3JnYl90b19saW5lYXJyZ2IoZmxvYXQgYykNCnsNCglpZiAoYyA8IDAuMDQwNDUpDQoJCXJldHVybiAoYyA8IDAuMCkgPyAwLjAgOiBjICogKDEuMCAvIDEyLjkyKTsNCgllbHNlDQoJCXJldHVybiBwb3coKGMgKyAwLjA1NSkgKiAoMS4wIC8gMS4wNTUpLCAyLjQpOw0KfQ0KDQp2b2lkIHNyZ2JfdG9fbGluZWFycmdiKHZlYzMgY29sX2Zyb20sIHZhcnlpbmcgdmVjMyBjb2xfdG8pDQp7DQoJY29sX3RvLnIgPSBzcmdiX3RvX2xpbmVhcnJnYihjb2xfZnJvbS5yKTsNCgljb2xfdG8uZyA9IHNyZ2JfdG9fbGluZWFycmdiKGNvbF9mcm9tLmcpOw0KCWNvbF90by5iID0gc3JnYl90b19saW5lYXJyZ2IoY29sX2Zyb20uYik7DQp9DQoNCnZvaWQgc3JnYl90b19saW5lYXJyZ2IodmVjNCBjb2xfZnJvbSwgdmFyeWluZyB2ZWM0IGNvbF90bykNCnsNCgljb2xfdG8uciA9IHNyZ2JfdG9fbGluZWFycmdiKGNvbF9mcm9tLnIpOw0KCWNvbF90by5nID0gc3JnYl90b19saW5lYXJyZ2IoY29sX2Zyb20uZyk7DQoJY29sX3RvLmIgPSBzcmdiX3RvX2xpbmVhcnJnYihjb2xfZnJvbS5iKTsNCgljb2xfdG8uYSA9IGNvbF9mcm9tLmE7DQp9DQoNCmJvb2wgaXNfc3JnYihpbnQgaW5mbykNCnsNCiNpZmRlZiBVU0VfTkVXX1NIQURJTkcNCglyZXR1cm4gKGluZm8gPT0gMSk/IHRydWU6IGZhbHNlOw0KI2Vsc2UNCglyZXR1cm4gZmFsc2U7DQojZW5kaWYNCn0NCg0Kdm9pZCBzZXRfdmFyX2Zyb21fYXR0cihmbG9hdCBhdHRyLCBpbnQgaW5mbywgdmFyeWluZyBmbG9hdCB2YXIpDQp7DQoJdmFyID0gYXR0cjsNCn0NCg0Kdm9pZCBzZXRfdmFyX2Zyb21fYXR0cih2ZWMyIGF0dHIsIGludCBpbmZvLCB2YXJ5aW5nIHZlYzIgdmFyKQ0Kew0KCXZhciA9IGF0dHI7DQp9DQoNCnZvaWQgc2V0X3Zhcl9mcm9tX2F0dHIodmVjMyBhdHRyLCBpbnQgaW5mbywgdmFyeWluZyB2ZWMzIHZhcikNCnsNCglpZiAoaXNfc3JnYihpbmZvKSkgew0KCQlzcmdiX3RvX2xpbmVhcnJnYihhdHRyLCB2YXIpOw0KCX0NCgllbHNlIHsNCgkJdmFyID0gYXR0cjsNCgl9DQp9DQoNCnZvaWQgc2V0X3Zhcl9mcm9tX2F0dHIodmVjNCBhdHRyLCBpbnQgaW5mbywgdmFyeWluZyB2ZWM0IHZhcikNCnsNCglpZiAoaXNfc3JnYihpbmZvKSkgew0KCQlzcmdiX3RvX2xpbmVhcnJnYihhdHRyLCB2YXIpOw0KCX0NCgllbHNlIHsNCgkJdmFyID0gYXR0cjsNCgl9DQp9DQoNCi8qIGVuZCBjb2xvciBjb2RlICovDQoNCg0Kdm9pZCBtYWluKCkNCnsNCg0KCXZlYzQgcG9zaXRpb24gPSBibF9WZXJ0ZXg7DQoJdmVjMyBub3JtYWwgPSBibF9Ob3JtYWw7DQoNCg0KCXZlYzQgY28gPSBibF9Nb2RlbFZpZXdNYXRyaXggKiBwb3NpdGlvbjsNCg0KCXZhcnBvc2l0aW9uID0gY28ueHl6Ow0KCXZhcm5vcm1hbCA9IG5vcm1hbGl6ZShibF9Ob3JtYWxNYXRyaXggKiBub3JtYWwpOw0KCWdsX1Bvc2l0aW9uID0gYmxfUHJvamVjdGlvbk1hdHJpeCAqIGNvOw0KDQogDQoNCg0KfQo="
        }
    },
    "techniques": {
        "techniques_Carpet": {
            "attributes": {
                "att0": "att0",
                "att1": "att1",
                "bl_Normal": "bl_Normal",
                "bl_Vertex": "bl_Vertex"
            },
            "name": "Carpet",
            "parameters": {
                "att0": {
                    "semantic": "POSITION",
                    "type": 35665
                },
                "att1": {
                    "semantic": "TEXCOORD_0",
                    "type": 35664
                },
                "bl_ModelViewMatrix": {
                    "semantic": "MODELVIEW",
                    "type": 35676
                },
                "bl_Normal": {
                    "semantic": "NORMAL",
                    "type": 35665
                },
                "bl_NormalMatrix": {
                    "semantic": "MODELVIEWINVERSETRANSPOSE",
                    "type": 35675
                },
                "bl_ProjectionMatrix": {
                    "semantic": "PROJECTION",
                    "type": 35676
                },
                "bl_Vertex": {
                    "semantic": "POSITION",
                    "type": 35666
                },
                "samp0": {
                    "type": 35678,
                    "value": "texture_CarpetLane"
                },
                "view_mat": {
                    "type": 35676,
                    "value": null
                }
            },
            "program": "programs_Carpet",
            "uniforms": {
                "bl_ModelViewMatrix": "bl_ModelViewMatrix",
                "bl_NormalMatrix": "bl_NormalMatrix",
                "bl_ProjectionMatrix": "bl_ProjectionMatrix",
                "samp0": "samp0",
                "unfviewmat": "view_mat"
            }
        },
        "techniques_ExteriorWalls": {
            "attributes": {
                "bl_Normal": "bl_Normal",
                "bl_Vertex": "bl_Vertex"
            },
            "name": "ExteriorWalls",
            "parameters": {
                "bl_ModelViewMatrix": {
                    "semantic": "MODELVIEW",
                    "type": 35676
                },
                "bl_Normal": {
                    "semantic": "NORMAL",
                    "type": 35665
                },
                "bl_NormalMatrix": {
                    "semantic": "MODELVIEWINVERSETRANSPOSE",
                    "type": 35675
                },
                "bl_ProjectionMatrix": {
                    "semantic": "PROJECTION",
                    "type": 35676
                },
                "bl_Vertex": {
                    "semantic": "POSITION",
                    "type": 35666
                }
            },
            "program": "programs_ExteriorWalls",
            "uniforms": {
                "bl_ModelViewMatrix": "bl_ModelViewMatrix",
                "bl_NormalMatrix": "bl_NormalMatrix",
                "bl_ProjectionMatrix": "bl_ProjectionMatrix"
            }
        },
        "techniques_Neon Off": {
            "attributes": {
                "bl_Normal": "bl_Normal",
                "bl_Vertex": "bl_Vertex"
            },
            "name": "Neon Off",
            "parameters": {
                "bl_ModelViewMatrix": {
                    "semantic": "MODELVIEW",
                    "type": 35676
                },
                "bl_Normal": {
                    "semantic": "NORMAL",
                    "type": 35665
                },
                "bl_NormalMatrix": {
                    "semantic": "MODELVIEWINVERSETRANSPOSE",
                    "type": 35675
                },
                "bl_ProjectionMatrix": {
                    "semantic": "PROJECTION",
                    "type": 35676
                },
                "bl_Vertex": {
                    "semantic": "POSITION",
                    "type": 35666
                }
            },
            "program": "programs_Neon Off",
            "uniforms": {
                "bl_ModelViewMatrix": "bl_ModelViewMatrix",
                "bl_NormalMatrix": "bl_NormalMatrix",
                "bl_ProjectionMatrix": "bl_ProjectionMatrix"
            }
        }
    },
    "textures": {
        "textures_CarpetLane": {
            "format": 6408,
            "internalFormat": 6408,
            "name": "CarpetLane",
            "sampler": "samplers_default",
            "source": "images_CarpetLane"
        },
        "textures_ExteriorWalls": {
            "format": 6408,
            "internalFormat": 6408,
            "name": "ExteriorWalls",
            "sampler": "samplers_default",
            "source": "images_ExteriorWalls"
        }
    }
}
